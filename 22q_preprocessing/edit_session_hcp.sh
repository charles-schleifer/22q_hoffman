#!/bin/sh
# C. Schleifer 2021
# edits session_hcp.txt files to include proper subject name

sessionfolder=/u/project/cbearden/data/22q/qunex_studyfolder/sessions
# n=198 sessions
sessions="Q_0001_09242012 Q_0001_10152010 Q_0005_04182011 Q_0007_04012011 Q_0009_09292011 Q_0016_03292011 Q_0016_10082012 Q_0019_05052011 Q_0020_03262012 Q_0020_05052011 Q_0021_01132011 Q_0021_11052012 Q_0024_04152011 Q_0024_09212012 Q_0026_03232012 Q_0026_05032013 Q_0033_03192010 Q_0036_03302010 Q_0036_06212012 Q_0036_06282011 Q_0037_04202011 Q_0038_06042010 Q_0039_04132010 Q_0039_06012011 Q_0040_05142010 Q_0040_06272011 Q_0041_09262012 Q_0045_07132010 Q_0045_08302011 Q_0045_10052012 Q_0051_01302012 Q_0052_07302010 Q_0053_08022010 Q_0053_12212012 Q_0054_08062010 Q_0056_08252010 Q_0056_09102012 Q_0059_08032011 Q_0062_11302011 Q_0076_10212010 Q_0077_02292012 Q_0077_03112013 Q_0077_10252010 Q_0078_11102011 Q_0080_11222010 Q_0081_11242010 Q_0082_01062012 Q_0082_01112013 Q_0082_12162010 Q_0085_02242012 Q_0091_03052012 Q_0091_03072011 Q_0092_03102011 Q_0093_03082011 Q_0093_03122012 Q_0093_03122013 Q_0098_04012011 Q_0099_04012011 Q_0100_04082011 Q_0101_01032013 Q_0101_04122011 Q_0102_01032013 Q_0102_04122011 Q_0103_04182011 Q_0103_08272012 Q_0105_05022011 Q_0109_05262011 Q_0112_11142012 Q_0114_02062014 Q_0114_11092012 Q_0117_07062011 Q_0117_08312012 Q_0118_07072011 Q_0124_07292011 Q_0124_09172012 Q_0126_08012011 Q_0127_03052013 Q_0127_08012014 Q_0127_08082011 Q_0130_08132012 Q_0130_08162011 Q_0130_11042014 Q_0132_08222011 Q_0135_09012011 Q_0136_09012011 Q_0137_09022011 Q_0138_09032013 Q_0138_09042012 Q_0138_09062011 Q_0141_10072013 Q_0141_10092012 Q_0146_11082012 Q_0146_12072011 Q_0147_08112015 Q_0147_08142014 Q_0147_12122011 Q_0149_11192012 Q_0149_12192011 Q_0150_11192012 Q_0150_12202011 Q_0151_01122012 Q_0153_01202012 Q_0156_01312012 Q_0156_12102013 Q_0157_01312012 Q_0159_02122013 Q_0161_03012012 Q_0161_04192013 Q_0162_03202012 Q_0163_03262012 Q_0166_01092014 Q_0166_04052012 Q_0168_04052012 Q_0169_04062012 Q_0170_04102012 Q_0170_11252014 Q_0171_04102012 Q_0171_11252014 Q_0172_04122012 Q_0172_04262013 Q_0173_04122012 Q_0173_04172014 Q_0173_04262013 Q_0174_04182012 Q_0174_04272015 Q_0176_04242012 Q_0176_05072013 Q_0177_05012012 Q_0178_05012012 Q_0182_05182012 Q_0184_05242012 Q_0185_05242012 Q_0186_04092015 Q_0188_05242012 Q_0189_05242012 Q_0190_06012012 Q_0190_08132013 Q_0192_06112013 Q_0196_06192015 Q_0196_06202012 Q_0196_09122013 Q_0200_04032015 Q_0200_07092012 Q_0200_08052013 Q_0213_08032012 Q_0215_08062012 Q_0215_08172015 Q_0216_08062012 Q_0216_08172015 Q_0217_01142014 Q_0217_02042015 Q_0217_08092012 Q_0219_08122014 Q_0219_08162012 Q_0219_09012015 Q_0222_08212012 Q_0223_08212012 Q_0227_10032012 Q_0228_01292014 Q_0228_09272012 Q_0229_10022012 Q_0232_12122012 Q_0234_03252014 Q_0234_12132012 Q_0236_03072013 Q_0238_03202013 Q_0238_08042014 Q_0238_11132015 Q_0240_03232015 Q_0240_03272013 Q_0240_06262014 Q_0242_03272013 Q_0242_05162016 Q_0244_09162013 Q_0244_09232014 Q_0246_09242013 Q_0252_12102013 Q_0255_10212014 Q_0260_06092014 Q_0260_10262015 Q_0266_08122014 Q_0268_10132014 Q_0269_10142014 Q_0277_12082014 Q_0284_03182015 Q_0285_03182015 Q_0286_03182015 Q_0287_03182015 Q_0291_04172015 Q_0307_10132015 Q_0310_11182015 Q_0311_12082015 Q_0315_01262016 Q_0321_03232016 Q_0322_03312016 Q_0326_04142016 Q_0327_04142016 Q_0328_04262016"

# get subject id and replace subject: in session_hcp.txt
for session in $sessions;do
	subject="Q_$(echo ${session} | cut -d "_" -f 2)"
	sed -i "/subject/c subject: ${subject}" ${sessionfolder}/${session}/session_hcp.txt
	cat ${sessionfolder}/${session}/session_hcp.txt
	echo "---"
done

