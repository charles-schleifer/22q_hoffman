#!/bin/sh

# C. Schleifer 6/23/21
# Script to batch preprocess timtrio 22q data using qunex container
# Script should not be run directly. Execute functions one by one



#####################################################################
### original study setup run interactively in QuNex container
#####################################################################

# set up study folder
qunex create_study --studyfolder=/u/project/cbearden/data/22q/qunex_studyfolder

# organize raw DICOMS
# this script failed when running in the container (couldn't find dicom_hdr) but works outside of container
source /u/project/cbearden/data/22q/qunex_studyfolder/processing/scripts/22q_copy_raw_dicoms.sh

# import DICOMs 
# https://bitbucket.org/oriadev/qunex/wiki/UsageDocs/OnboardingDICOMData.md
qunex import_dicom --sessionsfolder=/u/project/cbearden/data/22q/qunex_studyfolder/sessions --gzip=yes --check="any"

# HCP mapping
# https://bitbucket.org/oriadev/qunex/wiki/UsageDocs/PreparingMappingFile.md
# create session_hcp.txt files with MRI sequences labeled
qunex create_session_info \
--overwrite=no \
--sourcefile=session.txt \
--targetfile=session_hcp.txt \
--pipelines="hcp" \
--mapping=/u/project/cbearden/data/22q/qunex_studyfolder/sessions/specs/22q_HCP_mapping.txt \
--sessionsfolder=/u/project/cbearden/data/22q/qunex_studyfolder/sessions/ \
# set up hcp directories and filename conventions
qunex setup_hcp \
    --sessionsfolder=/u/project/cbearden/data/22q/qunex_studyfolder/sessions \
    --sourcefile="session_hcp.txt" \
    --existing="clear" \
    --sessions="Q_0001_09242012 Q_0001_10152010 Q_0001_12022008 Q_0003_12222008 Q_0005_02092009 Q_0005_04182011 Q_0007_03162009 Q_0007_04012011 Q_0009_01262009 Q_0009_08112010 Q_0009_09292011 Q_0011_02242009 Q_0013_04012009 Q_0014_04012009 Q_0016_03292011 Q_0016_04172009 Q_0016_10082012 Q_0017_03192014 Q_0017_05012015 Q_0017_06152009 Q_0018_06232009 Q_0019_05052011 Q_0019_08112009 Q_0020_03262012 Q_0020_05052011 Q_0020_08112009 Q_0021_01132011 Q_0021_08172009 Q_0021_11052012 Q_0022_08212009 Q_0024_04152011 Q_0024_09212012 Q_0026_03232012 Q_0026_05032013 Q_0028_02022010 Q_0030_02092010 Q_0033_03192010 Q_0036_03302010 Q_0036_06212012 Q_0036_06282011 Q_0037_04202011 Q_0037_04272010 Q_0038_06042010 Q_0039_04132010 Q_0039_06012011 Q_0040_05142010 Q_0040_06272011 Q_0041_05232011 Q_0041_09262012 Q_0043_06012010 Q_0045_07132010 Q_0045_08302011 Q_0045_10052012 Q_0051_01302012 Q_0051_07232010 Q_0052_07302010 Q_0053_08022010 Q_0053_12212012 Q_0054_08062010 Q_0056_08252010 Q_0056_09102012 Q_0059_08032011 Q_0059_08272010 Q_0060_09012010 Q_0062_09082010 Q_0062_11302011 Q_0064_09162010 Q_0067_04012009 Q_0069_04282009 Q_0070_06232009 Q_0071_03022010 Q_0072_01102013 Q_0072_10052010 Q_0072_11032011 Q_0076_10212010 Q_0077_02292012 Q_0077_03112013 Q_0077_10252010 Q_0078_11102011 Q_0078_11192010 Q_0080_11222010 Q_0081_11242010 Q_0082_01062012 Q_0082_01112013 Q_0082_12162010 Q_0085_02242012 Q_0091_03052012 Q_0091_03072011 Q_0092_03102011 Q_0093_03082011 Q_0093_03122012 Q_0093_03122013 Q_0094_03172011 Q_0098_04012011 Q_0099_04012011 Q_0100_04082011 Q_0101_01032013 Q_0101_04122011 Q_0102_01032013 Q_0102_04122011 Q_0103_04182011 Q_0103_08272012 Q_0105_05022011 Q_0109_05262011 Q_0112_06072011 Q_0112_11142012 Q_0114_02062014 Q_0114_06292011 Q_0114_11092012 Q_0117_07062011 Q_0117_08312012 Q_0118_07072011 Q_0120_06182014 Q_0124_07292011 Q_0124_09172012 Q_0126_08012011 Q_0127_03052013 Q_0127_08012014 Q_0127_08082011 Q_0130_08132012 Q_0130_08162011 Q_0130_11042014 Q_0132_08222011 Q_0135_09012011 Q_0136_09012011 Q_0137_09022011 Q_0138_09032013 Q_0138_09042012 Q_0138_09062011 Q_0141_10072013 Q_0141_10072013_old Q_0141_10092012 Q_0146_11082012 Q_0146_12072011 Q_0147_08112015 Q_0147_08142014 Q_0147_12122011 Q_0149_11192012 Q_0149_12192011 Q_0150_11192012 Q_0150_12202011 Q_0151_01122012 Q_0153_01202012 Q_0156_01312012 Q_0156_12102013 Q_0156_12102013_old Q_0157_01312012 Q_0159_02122013 Q_0161_03012012 Q_0161_04192013 Q_0162_03202012 Q_0163_03262012 Q_0166_01092014 Q_0166_04052012 Q_0167_04052012 Q_0168_04052012 Q_0169_04062012 Q_0170_04102012 Q_0170_11252014 Q_0171_04102012 Q_0171_11252014 Q_0172_04122012 Q_0172_04172014 Q_0172_04262013 Q_0173_04122012 Q_0173_04172014 Q_0173_04262013 Q_0174_04182012 Q_0174_04272015 Q_0176_04242012 Q_0176_05072013 Q_0177_05012012 Q_0178_05012012 Q_0182_05182012 Q_0184_05242012 Q_0185_05242012 Q_0186_04092015 Q_0188_05242012 Q_0189_05242012 Q_0190_06012012 Q_0190_08132013 Q_0190_08292014 Q_0192_06112013 Q_0192_06142012_1 Q_0192_06172014 Q_0196_06192015 Q_0196_06202012 Q_0196_09122013 Q_0200_04032015 Q_0200_04032015_2 Q_0200_07092012 Q_0200_08052013 Q_0206_07172012 Q_0206_12022014 Q_0208_07232012 Q_0213_08032012 Q_0213_09262014 Q_0215_08062012 Q_0215_08172015 Q_0216_08062012 Q_0216_08172015 Q_0217_02042015 Q_0217_08092012 Q_0219_08122014 Q_0219_08162012 Q_0219_09012015 Q_0222_08212012 Q_0223_08212012 Q_0225_09042012 Q_0227_10032012 Q_0228_01292014 Q_0228_09272012 Q_0229_10022012 Q_0230_11012012 Q_0232_12122012 Q_0234_03252014 Q_0234_12132012 Q_0236_03072013 Q_0238_03202013 Q_0238_08042014 Q_0238_11132015 Q_0240_03272013 Q_0240_06262014 Q_0242_03272013 Q_0244_09162013 Q_0244_09232014 Q_0246_09242013 Q_0250_09302013 Q_0250_09302014 Q_0250_10062015 Q_0252_12102013 Q_0255_10212014 Q_0257_06042014 Q_0258_06062014 Q_0260_06092014 Q_0263_09152014 Q_0266_02292016 Q_0266_08122014 Q_0268_10132014 Q_0269_10142014 Q_0277_12082014 Q_0278_12092014 Q_0279_12092014 Q_0284_03182015 Q_0285_03182015 Q_0286_03182015 Q_0287_03182015 Q_0291_04172015 Q_0297_05052015 Q_0298_05052015 Q_0298_05052015_2 Q_0300_05052015 Q_0307_10132015 Q_0310_11182015 Q_0311_12082015 Q_0313_12102015 Q_0315_01262016 Q_0319_03232016 Q_0321_03232016 Q_0322_03312016 Q_0326_04142016 Q_0327_04142016" 
    

# create batch file
qunex create_batch \
--sessionsfolder=/u/project/cbearden/data/22q/qunex_studyfolder/sessions \
--sourcefiles=session_hcp.txt \
--targetfile=/u/project/cbearden/data/22q/qunex_studyfolder/processing/22q_trio_batch.txt \
--overwrite=yes \
--paramfile=/u/project/cbearden/data/22q/qunex_studyfolder/sessions/specs/22q_trio_params.txt \
--sessions="Q_0001_09242012 Q_0001_10152010 Q_0001_12022008 Q_0003_12222008 Q_0005_02092009 Q_0005_04182011 Q_0007_03162009 Q_0007_04012011 Q_0009_01262009 Q_0009_08112010 Q_0009_09292011 Q_0011_02242009 Q_0013_04012009 Q_0014_04012009 Q_0016_03292011 Q_0016_04172009 Q_0016_10082012 Q_0017_03192014 Q_0017_05012015 Q_0017_06152009 Q_0018_06232009 Q_0019_05052011 Q_0019_08112009 Q_0020_03262012 Q_0020_05052011 Q_0020_08112009 Q_0021_01132011 Q_0021_08172009 Q_0021_11052012 Q_0022_08212009 Q_0024_04152011 Q_0024_09212012 Q_0026_03232012 Q_0026_05032013 Q_0028_02022010 Q_0030_02092010 Q_0033_03192010 Q_0036_03302010 Q_0036_06212012 Q_0036_06282011 Q_0037_04202011 Q_0037_04272010 Q_0038_06042010 Q_0039_04132010 Q_0039_06012011 Q_0040_05142010 Q_0040_06272011 Q_0041_05232011 Q_0041_09262012 Q_0043_06012010 Q_0045_07132010 Q_0045_08302011 Q_0045_10052012 Q_0051_01302012 Q_0051_07232010 Q_0052_07302010 Q_0053_08022010 Q_0053_12212012 Q_0054_08062010 Q_0056_08252010 Q_0056_09102012 Q_0059_08032011 Q_0059_08272010 Q_0060_09012010 Q_0062_09082010 Q_0062_11302011 Q_0064_09162010 Q_0067_04012009 Q_0069_04282009 Q_0070_06232009 Q_0071_03022010 Q_0072_01102013 Q_0072_10052010 Q_0072_11032011 Q_0076_10212010 Q_0077_02292012 Q_0077_03112013 Q_0077_10252010 Q_0078_11102011 Q_0078_11192010 Q_0080_11222010 Q_0081_11242010 Q_0082_01062012 Q_0082_01112013 Q_0082_12162010 Q_0085_02242012 Q_0091_03052012 Q_0091_03072011 Q_0092_03102011 Q_0093_03082011 Q_0093_03122012 Q_0093_03122013 Q_0094_03172011 Q_0098_04012011 Q_0099_04012011 Q_0100_04082011 Q_0101_01032013 Q_0101_04122011 Q_0102_01032013 Q_0102_04122011 Q_0103_04182011 Q_0103_08272012 Q_0105_05022011 Q_0109_05262011 Q_0112_06072011 Q_0112_11142012 Q_0114_02062014 Q_0114_06292011 Q_0114_11092012 Q_0117_07062011 Q_0117_08312012 Q_0118_07072011 Q_0120_06182014 Q_0124_07292011 Q_0124_09172012 Q_0126_08012011 Q_0127_03052013 Q_0127_08012014 Q_0127_08082011 Q_0130_08132012 Q_0130_08162011 Q_0130_11042014 Q_0132_08222011 Q_0135_09012011 Q_0136_09012011 Q_0137_09022011 Q_0138_09032013 Q_0138_09042012 Q_0138_09062011 Q_0141_10072013 Q_0141_10072013_old Q_0141_10092012 Q_0146_11082012 Q_0146_12072011 Q_0147_08112015 Q_0147_08142014 Q_0147_12122011 Q_0149_11192012 Q_0149_12192011 Q_0150_11192012 Q_0150_12202011 Q_0151_01122012 Q_0153_01202012 Q_0156_01312012 Q_0156_12102013 Q_0156_12102013_old Q_0157_01312012 Q_0159_02122013 Q_0161_03012012 Q_0161_04192013 Q_0162_03202012 Q_0163_03262012 Q_0166_01092014 Q_0166_04052012 Q_0167_04052012 Q_0168_04052012 Q_0169_04062012 Q_0170_04102012 Q_0170_11252014 Q_0171_04102012 Q_0171_11252014 Q_0172_04122012 Q_0172_04172014 Q_0172_04262013 Q_0173_04122012 Q_0173_04172014 Q_0173_04262013 Q_0174_04182012 Q_0174_04272015 Q_0176_04242012 Q_0176_05072013 Q_0177_05012012 Q_0178_05012012 Q_0182_05182012 Q_0184_05242012 Q_0185_05242012 Q_0186_04092015 Q_0188_05242012 Q_0189_05242012 Q_0190_06012012 Q_0190_08132013 Q_0190_08292014 Q_0192_06112013 Q_0192_06142012_1 Q_0192_06172014 Q_0196_06192015 Q_0196_06202012 Q_0196_09122013 Q_0200_04032015 Q_0200_04032015_2 Q_0200_07092012 Q_0200_08052013 Q_0206_07172012 Q_0206_12022014 Q_0208_07232012 Q_0213_08032012 Q_0213_09262014 Q_0215_08062012 Q_0215_08172015 Q_0216_08062012 Q_0216_08172015 Q_0217_02042015 Q_0217_08092012 Q_0219_08122014 Q_0219_08162012 Q_0219_09012015 Q_0222_08212012 Q_0223_08212012 Q_0225_09042012 Q_0227_10032012 Q_0228_01292014 Q_0228_09272012 Q_0229_10022012 Q_0230_11012012 Q_0232_12122012 Q_0234_03252014 Q_0234_12132012 Q_0236_03072013 Q_0238_03202013 Q_0238_08042014 Q_0238_11132015 Q_0240_03272013 Q_0240_06262014 Q_0242_03272013 Q_0244_09162013 Q_0244_09232014 Q_0246_09242013 Q_0250_09302013 Q_0250_09302014 Q_0250_10062015 Q_0252_12102013 Q_0255_10212014 Q_0257_06042014 Q_0258_06062014 Q_0260_06092014 Q_0263_09152014 Q_0266_02292016 Q_0266_08122014 Q_0268_10132014 Q_0269_10142014 Q_0277_12082014 Q_0278_12092014 Q_0279_12092014 Q_0284_03182015 Q_0285_03182015 Q_0286_03182015 Q_0287_03182015 Q_0291_04172015 Q_0297_05052015 Q_0298_05052015 Q_0298_05052015_2 Q_0300_05052015 Q_0307_10132015 Q_0310_11182015 Q_0311_12082015 Q_0313_12102015 Q_0315_01262016 Q_0319_03232016 Q_0321_03232016 Q_0322_03312016 Q_0326_04142016 Q_0327_04142016" 



#####################################################################
### submit hcp jobs 
#####################################################################

## PreFreeSurfer
# Note: 6G didn't appear to be enough mem, seems to work better at 10G but some still end during qunex splash screen. Trying 16G
cd /u/project/cbearden/data/22q/qunex_studyfolder/processing/logs/manual
/u/project/cbearden/data/scripts/tools/qunex_bin/hoffman_submit_qunex.sh \
--qunex_command="hcp_pre_freesurfer" \
--qunex_options="--sessions=/u/project/cbearden/data/22q/qunex_studyfolder/processing/22q_trio_batch.txt --sessionsfolder=/u/project/cbearden/data/22q/qunex_studyfolder/sessions --parsessions=1 --overwrite=no" \
--scheduler_options="-l h_data=16G,h_rt=24:00:00,rh7" \
--array="yes" \
--sessions="Q_0001_09242012 Q_0001_10152010 Q_0001_12022008 Q_0003_12222008 Q_0005_02092009 Q_0005_04182011 Q_0007_03162009 Q_0007_04012011 Q_0009_01262009 Q_0009_08112010 Q_0009_09292011 Q_0011_02242009 Q_0013_04012009 Q_0014_04012009 Q_0016_03292011 Q_0016_04172009 Q_0016_10082012 Q_0017_03192014 Q_0017_05012015 Q_0017_06152009 Q_0018_06232009 Q_0019_05052011 Q_0019_08112009 Q_0020_03262012 Q_0020_05052011 Q_0020_08112009 Q_0021_01132011 Q_0021_08172009 Q_0021_11052012 Q_0022_08212009 Q_0024_04152011 Q_0024_09212012 Q_0026_03232012 Q_0026_05032013 Q_0028_02022010 Q_0030_02092010 Q_0033_03192010 Q_0036_03302010 Q_0036_06212012 Q_0036_06282011 Q_0037_04202011 Q_0037_04272010 Q_0038_06042010 Q_0039_04132010 Q_0039_06012011 Q_0040_05142010 Q_0040_06272011 Q_0041_05232011 Q_0041_09262012 Q_0043_06012010 Q_0045_07132010 Q_0045_08302011 Q_0045_10052012 Q_0051_01302012 Q_0051_07232010 Q_0052_07302010 Q_0053_08022010 Q_0053_12212012 Q_0054_08062010 Q_0056_08252010 Q_0056_09102012 Q_0059_08032011 Q_0059_08272010 Q_0060_09012010 Q_0062_09082010 Q_0062_11302011 Q_0064_09162010 Q_0067_04012009 Q_0069_04282009 Q_0070_06232009 Q_0071_03022010 Q_0072_01102013 Q_0072_10052010 Q_0072_11032011 Q_0076_10212010 Q_0077_02292012 Q_0077_03112013 Q_0077_10252010 Q_0078_11102011 Q_0078_11192010 Q_0080_11222010 Q_0081_11242010 Q_0082_01062012 Q_0082_01112013 Q_0082_12162010 Q_0085_02242012 Q_0091_03052012 Q_0091_03072011 Q_0092_03102011 Q_0093_03082011 Q_0093_03122012 Q_0093_03122013 Q_0094_03172011 Q_0098_04012011 Q_0099_04012011 Q_0100_04082011 Q_0101_01032013 Q_0101_04122011 Q_0102_01032013 Q_0102_04122011 Q_0103_04182011 Q_0103_08272012 Q_0105_05022011 Q_0109_05262011 Q_0112_06072011 Q_0112_11142012 Q_0114_02062014 Q_0114_06292011 Q_0114_11092012 Q_0117_07062011 Q_0117_08312012 Q_0118_07072011 Q_0120_06182014 Q_0124_07292011 Q_0124_09172012 Q_0126_08012011 Q_0127_03052013 Q_0127_08012014 Q_0127_08082011 Q_0130_08132012 Q_0130_08162011 Q_0130_11042014 Q_0132_08222011 Q_0135_09012011 Q_0136_09012011 Q_0137_09022011 Q_0138_09032013 Q_0138_09042012 Q_0138_09062011 Q_0141_10072013 Q_0141_10072013_old Q_0141_10092012 Q_0146_11082012 Q_0146_12072011 Q_0147_08112015 Q_0147_08142014 Q_0147_12122011 Q_0149_11192012 Q_0149_12192011 Q_0150_11192012 Q_0150_12202011 Q_0151_01122012 Q_0153_01202012 Q_0156_01312012 Q_0156_12102013 Q_0156_12102013_old Q_0157_01312012 Q_0159_02122013 Q_0161_03012012 Q_0161_04192013 Q_0162_03202012 Q_0163_03262012 Q_0166_01092014 Q_0166_04052012 Q_0167_04052012 Q_0168_04052012 Q_0169_04062012 Q_0170_04102012 Q_0170_11252014 Q_0171_04102012 Q_0171_11252014 Q_0172_04122012 Q_0172_04172014 Q_0172_04262013 Q_0173_04122012 Q_0173_04172014 Q_0173_04262013 Q_0174_04182012 Q_0174_04272015 Q_0176_04242012 Q_0176_05072013 Q_0177_05012012 Q_0178_05012012 Q_0182_05182012 Q_0184_05242012 Q_0185_05242012 Q_0186_04092015 Q_0188_05242012 Q_0189_05242012 Q_0190_06012012 Q_0190_08132013 Q_0190_08292014 Q_0192_06112013 Q_0192_06142012_1 Q_0192_06172014 Q_0196_06192015 Q_0196_06202012 Q_0196_09122013 Q_0200_04032015 Q_0200_04032015_2 Q_0200_07092012 Q_0200_08052013 Q_0206_07172012 Q_0206_12022014 Q_0208_07232012 Q_0213_08032012 Q_0213_09262014 Q_0215_08062012 Q_0215_08172015 Q_0216_08062012 Q_0216_08172015 Q_0217_02042015 Q_0217_08092012 Q_0219_08122014 Q_0219_08162012 Q_0219_09012015 Q_0222_08212012 Q_0223_08212012 Q_0225_09042012 Q_0227_10032012 Q_0228_01292014 Q_0228_09272012 Q_0229_10022012 Q_0230_11012012 Q_0232_12122012 Q_0234_03252014 Q_0234_12132012 Q_0236_03072013 Q_0238_03202013 Q_0238_08042014 Q_0238_11132015 Q_0240_03272013 Q_0240_06262014 Q_0242_03272013 Q_0244_09162013 Q_0244_09232014 Q_0246_09242013 Q_0250_09302013 Q_0250_09302014 Q_0250_10062015 Q_0252_12102013 Q_0255_10212014 Q_0257_06042014 Q_0258_06062014 Q_0260_06092014 Q_0263_09152014 Q_0266_02292016 Q_0266_08122014 Q_0268_10132014 Q_0269_10142014 Q_0277_12082014 Q_0278_12092014 Q_0279_12092014 Q_0284_03182015 Q_0285_03182015 Q_0286_03182015 Q_0287_03182015 Q_0291_04172015 Q_0297_05052015 Q_0298_05052015 Q_0298_05052015_2 Q_0300_05052015 Q_0307_10132015 Q_0310_11182015 Q_0311_12082015 Q_0313_12102015 Q_0315_01262016 Q_0319_03232016 Q_0321_03232016 Q_0322_03312016 Q_0326_04142016 Q_0327_04142016"
 
## FreeSurfer
cd /u/project/cbearden/data/22q/qunex_studyfolder/processing/logs/manual
/u/project/cbearden/data/scripts/tools/qunex_bin/hoffman_submit_qunex.sh \
--qunex_command="hcp_freesurfer" \
--qunex_options="--sessions=/u/project/cbearden/data/22q/qunex_studyfolder/processing/22q_trio_batch.txt --sessionsfolder=/u/project/cbearden/data/22q/qunex_studyfolder/sessions --parsessions=1 --overwrite=no" \
--scheduler_options="-l h_data=16G,h_rt=24:00:00,rh7" \
--array="yes" \
--sessions="Q_0001_09242012 Q_0001_10152010 Q_0001_12022008 Q_0003_12222008 Q_0005_02092009 Q_0005_04182011 Q_0007_03162009 Q_0007_04012011 Q_0009_01262009 Q_0009_08112010 Q_0009_09292011 Q_0011_02242009 Q_0013_04012009 Q_0014_04012009 Q_0016_03292011 Q_0016_04172009 Q_0016_10082012 Q_0017_03192014 Q_0017_05012015 Q_0017_06152009 Q_0018_06232009 Q_0019_05052011 Q_0019_08112009 Q_0020_03262012 Q_0020_05052011 Q_0020_08112009 Q_0021_01132011 Q_0021_08172009 Q_0021_11052012 Q_0022_08212009 Q_0024_04152011 Q_0024_09212012 Q_0026_03232012 Q_0026_05032013 Q_0028_02022010 Q_0030_02092010 Q_0033_03192010 Q_0036_03302010 Q_0036_06212012 Q_0036_06282011 Q_0037_04202011 Q_0037_04272010 Q_0038_06042010 Q_0039_04132010 Q_0039_06012011 Q_0040_05142010 Q_0040_06272011 Q_0041_05232011 Q_0041_09262012 Q_0043_06012010 Q_0045_07132010 Q_0045_08302011 Q_0045_10052012 Q_0051_01302012 Q_0051_07232010 Q_0052_07302010 Q_0053_08022010 Q_0053_12212012 Q_0054_08062010 Q_0056_08252010 Q_0056_09102012 Q_0059_08032011 Q_0059_08272010 Q_0060_09012010 Q_0062_09082010 Q_0062_11302011 Q_0064_09162010 Q_0067_04012009 Q_0069_04282009 Q_0070_06232009 Q_0071_03022010 Q_0072_01102013 Q_0072_10052010 Q_0072_11032011 Q_0076_10212010 Q_0077_02292012 Q_0077_03112013 Q_0077_10252010 Q_0078_11102011 Q_0078_11192010 Q_0080_11222010 Q_0081_11242010 Q_0082_01062012 Q_0082_01112013 Q_0082_12162010 Q_0085_02242012 Q_0091_03052012 Q_0091_03072011 Q_0092_03102011 Q_0093_03082011 Q_0093_03122012 Q_0093_03122013 Q_0094_03172011 Q_0098_04012011 Q_0099_04012011 Q_0100_04082011 Q_0101_01032013 Q_0101_04122011 Q_0102_01032013 Q_0102_04122011 Q_0103_04182011 Q_0103_08272012 Q_0105_05022011 Q_0109_05262011 Q_0112_06072011 Q_0112_11142012 Q_0114_02062014 Q_0114_06292011 Q_0114_11092012 Q_0117_07062011 Q_0117_08312012 Q_0118_07072011 Q_0120_06182014 Q_0124_07292011 Q_0124_09172012 Q_0126_08012011 Q_0127_03052013 Q_0127_08012014 Q_0127_08082011 Q_0130_08132012 Q_0130_08162011 Q_0130_11042014 Q_0132_08222011 Q_0135_09012011 Q_0136_09012011 Q_0137_09022011 Q_0138_09032013 Q_0138_09042012 Q_0138_09062011 Q_0141_10072013 Q_0141_10072013_old Q_0141_10092012 Q_0146_11082012 Q_0146_12072011 Q_0147_08112015 Q_0147_08142014 Q_0147_12122011 Q_0149_11192012 Q_0149_12192011 Q_0150_11192012 Q_0150_12202011 Q_0151_01122012 Q_0153_01202012 Q_0156_01312012 Q_0156_12102013 Q_0156_12102013_old Q_0157_01312012 Q_0159_02122013 Q_0161_03012012 Q_0161_04192013 Q_0162_03202012 Q_0163_03262012 Q_0166_01092014 Q_0166_04052012 Q_0167_04052012 Q_0168_04052012 Q_0169_04062012 Q_0170_04102012 Q_0170_11252014 Q_0171_04102012 Q_0171_11252014 Q_0172_04122012 Q_0172_04172014 Q_0172_04262013 Q_0173_04122012 Q_0173_04172014 Q_0173_04262013 Q_0174_04182012 Q_0174_04272015 Q_0176_04242012 Q_0176_05072013 Q_0177_05012012 Q_0178_05012012 Q_0182_05182012 Q_0184_05242012 Q_0185_05242012 Q_0186_04092015 Q_0188_05242012 Q_0189_05242012 Q_0190_06012012 Q_0190_08132013 Q_0190_08292014 Q_0192_06112013 Q_0192_06142012_1 Q_0192_06172014 Q_0196_06192015 Q_0196_06202012 Q_0196_09122013 Q_0200_04032015 Q_0200_04032015_2 Q_0200_07092012 Q_0200_08052013 Q_0206_07172012 Q_0206_12022014 Q_0208_07232012 Q_0213_08032012 Q_0213_09262014 Q_0215_08062012 Q_0215_08172015 Q_0216_08062012 Q_0216_08172015 Q_0217_02042015 Q_0217_08092012 Q_0219_08122014 Q_0219_08162012 Q_0219_09012015 Q_0222_08212012 Q_0223_08212012 Q_0225_09042012 Q_0227_10032012 Q_0228_01292014 Q_0228_09272012 Q_0229_10022012 Q_0230_11012012 Q_0232_12122012 Q_0234_03252014 Q_0234_12132012 Q_0236_03072013 Q_0238_03202013 Q_0238_08042014 Q_0238_11132015 Q_0240_03272013 Q_0240_06262014 Q_0242_03272013 Q_0244_09162013 Q_0244_09232014 Q_0246_09242013 Q_0250_09302013 Q_0250_09302014 Q_0250_10062015 Q_0252_12102013 Q_0255_10212014 Q_0257_06042014 Q_0258_06062014 Q_0260_06092014 Q_0263_09152014 Q_0266_02292016 Q_0266_08122014 Q_0268_10132014 Q_0269_10142014 Q_0277_12082014 Q_0278_12092014 Q_0279_12092014 Q_0284_03182015 Q_0285_03182015 Q_0286_03182015 Q_0287_03182015 Q_0291_04172015 Q_0297_05052015 Q_0298_05052015 Q_0298_05052015_2 Q_0300_05052015 Q_0307_10132015 Q_0310_11182015 Q_0311_12082015 Q_0313_12102015 Q_0315_01262016 Q_0319_03232016 Q_0321_03232016 Q_0322_03312016 Q_0326_04142016 Q_0327_04142016"

	## rerun FreeSurfer for two subjects with 48hrs
	cd /u/project/cbearden/data/22q/qunex_studyfolder/processing/logs/manual
	/u/project/cbearden/data/scripts/tools/qunex_bin/hoffman_submit_qunex.sh \
	--qunex_command="hcp_freesurfer" \
	--qunex_options="--sessions=/u/project/cbearden/data/22q/qunex_studyfolder/processing/22q_trio_batch.txt --sessionsfolder=/u/project/cbearden/data/22q/qunex_studyfolder/sessions --parsessions=1 --overwrite=no" \
	--scheduler_options="-l h_data=16G,h_rt=48:00:00,rh7,highp" \
	--array="yes" \
	--sessions="Q_0072_10052010 Q_0250_10062015"

## PostFreeSurfer
cd /u/project/cbearden/data/22q/qunex_studyfolder/processing/logs/manual
/u/project/cbearden/data/scripts/tools/qunex_bin/hoffman_submit_qunex.sh \
--qunex_command="hcp_post_freesurfer" \
--qunex_options="--sessions=/u/project/cbearden/data/22q/qunex_studyfolder/processing/22q_trio_batch.txt --sessionsfolder=/u/project/cbearden/data/22q/qunex_studyfolder/sessions --parsessions=1 --overwrite=no" \
--scheduler_options="-l h_data=16G,h_rt=24:00:00,rh7" \
--array="yes" \
--sessions="Q_0001_09242012 Q_0001_10152010 Q_0001_12022008 Q_0003_12222008 Q_0005_02092009 Q_0005_04182011 Q_0007_03162009 Q_0007_04012011 Q_0009_01262009 Q_0009_08112010 Q_0009_09292011 Q_0011_02242009 Q_0013_04012009 Q_0014_04012009 Q_0016_03292011 Q_0016_04172009 Q_0016_10082012 Q_0017_03192014 Q_0017_05012015 Q_0017_06152009 Q_0018_06232009 Q_0019_05052011 Q_0019_08112009 Q_0020_03262012 Q_0020_05052011 Q_0020_08112009 Q_0021_01132011 Q_0021_08172009 Q_0021_11052012 Q_0022_08212009 Q_0024_04152011 Q_0024_09212012 Q_0026_03232012 Q_0026_05032013 Q_0028_02022010 Q_0030_02092010 Q_0033_03192010 Q_0036_03302010 Q_0036_06212012 Q_0036_06282011 Q_0037_04202011 Q_0037_04272010 Q_0038_06042010 Q_0039_04132010 Q_0039_06012011 Q_0040_05142010 Q_0040_06272011 Q_0041_05232011 Q_0041_09262012 Q_0043_06012010 Q_0045_07132010 Q_0045_08302011 Q_0045_10052012 Q_0051_01302012 Q_0051_07232010 Q_0052_07302010 Q_0053_08022010 Q_0053_12212012 Q_0054_08062010 Q_0056_08252010 Q_0056_09102012 Q_0059_08032011 Q_0059_08272010 Q_0060_09012010 Q_0062_09082010 Q_0062_11302011 Q_0064_09162010 Q_0067_04012009 Q_0069_04282009 Q_0070_06232009 Q_0071_03022010 Q_0072_01102013 Q_0072_10052010 Q_0072_11032011 Q_0076_10212010 Q_0077_02292012 Q_0077_03112013 Q_0077_10252010 Q_0078_11102011 Q_0078_11192010 Q_0080_11222010 Q_0081_11242010 Q_0082_01062012 Q_0082_01112013 Q_0082_12162010 Q_0085_02242012 Q_0091_03052012 Q_0091_03072011 Q_0092_03102011 Q_0093_03082011 Q_0093_03122012 Q_0093_03122013 Q_0094_03172011 Q_0098_04012011 Q_0099_04012011 Q_0100_04082011 Q_0101_01032013 Q_0101_04122011 Q_0102_01032013 Q_0102_04122011 Q_0103_04182011 Q_0103_08272012 Q_0105_05022011 Q_0109_05262011 Q_0112_06072011 Q_0112_11142012 Q_0114_02062014 Q_0114_06292011 Q_0114_11092012 Q_0117_07062011 Q_0117_08312012 Q_0118_07072011 Q_0120_06182014 Q_0124_07292011 Q_0124_09172012 Q_0126_08012011 Q_0127_03052013 Q_0127_08012014 Q_0127_08082011 Q_0130_08132012 Q_0130_08162011 Q_0130_11042014 Q_0132_08222011 Q_0135_09012011 Q_0136_09012011 Q_0137_09022011 Q_0138_09032013 Q_0138_09042012 Q_0138_09062011 Q_0141_10072013 Q_0141_10072013_old Q_0141_10092012 Q_0146_11082012 Q_0146_12072011 Q_0147_08112015 Q_0147_08142014 Q_0147_12122011 Q_0149_11192012 Q_0149_12192011 Q_0150_11192012 Q_0150_12202011 Q_0151_01122012 Q_0153_01202012 Q_0156_01312012 Q_0156_12102013 Q_0156_12102013_old Q_0157_01312012 Q_0159_02122013 Q_0161_03012012 Q_0161_04192013 Q_0162_03202012 Q_0163_03262012 Q_0166_01092014 Q_0166_04052012 Q_0167_04052012 Q_0168_04052012 Q_0169_04062012 Q_0170_04102012 Q_0170_11252014 Q_0171_04102012 Q_0171_11252014 Q_0172_04122012 Q_0172_04172014 Q_0172_04262013 Q_0173_04122012 Q_0173_04172014 Q_0173_04262013 Q_0174_04182012 Q_0174_04272015 Q_0176_04242012 Q_0176_05072013 Q_0177_05012012 Q_0178_05012012 Q_0182_05182012 Q_0184_05242012 Q_0185_05242012 Q_0186_04092015 Q_0188_05242012 Q_0189_05242012 Q_0190_06012012 Q_0190_08132013 Q_0190_08292014 Q_0192_06112013 Q_0192_06142012_1 Q_0192_06172014 Q_0196_06192015 Q_0196_06202012 Q_0196_09122013 Q_0200_04032015 Q_0200_04032015_2 Q_0200_07092012 Q_0200_08052013 Q_0206_07172012 Q_0206_12022014 Q_0208_07232012 Q_0213_08032012 Q_0213_09262014 Q_0215_08062012 Q_0215_08172015 Q_0216_08062012 Q_0216_08172015 Q_0217_02042015 Q_0217_08092012 Q_0219_08122014 Q_0219_08162012 Q_0219_09012015 Q_0222_08212012 Q_0223_08212012 Q_0225_09042012 Q_0227_10032012 Q_0228_01292014 Q_0228_09272012 Q_0229_10022012 Q_0230_11012012 Q_0232_12122012 Q_0234_03252014 Q_0234_12132012 Q_0236_03072013 Q_0238_03202013 Q_0238_08042014 Q_0238_11132015 Q_0240_03272013 Q_0240_06262014 Q_0242_03272013 Q_0244_09162013 Q_0244_09232014 Q_0246_09242013 Q_0250_09302013 Q_0250_09302014 Q_0250_10062015 Q_0252_12102013 Q_0255_10212014 Q_0257_06042014 Q_0258_06062014 Q_0260_06092014 Q_0263_09152014 Q_0266_02292016 Q_0266_08122014 Q_0268_10132014 Q_0269_10142014 Q_0277_12082014 Q_0278_12092014 Q_0279_12092014 Q_0284_03182015 Q_0285_03182015 Q_0286_03182015 Q_0287_03182015 Q_0291_04172015 Q_0297_05052015 Q_0298_05052015 Q_0298_05052015_2 Q_0300_05052015 Q_0307_10132015 Q_0310_11182015 Q_0311_12082015 Q_0313_12102015 Q_0315_01262016 Q_0319_03232016 Q_0321_03232016 Q_0322_03312016 Q_0326_04142016 Q_0327_04142016"

## FMRI Volume
cd /u/project/cbearden/data/22q/qunex_studyfolder/processing/logs/manual
/u/project/cbearden/data/scripts/tools/qunex_bin/hoffman_submit_qunex.sh \
--qunex_command="hcp_fmri_volume" \
--qunex_options="--sessions=/u/project/cbearden/data/22q/qunex_studyfolder/processing/22q_trio_batch.txt --sessionsfolder=/u/project/cbearden/data/22q/qunex_studyfolder/sessions --parsessions=1 --overwrite=no" \
--scheduler_options="-l h_data=16G,h_rt=24:00:00,rh7" \
--array="yes" \
--sessions="Q_0001_09242012 Q_0001_10152010 Q_0001_12022008 Q_0003_12222008 Q_0005_02092009 Q_0005_04182011 Q_0007_03162009 Q_0007_04012011 Q_0009_01262009 Q_0009_08112010 Q_0009_09292011 Q_0011_02242009 Q_0013_04012009 Q_0014_04012009 Q_0016_03292011 Q_0016_04172009 Q_0016_10082012 Q_0017_03192014 Q_0017_05012015 Q_0017_06152009 Q_0018_06232009 Q_0019_05052011 Q_0019_08112009 Q_0020_03262012 Q_0020_05052011 Q_0020_08112009 Q_0021_01132011 Q_0021_08172009 Q_0021_11052012 Q_0022_08212009 Q_0024_04152011 Q_0024_09212012 Q_0026_03232012 Q_0026_05032013 Q_0028_02022010 Q_0030_02092010 Q_0033_03192010 Q_0036_03302010 Q_0036_06212012 Q_0036_06282011 Q_0037_04202011 Q_0037_04272010 Q_0038_06042010 Q_0039_04132010 Q_0039_06012011 Q_0040_05142010 Q_0040_06272011 Q_0041_05232011 Q_0041_09262012 Q_0043_06012010 Q_0045_07132010 Q_0045_08302011 Q_0045_10052012 Q_0051_01302012 Q_0051_07232010 Q_0052_07302010 Q_0053_08022010 Q_0053_12212012 Q_0054_08062010 Q_0056_08252010 Q_0056_09102012 Q_0059_08032011 Q_0059_08272010 Q_0060_09012010 Q_0062_09082010 Q_0062_11302011 Q_0064_09162010 Q_0067_04012009 Q_0069_04282009 Q_0070_06232009 Q_0071_03022010 Q_0072_01102013 Q_0072_10052010 Q_0072_11032011 Q_0076_10212010 Q_0077_02292012 Q_0077_03112013 Q_0077_10252010 Q_0078_11102011 Q_0078_11192010 Q_0080_11222010 Q_0081_11242010 Q_0082_01062012 Q_0082_01112013 Q_0082_12162010 Q_0085_02242012 Q_0091_03052012 Q_0091_03072011 Q_0092_03102011 Q_0093_03082011 Q_0093_03122012 Q_0093_03122013 Q_0094_03172011 Q_0098_04012011 Q_0099_04012011 Q_0100_04082011 Q_0101_01032013 Q_0101_04122011 Q_0102_01032013 Q_0102_04122011 Q_0103_04182011 Q_0103_08272012 Q_0105_05022011 Q_0109_05262011 Q_0112_06072011 Q_0112_11142012 Q_0114_02062014 Q_0114_06292011 Q_0114_11092012 Q_0117_07062011 Q_0117_08312012 Q_0118_07072011 Q_0120_06182014 Q_0124_07292011 Q_0124_09172012 Q_0126_08012011 Q_0127_03052013 Q_0127_08012014 Q_0127_08082011 Q_0130_08132012 Q_0130_08162011 Q_0130_11042014 Q_0132_08222011 Q_0135_09012011 Q_0136_09012011 Q_0137_09022011 Q_0138_09032013 Q_0138_09042012 Q_0138_09062011 Q_0141_10072013 Q_0141_10072013_old Q_0141_10092012 Q_0146_11082012 Q_0146_12072011 Q_0147_08112015 Q_0147_08142014 Q_0147_12122011 Q_0149_11192012 Q_0149_12192011 Q_0150_11192012 Q_0150_12202011 Q_0151_01122012 Q_0153_01202012 Q_0156_01312012 Q_0156_12102013 Q_0156_12102013_old Q_0157_01312012 Q_0159_02122013 Q_0161_03012012 Q_0161_04192013 Q_0162_03202012 Q_0163_03262012 Q_0166_01092014 Q_0166_04052012 Q_0167_04052012 Q_0168_04052012 Q_0169_04062012 Q_0170_04102012 Q_0170_11252014 Q_0171_04102012 Q_0171_11252014 Q_0172_04122012 Q_0172_04172014 Q_0172_04262013 Q_0173_04122012 Q_0173_04172014 Q_0173_04262013 Q_0174_04182012 Q_0174_04272015 Q_0176_04242012 Q_0176_05072013 Q_0177_05012012 Q_0178_05012012 Q_0182_05182012 Q_0184_05242012 Q_0185_05242012 Q_0186_04092015 Q_0188_05242012 Q_0189_05242012 Q_0190_06012012 Q_0190_08132013 Q_0190_08292014 Q_0192_06112013 Q_0192_06142012_1 Q_0192_06172014 Q_0196_06192015 Q_0196_06202012 Q_0196_09122013 Q_0200_04032015 Q_0200_04032015_2 Q_0200_07092012 Q_0200_08052013 Q_0206_07172012 Q_0206_12022014 Q_0208_07232012 Q_0213_08032012 Q_0213_09262014 Q_0215_08062012 Q_0215_08172015 Q_0216_08062012 Q_0216_08172015 Q_0217_02042015 Q_0217_08092012 Q_0219_08122014 Q_0219_08162012 Q_0219_09012015 Q_0222_08212012 Q_0223_08212012 Q_0225_09042012 Q_0227_10032012 Q_0228_01292014 Q_0228_09272012 Q_0229_10022012 Q_0230_11012012 Q_0232_12122012 Q_0234_03252014 Q_0234_12132012 Q_0236_03072013 Q_0238_03202013 Q_0238_08042014 Q_0238_11132015 Q_0240_03272013 Q_0240_06262014 Q_0242_03272013 Q_0244_09162013 Q_0244_09232014 Q_0246_09242013 Q_0250_09302013 Q_0250_09302014 Q_0250_10062015 Q_0252_12102013 Q_0255_10212014 Q_0257_06042014 Q_0258_06062014 Q_0260_06092014 Q_0263_09152014 Q_0266_02292016 Q_0266_08122014 Q_0268_10132014 Q_0269_10142014 Q_0277_12082014 Q_0278_12092014 Q_0279_12092014 Q_0284_03182015 Q_0285_03182015 Q_0286_03182015 Q_0287_03182015 Q_0291_04172015 Q_0297_05052015 Q_0298_05052015 Q_0298_05052015_2 Q_0300_05052015 Q_0307_10132015 Q_0310_11182015 Q_0311_12082015 Q_0313_12102015 Q_0315_01262016 Q_0319_03232016 Q_0321_03232016 Q_0322_03312016 Q_0326_04142016 Q_0327_04142016"

## FMRI Surface
cd /u/project/cbearden/data/22q/qunex_studyfolder/processing/logs/manual
/u/project/cbearden/data/scripts/tools/qunex_bin/hoffman_submit_qunex.sh \
--qunex_command="hcp_fmri_surface" \
--qunex_options="--sessions=/u/project/cbearden/data/22q/qunex_studyfolder/processing/22q_trio_batch.txt --sessionsfolder=/u/project/cbearden/data/22q/qunex_studyfolder/sessions --parsessions=1 --overwrite=no" \
--scheduler_options="-l h_data=16G,h_rt=24:00:00,rh7" \
--array="yes" \
--sessions="Q_0001_09242012 Q_0001_10152010 Q_0001_12022008 Q_0003_12222008 Q_0005_02092009 Q_0005_04182011 Q_0007_03162009 Q_0007_04012011 Q_0009_01262009 Q_0009_08112010 Q_0009_09292011 Q_0011_02242009 Q_0013_04012009 Q_0014_04012009 Q_0016_03292011 Q_0016_04172009 Q_0016_10082012 Q_0017_03192014 Q_0017_05012015 Q_0017_06152009 Q_0018_06232009 Q_0019_05052011 Q_0019_08112009 Q_0020_03262012 Q_0020_05052011 Q_0020_08112009 Q_0021_01132011 Q_0021_08172009 Q_0021_11052012 Q_0022_08212009 Q_0024_04152011 Q_0024_09212012 Q_0026_03232012 Q_0026_05032013 Q_0028_02022010 Q_0030_02092010 Q_0033_03192010 Q_0036_03302010 Q_0036_06212012 Q_0036_06282011 Q_0037_04202011 Q_0037_04272010 Q_0038_06042010 Q_0039_04132010 Q_0039_06012011 Q_0040_05142010 Q_0040_06272011 Q_0041_05232011 Q_0041_09262012 Q_0043_06012010 Q_0045_07132010 Q_0045_08302011 Q_0045_10052012 Q_0051_01302012 Q_0051_07232010 Q_0052_07302010 Q_0053_08022010 Q_0053_12212012 Q_0054_08062010 Q_0056_08252010 Q_0056_09102012 Q_0059_08032011 Q_0059_08272010 Q_0060_09012010 Q_0062_09082010 Q_0062_11302011 Q_0064_09162010 Q_0067_04012009 Q_0069_04282009 Q_0070_06232009 Q_0071_03022010 Q_0072_01102013 Q_0072_10052010 Q_0072_11032011 Q_0076_10212010 Q_0077_02292012 Q_0077_03112013 Q_0077_10252010 Q_0078_11102011 Q_0078_11192010 Q_0080_11222010 Q_0081_11242010 Q_0082_01062012 Q_0082_01112013 Q_0082_12162010 Q_0085_02242012 Q_0091_03052012 Q_0091_03072011 Q_0092_03102011 Q_0093_03082011 Q_0093_03122012 Q_0093_03122013 Q_0094_03172011 Q_0098_04012011 Q_0099_04012011 Q_0100_04082011 Q_0101_01032013 Q_0101_04122011 Q_0102_01032013 Q_0102_04122011 Q_0103_04182011 Q_0103_08272012 Q_0105_05022011 Q_0109_05262011 Q_0112_06072011 Q_0112_11142012 Q_0114_02062014 Q_0114_06292011 Q_0114_11092012 Q_0117_07062011 Q_0117_08312012 Q_0118_07072011 Q_0120_06182014 Q_0124_07292011 Q_0124_09172012 Q_0126_08012011 Q_0127_03052013 Q_0127_08012014 Q_0127_08082011 Q_0130_08132012 Q_0130_08162011 Q_0130_11042014 Q_0132_08222011 Q_0135_09012011 Q_0136_09012011 Q_0137_09022011 Q_0138_09032013 Q_0138_09042012 Q_0138_09062011 Q_0141_10072013 Q_0141_10072013_old Q_0141_10092012 Q_0146_11082012 Q_0146_12072011 Q_0147_08112015 Q_0147_08142014 Q_0147_12122011 Q_0149_11192012 Q_0149_12192011 Q_0150_11192012 Q_0150_12202011 Q_0151_01122012 Q_0153_01202012 Q_0156_01312012 Q_0156_12102013 Q_0156_12102013_old Q_0157_01312012 Q_0159_02122013 Q_0161_03012012 Q_0161_04192013 Q_0162_03202012 Q_0163_03262012 Q_0166_01092014 Q_0166_04052012 Q_0167_04052012 Q_0168_04052012 Q_0169_04062012 Q_0170_04102012 Q_0170_11252014 Q_0171_04102012 Q_0171_11252014 Q_0172_04122012 Q_0172_04172014 Q_0172_04262013 Q_0173_04122012 Q_0173_04172014 Q_0173_04262013 Q_0174_04182012 Q_0174_04272015 Q_0176_04242012 Q_0176_05072013 Q_0177_05012012 Q_0178_05012012 Q_0182_05182012 Q_0184_05242012 Q_0185_05242012 Q_0186_04092015 Q_0188_05242012 Q_0189_05242012 Q_0190_06012012 Q_0190_08132013 Q_0190_08292014 Q_0192_06112013 Q_0192_06142012_1 Q_0192_06172014 Q_0196_06192015 Q_0196_06202012 Q_0196_09122013 Q_0200_04032015 Q_0200_04032015_2 Q_0200_07092012 Q_0200_08052013 Q_0206_07172012 Q_0206_12022014 Q_0208_07232012 Q_0213_08032012 Q_0213_09262014 Q_0215_08062012 Q_0215_08172015 Q_0216_08062012 Q_0216_08172015 Q_0217_02042015 Q_0217_08092012 Q_0219_08122014 Q_0219_08162012 Q_0219_09012015 Q_0222_08212012 Q_0223_08212012 Q_0225_09042012 Q_0227_10032012 Q_0228_01292014 Q_0228_09272012 Q_0229_10022012 Q_0230_11012012 Q_0232_12122012 Q_0234_03252014 Q_0234_12132012 Q_0236_03072013 Q_0238_03202013 Q_0238_08042014 Q_0238_11132015 Q_0240_03272013 Q_0240_06262014 Q_0242_03272013 Q_0244_09162013 Q_0244_09232014 Q_0246_09242013 Q_0250_09302013 Q_0250_09302014 Q_0250_10062015 Q_0252_12102013 Q_0255_10212014 Q_0257_06042014 Q_0258_06062014 Q_0260_06092014 Q_0263_09152014 Q_0266_02292016 Q_0266_08122014 Q_0268_10132014 Q_0269_10142014 Q_0277_12082014 Q_0278_12092014 Q_0279_12092014 Q_0284_03182015 Q_0285_03182015 Q_0286_03182015 Q_0287_03182015 Q_0291_04172015 Q_0297_05052015 Q_0298_05052015 Q_0298_05052015_2 Q_0300_05052015 Q_0307_10132015 Q_0310_11182015 Q_0311_12082015 Q_0313_12102015 Q_0315_01262016 Q_0319_03232016 Q_0321_03232016 Q_0322_03312016 Q_0326_04142016 Q_0327_04142016"

	# rerun surface on highp
	cd /u/project/cbearden/data/22q/qunex_studyfolder/processing/logs/manual
	/u/project/cbearden/data/scripts/tools/qunex_bin/hoffman_submit_qunex.sh \
	--qunex_command="hcp_fmri_surface" \
	--qunex_options="--sessions=/u/project/cbearden/data/22q/qunex_studyfolder/processing/22q_trio_batch.txt --sessionsfolder=/u/project/cbearden/data/22q/qunex_studyfolder/sessions --parsessions=1 --overwrite=no" \
	--scheduler_options="-l h_data=16G,h_rt=48:00:00,rh7,highp" \
	--array="yes" \
	--sessions="Q_0001_09242012 Q_0001_10152010 Q_0001_12022008 Q_0003_12222008 Q_0005_02092009 Q_0005_04182011 Q_0007_03162009 Q_0007_04012011 Q_0009_01262009 Q_0009_08112010 Q_0009_09292011 Q_0011_02242009 Q_0013_04012009 Q_0014_04012009 Q_0016_03292011 Q_0016_04172009 Q_0016_10082012 Q_0017_03192014 Q_0017_05012015 Q_0017_06152009 Q_0018_06232009 Q_0019_05052011 Q_0019_08112009 Q_0020_03262012 Q_0020_05052011 Q_0020_08112009 Q_0021_01132011 Q_0021_08172009 Q_0021_11052012 Q_0022_08212009 Q_0024_04152011 Q_0024_09212012 Q_0026_03232012 Q_0026_05032013 Q_0028_02022010 Q_0030_02092010 Q_0033_03192010 Q_0036_03302010 Q_0036_06212012 Q_0036_06282011 Q_0037_04202011 Q_0037_04272010 Q_0038_06042010 Q_0039_04132010 Q_0039_06012011 Q_0040_05142010 Q_0040_06272011 Q_0041_05232011 Q_0041_09262012 Q_0043_06012010 Q_0045_07132010 Q_0045_08302011 Q_0045_10052012 Q_0051_01302012 Q_0051_07232010 Q_0052_07302010 Q_0053_08022010 Q_0053_12212012 Q_0054_08062010 Q_0056_08252010 Q_0056_09102012 Q_0059_08032011 Q_0059_08272010 Q_0060_09012010 Q_0062_09082010 Q_0062_11302011 Q_0064_09162010 Q_0067_04012009 Q_0069_04282009 Q_0070_06232009 Q_0071_03022010 Q_0072_01102013 Q_0072_10052010 Q_0072_11032011 Q_0076_10212010 Q_0077_02292012 Q_0077_03112013 Q_0077_10252010 Q_0078_11102011 Q_0078_11192010 Q_0080_11222010 Q_0081_11242010 Q_0082_01062012 Q_0082_01112013 Q_0082_12162010 Q_0085_02242012 Q_0091_03052012 Q_0091_03072011 Q_0092_03102011 Q_0093_03082011 Q_0093_03122012 Q_0093_03122013 Q_0094_03172011 Q_0098_04012011 Q_0099_04012011 Q_0100_04082011 Q_0101_01032013 Q_0101_04122011 Q_0102_01032013 Q_0102_04122011 Q_0103_04182011 Q_0103_08272012 Q_0105_05022011 Q_0109_05262011 Q_0112_06072011 Q_0112_11142012 Q_0114_02062014 Q_0114_06292011 Q_0114_11092012 Q_0117_07062011 Q_0117_08312012 Q_0118_07072011 Q_0120_06182014 Q_0124_07292011 Q_0124_09172012 Q_0126_08012011 Q_0127_03052013 Q_0127_08012014 Q_0127_08082011 Q_0130_08132012 Q_0130_08162011 Q_0130_11042014 Q_0132_08222011 Q_0135_09012011 Q_0136_09012011 Q_0137_09022011 Q_0138_09032013 Q_0138_09042012 Q_0138_09062011 Q_0141_10072013 Q_0141_10072013_old Q_0141_10092012 Q_0146_11082012 Q_0146_12072011 Q_0147_08112015 Q_0147_08142014 Q_0147_12122011 Q_0149_11192012 Q_0149_12192011 Q_0150_11192012 Q_0150_12202011 Q_0151_01122012 Q_0153_01202012 Q_0156_01312012 Q_0156_12102013 Q_0156_12102013_old Q_0157_01312012 Q_0159_02122013 Q_0161_03012012 Q_0161_04192013 Q_0162_03202012 Q_0163_03262012 Q_0166_01092014 Q_0166_04052012 Q_0167_04052012 Q_0168_04052012 Q_0169_04062012 Q_0170_04102012 Q_0170_11252014 Q_0171_04102012 Q_0171_11252014 Q_0172_04122012 Q_0172_04172014 Q_0172_04262013 Q_0173_04122012 Q_0173_04172014 Q_0173_04262013 Q_0174_04182012 Q_0174_04272015 Q_0176_04242012 Q_0176_05072013 Q_0177_05012012 Q_0178_05012012 Q_0182_05182012 Q_0184_05242012 Q_0185_05242012 Q_0186_04092015 Q_0188_05242012 Q_0189_05242012 Q_0190_06012012 Q_0190_08132013 Q_0190_08292014 Q_0192_06112013 Q_0192_06142012_1 Q_0192_06172014 Q_0196_06192015 Q_0196_06202012 Q_0196_09122013 Q_0200_04032015 Q_0200_04032015_2 Q_0200_07092012 Q_0200_08052013 Q_0206_07172012 Q_0206_12022014 Q_0208_07232012 Q_0213_08032012 Q_0213_09262014 Q_0215_08062012 Q_0215_08172015 Q_0216_08062012 Q_0216_08172015 Q_0217_02042015 Q_0217_08092012 Q_0219_08122014 Q_0219_08162012 Q_0219_09012015 Q_0222_08212012 Q_0223_08212012 Q_0225_09042012 Q_0227_10032012 Q_0228_01292014 Q_0228_09272012 Q_0229_10022012 Q_0230_11012012 Q_0232_12122012 Q_0234_03252014 Q_0234_12132012 Q_0236_03072013 Q_0238_03202013 Q_0238_08042014 Q_0238_11132015 Q_0240_03272013 Q_0240_06262014 Q_0242_03272013 Q_0244_09162013 Q_0244_09232014 Q_0246_09242013 Q_0250_09302013 Q_0250_09302014 Q_0250_10062015 Q_0252_12102013 Q_0255_10212014 Q_0257_06042014 Q_0258_06062014 Q_0260_06092014 Q_0263_09152014 Q_0266_02292016 Q_0266_08122014 Q_0268_10132014 Q_0269_10142014 Q_0277_12082014 Q_0278_12092014 Q_0279_12092014 Q_0284_03182015 Q_0285_03182015 Q_0286_03182015 Q_0287_03182015 Q_0291_04172015 Q_0297_05052015 Q_0298_05052015 Q_0298_05052015_2 Q_0300_05052015 Q_0307_10132015 Q_0310_11182015 Q_0311_12082015 Q_0313_12102015 Q_0315_01262016 Q_0319_03232016 Q_0321_03232016 Q_0322_03312016 Q_0326_04142016 Q_0327_04142016"


#####################################################################
### raw QC and rerunning HCP for sessions with >1 T1w
#####################################################################
 
## raw NII QC 
sessions="Q_0001_12022008 Q_0003_12222008 Q_0005_02092009 Q_0011_02242009 Q_0014_04012009 Q_0016_04172009 Q_0019_05052011 Q_0021_11052012 Q_0030_02092010 Q_0037_04272010 Q_0038_06042010 Q_0041_05232011 Q_0056_09102012 Q_0072_01102013 Q_0072_10052010 Q_0078_11192010 Q_0103_08272012 Q_0120_06182014 Q_0126_08012011 Q_0138_09032013 Q_0138_09062011 Q_0166_04052012 Q_0168_04052012 Q_0171_04102012 Q_0176_04242012 Q_0182_05182012 Q_0188_05242012 Q_0190_06012012 Q_0192_06142012_1 Q_0200_07092012 Q_0206_07172012 Q_0208_07232012 Q_0216_08062012 Q_0219_08162012 Q_0222_08212012 Q_0250_09302013 Q_0250_10062015 Q_0257_06042014 Q_0277_12082014 Q_0278_12092014 Q_0287_03182015 Q_0300_05052015 Q_0020_03262012 Q_0041_09262012 Q_0059_08272010 Q_0094_03172011 Q_0112_06072011 Q_0114_06292011 Q_0132_08222011 Q_0138_09042012 Q_0184_05242012 Q_0192_06112013 Q_0192_06172014 Q_0250_09302014"
seshdir=/u/project/cbearden/data/22q/qunex_studyfolder/sessions/ 
outdir=${seshdir}/QC/rawNII/
mkdir $outdir
cd $outdir
for sesh in $sessions; do
	for t in $(cat ${seshdir}/${sesh}/session_hcp.txt | grep "T1w" | cut -d : -f 1); do
		echo "generating ${sesh}.T1w.${t}.png"
		slicer ${seshdir}/${sesh}/nii/${t}.nii.gz -a ${outdir}/${sesh}.T1w.${t}.png
	done
done
	
	# csv marking which single T1w to use for subjects with multiples
	/u/project/cbearden/data/22q/qunex_studyfolder/sessions/QC/rawNII/raw_nii_qc.csv
	
	# script to update session_hcp.txt files excluding T1w marked not to use
	/u/project/cbearden/data/22q/qunex_studyfolder/processing/scripts/22qTrio_session_hcp_update_T1w.sh
	
	# sessions to rerun all hcp steps with chosen T1w
	sessions="Q_0001_12022008 Q_0003_12222008 Q_0005_02092009 Q_0011_02242009 Q_0014_04012009 Q_0016_04172009 Q_0019_05052011 Q_0020_03262012 Q_0021_11052012 Q_0030_02092010 Q_0037_04272010 Q_0038_06042010 Q_0041_05232011 Q_0041_09262012 Q_0056_09102012 Q_0059_08272010 Q_0072_01102013 Q_0072_10052010 Q_0078_11192010 Q_0094_03172011 Q_0103_08272012 Q_0112_06072011 Q_0114_06292011 Q_0120_06182014 Q_0126_08012011 Q_0132_08222011 Q_0138_09032013 Q_0138_09042012 Q_0138_09062011 Q_0166_04052012 Q_0168_04052012 Q_0171_04102012 Q_0176_04242012 Q_0182_05182012 Q_0184_05242012 Q_0188_05242012 Q_0190_06012012 Q_0192_06112013 Q_0192_06142012_1 Q_0192_06172014 Q_0200_07092012 Q_0206_07172012 Q_0208_07232012 Q_0216_08062012 Q_0219_08162012 Q_0222_08212012 Q_0250_09302013 Q_0250_09302014 Q_0250_10062015 Q_0257_06042014 Q_0277_12082014 Q_0278_12092014 Q_0287_03182015 Q_0300_05052015"
 
## delete hcp directories for sessions to re-run
sessions="Q_0001_12022008 Q_0003_12222008 Q_0005_02092009 Q_0011_02242009 Q_0014_04012009 Q_0016_04172009 Q_0019_05052011 Q_0020_03262012 Q_0021_11052012 Q_0030_02092010 Q_0037_04272010 Q_0038_06042010 Q_0041_05232011 Q_0041_09262012 Q_0056_09102012 Q_0059_08272010 Q_0072_01102013 Q_0072_10052010 Q_0078_11192010 Q_0094_03172011 Q_0103_08272012 Q_0112_06072011 Q_0114_06292011 Q_0120_06182014 Q_0126_08012011 Q_0132_08222011 Q_0138_09032013 Q_0138_09042012 Q_0138_09062011 Q_0166_04052012 Q_0168_04052012 Q_0171_04102012 Q_0176_04242012 Q_0182_05182012 Q_0184_05242012 Q_0188_05242012 Q_0190_06012012 Q_0192_06112013 Q_0192_06142012_1 Q_0192_06172014 Q_0200_07092012 Q_0206_07172012 Q_0208_07232012 Q_0216_08062012 Q_0219_08162012 Q_0222_08212012 Q_0250_09302013 Q_0250_09302014 Q_0250_10062015 Q_0257_06042014 Q_0277_12082014 Q_0278_12092014 Q_0287_03182015 Q_0300_05052015"
for sesh in $sessions; do rm -rfv /u/project/cbearden/data/22q/qunex_studyfolder/sessions/${sesh}/hcp; done
 
## create batch file
cd /u/project/cbearden/data/22q/qunex_studyfolder/processing/logs/manual/
/u/project/cbearden/data/scripts/tools/qunex_bin/hoffman_submit_qunex.sh \
--qunex_command="create_batch" \
--qunex_options=" --overwrite=no --sessionsfolder=/u/project/cbearden/data/22q/qunex_studyfolder/sessions --sourcefiles=session_hcp.txt --targetfile=/u/project/cbearden/data/22q/qunex_studyfolder/processing/22qTrio_rerun_single_t1w.txt --paramfile=/u/project/cbearden/data/22q/qunex_studyfolder/sessions/specs/22q_trio_params.txt --sessions=Q_0001_12022008,Q_0003_12222008,Q_0005_02092009,Q_0011_02242009,Q_0014_04012009,Q_0016_04172009,Q_0019_05052011,Q_0020_03262012,Q_0021_11052012,Q_0030_02092010,Q_0037_04272010,Q_0038_06042010,Q_0041_05232011,Q_0041_09262012,Q_0056_09102012,Q_0059_08272010,Q_0072_01102013,Q_0072_10052010,Q_0078_11192010,Q_0094_03172011,Q_0103_08272012,Q_0112_06072011,Q_0114_06292011,Q_0120_06182014,Q_0126_08012011,Q_0132_08222011,Q_0138_09032013,Q_0138_09042012,Q_0138_09062011,Q_0166_04052012,Q_0168_04052012,Q_0171_04102012,Q_0176_04242012,Q_0182_05182012,Q_0184_05242012,Q_0188_05242012,Q_0190_06012012,Q_0192_06112013,Q_0192_06142012_1,Q_0192_06172014,Q_0200_07092012,Q_0206_07172012,Q_0208_07232012,Q_0216_08062012,Q_0219_08162012,Q_0222_08212012,Q_0250_09302013,Q_0250_09302014,Q_0250_10062015,Q_0257_06042014,Q_0277_12082014,Q_0278_12092014,Q_0287_03182015,Q_0300_05052015" \
--scheduler_options="-l h_data=4G,h_rt=4:00:00,rh7" \
--array="no"  
 
	# sessions with at least one T1w in batch file above
	sessions="Q_0001_12022008 Q_0003_12222008 Q_0005_02092009 Q_0011_02242009 Q_0014_04012009 Q_0016_04172009 Q_0019_05052011 Q_0020_03262012 Q_0021_11052012 Q_0030_02092010 Q_0037_04272010 Q_0038_06042010 Q_0041_09262012 Q_0056_09102012 Q_0072_01102013 Q_0078_11192010 Q_0103_08272012 Q_0112_06072011 Q_0114_06292011 Q_0126_08012011 Q_0132_08222011 Q_0138_09032013 Q_0138_09042012 Q_0138_09062011 Q_0166_04052012 Q_0168_04052012 Q_0171_04102012 Q_0176_04242012 Q_0182_05182012 Q_0184_05242012 Q_0188_05242012 Q_0190_06012012 Q_0192_06112013 Q_0192_06142012_1 Q_0192_06172014 Q_0200_07092012 Q_0206_07172012 Q_0208_07232012 Q_0216_08062012 Q_0219_08162012 Q_0222_08212012 Q_0257_06042014 Q_0277_12082014 Q_0278_12092014 Q_0287_03182015 Q_0300_05052015"
 
## rerun Setup HCP
cd /u/project/cbearden/data/22q/qunex_studyfolder/processing/logs/manual/
/u/project/cbearden/data/scripts/tools/qunex_bin/hoffman_submit_qunex.sh \
--qunex_command="setup_hcp" \
--qunex_options="--sessionsfolder=/u/project/cbearden/data/22q/qunex_studyfolder/sessions --sourcefile=session_hcp.txt" \
--scheduler_options="-l h_data=16G,h_rt=24:00:00,rh7" \
--array="yes" \
--sessions="Q_0001_12022008 Q_0003_12222008 Q_0005_02092009 Q_0011_02242009 Q_0014_04012009 Q_0016_04172009 Q_0019_05052011 Q_0020_03262012 Q_0021_11052012 Q_0030_02092010 Q_0037_04272010 Q_0038_06042010 Q_0041_09262012 Q_0056_09102012 Q_0072_01102013 Q_0078_11192010 Q_0103_08272012 Q_0112_06072011 Q_0114_06292011 Q_0126_08012011 Q_0132_08222011 Q_0138_09032013 Q_0138_09042012 Q_0138_09062011 Q_0166_04052012 Q_0168_04052012 Q_0171_04102012 Q_0176_04242012 Q_0182_05182012 Q_0184_05242012 Q_0188_05242012 Q_0190_06012012 Q_0192_06112013 Q_0192_06142012_1 Q_0192_06172014 Q_0200_07092012 Q_0206_07172012 Q_0208_07232012 Q_0216_08062012 Q_0219_08162012 Q_0222_08212012 Q_0257_06042014 Q_0277_12082014 Q_0278_12092014 Q_0287_03182015 Q_0300_05052015"

## rerun PreFreeSurfer
cd /u/project/cbearden/data/22q/qunex_studyfolder/processing/logs/manual
/u/project/cbearden/data/scripts/tools/qunex_bin/hoffman_submit_qunex.sh \
--qunex_command="hcp_pre_freesurfer" \
--qunex_options="--sessions=/u/project/cbearden/data/22q/qunex_studyfolder/processing/22qTrio_rerun_single_t1w.txt --sessionsfolder=/u/project/cbearden/data/22q/qunex_studyfolder/sessions --parsessions=1 --overwrite=no" \
--scheduler_options="-l h_data=16G,h_rt=24:00:00,rh7" \
--array="yes" \
--sessions="Q_0001_12022008 Q_0003_12222008 Q_0005_02092009 Q_0011_02242009 Q_0014_04012009 Q_0016_04172009 Q_0019_05052011 Q_0020_03262012 Q_0021_11052012 Q_0030_02092010 Q_0037_04272010 Q_0038_06042010 Q_0041_09262012 Q_0056_09102012 Q_0072_01102013 Q_0078_11192010 Q_0103_08272012 Q_0112_06072011 Q_0114_06292011 Q_0126_08012011 Q_0132_08222011 Q_0138_09032013 Q_0138_09042012 Q_0138_09062011 Q_0166_04052012 Q_0168_04052012 Q_0171_04102012 Q_0176_04242012 Q_0182_05182012 Q_0184_05242012 Q_0188_05242012 Q_0190_06012012 Q_0192_06112013 Q_0192_06142012_1 Q_0192_06172014 Q_0200_07092012 Q_0206_07172012 Q_0208_07232012 Q_0216_08062012 Q_0219_08162012 Q_0222_08212012 Q_0257_06042014 Q_0277_12082014 Q_0278_12092014 Q_0287_03182015 Q_0300_05052015"

## rerun FreeSurfer
cd /u/project/cbearden/data/22q/qunex_studyfolder/processing/logs/manual
/u/project/cbearden/data/scripts/tools/qunex_bin/hoffman_submit_qunex.sh \
--qunex_command="hcp_freesurfer" \
--qunex_options="--sessions=/u/project/cbearden/data/22q/qunex_studyfolder/processing/22qTrio_rerun_single_t1w.txt --sessionsfolder=/u/project/cbearden/data/22q/qunex_studyfolder/sessions --parsessions=1 --overwrite=no" \
--scheduler_options="-l h_data=16G,h_rt=48:00:00,rh7,highp" \
--array="yes" \
--sessions="Q_0001_12022008 Q_0003_12222008 Q_0005_02092009 Q_0011_02242009 Q_0014_04012009 Q_0016_04172009 Q_0019_05052011 Q_0020_03262012 Q_0021_11052012 Q_0030_02092010 Q_0037_04272010 Q_0038_06042010 Q_0041_09262012 Q_0056_09102012 Q_0072_01102013 Q_0078_11192010 Q_0103_08272012 Q_0112_06072011 Q_0114_06292011 Q_0126_08012011 Q_0132_08222011 Q_0138_09032013 Q_0138_09042012 Q_0138_09062011 Q_0166_04052012 Q_0168_04052012 Q_0171_04102012 Q_0176_04242012 Q_0182_05182012 Q_0184_05242012 Q_0188_05242012 Q_0190_06012012 Q_0192_06112013 Q_0192_06142012_1 Q_0192_06172014 Q_0200_07092012 Q_0206_07172012 Q_0208_07232012 Q_0216_08062012 Q_0219_08162012 Q_0222_08212012 Q_0257_06042014 Q_0277_12082014 Q_0278_12092014 Q_0287_03182015 Q_0300_05052015"

## rerun PostFreeSurfer
cd /u/project/cbearden/data/22q/qunex_studyfolder/processing/logs/manual
/u/project/cbearden/data/scripts/tools/qunex_bin/hoffman_submit_qunex.sh \
--qunex_command="hcp_post_freesurfer" \
--qunex_options="--sessions=/u/project/cbearden/data/22q/qunex_studyfolder/processing/22qTrio_rerun_single_t1w.txt --sessionsfolder=/u/project/cbearden/data/22q/qunex_studyfolder/sessions --parsessions=1 --overwrite=no" \
--scheduler_options="-l h_data=16G,h_rt=24:00:00,rh7" \
--array="yes" \
--sessions="Q_0001_12022008 Q_0003_12222008 Q_0005_02092009 Q_0011_02242009 Q_0014_04012009 Q_0016_04172009 Q_0019_05052011 Q_0020_03262012 Q_0021_11052012 Q_0030_02092010 Q_0037_04272010 Q_0038_06042010 Q_0041_09262012 Q_0056_09102012 Q_0072_01102013 Q_0078_11192010 Q_0103_08272012 Q_0112_06072011 Q_0114_06292011 Q_0126_08012011 Q_0132_08222011 Q_0138_09032013 Q_0138_09042012 Q_0138_09062011 Q_0166_04052012 Q_0168_04052012 Q_0171_04102012 Q_0176_04242012 Q_0182_05182012 Q_0184_05242012 Q_0188_05242012 Q_0190_06012012 Q_0192_06112013 Q_0192_06142012_1 Q_0192_06172014 Q_0200_07092012 Q_0206_07172012 Q_0208_07232012 Q_0216_08062012 Q_0219_08162012 Q_0222_08212012 Q_0257_06042014 Q_0277_12082014 Q_0278_12092014 Q_0287_03182015 Q_0300_05052015"

## rerun FMRI Volume
cd /u/project/cbearden/data/22q/qunex_studyfolder/processing/logs/manual
/u/project/cbearden/data/scripts/tools/qunex_bin/hoffman_submit_qunex.sh \
--qunex_command="hcp_fmri_volume" \
--qunex_options="--sessions=/u/project/cbearden/data/22q/qunex_studyfolder/processing/22qTrio_rerun_single_t1w.txt --sessionsfolder=/u/project/cbearden/data/22q/qunex_studyfolder/sessions --parsessions=1 --overwrite=no" \
--scheduler_options="-l h_data=16G,h_rt=24:00:00,rh7" \
--array="yes" \
--sessions="Q_0001_12022008 Q_0003_12222008 Q_0005_02092009 Q_0011_02242009 Q_0014_04012009 Q_0016_04172009 Q_0019_05052011 Q_0020_03262012 Q_0021_11052012 Q_0030_02092010 Q_0037_04272010 Q_0038_06042010 Q_0041_09262012 Q_0056_09102012 Q_0072_01102013 Q_0078_11192010 Q_0103_08272012 Q_0112_06072011 Q_0114_06292011 Q_0126_08012011 Q_0132_08222011 Q_0138_09032013 Q_0138_09042012 Q_0138_09062011 Q_0166_04052012 Q_0168_04052012 Q_0171_04102012 Q_0176_04242012 Q_0182_05182012 Q_0184_05242012 Q_0188_05242012 Q_0190_06012012 Q_0192_06112013 Q_0192_06142012_1 Q_0192_06172014 Q_0200_07092012 Q_0206_07172012 Q_0208_07232012 Q_0216_08062012 Q_0219_08162012 Q_0222_08212012 Q_0257_06042014 Q_0277_12082014 Q_0278_12092014 Q_0287_03182015 Q_0300_05052015"

## rerun FMRI Surface
cd /u/project/cbearden/data/22q/qunex_studyfolder/processing/logs/manual
/u/project/cbearden/data/scripts/tools/qunex_bin/hoffman_submit_qunex.sh \
--qunex_command="hcp_fmri_surface" \
--qunex_options="--sessions=/u/project/cbearden/data/22q/qunex_studyfolder/processing/22qTrio_rerun_single_t1w.txt --sessionsfolder=/u/project/cbearden/data/22q/qunex_studyfolder/sessions --parsessions=1 --overwrite=no" \
--scheduler_options="-l h_data=16G,h_rt=24:00:00,rh7" \
--array="yes" \
--sessions="Q_0001_12022008 Q_0003_12222008 Q_0005_02092009 Q_0011_02242009 Q_0014_04012009 Q_0016_04172009 Q_0019_05052011 Q_0020_03262012 Q_0021_11052012 Q_0030_02092010 Q_0037_04272010 Q_0038_06042010 Q_0041_09262012 Q_0056_09102012 Q_0072_01102013 Q_0078_11192010 Q_0103_08272012 Q_0112_06072011 Q_0114_06292011 Q_0126_08012011 Q_0132_08222011 Q_0138_09032013 Q_0138_09042012 Q_0138_09062011 Q_0166_04052012 Q_0168_04052012 Q_0171_04102012 Q_0176_04242012 Q_0182_05182012 Q_0184_05242012 Q_0188_05242012 Q_0190_06012012 Q_0192_06112013 Q_0192_06142012_1 Q_0192_06172014 Q_0200_07092012 Q_0206_07172012 Q_0208_07232012 Q_0216_08062012 Q_0219_08162012 Q_0222_08212012 Q_0257_06042014 Q_0277_12082014 Q_0278_12092014 Q_0287_03182015 Q_0300_05052015"


#####################################################################
### T1w and BOLD QC
##################################################################### 
 
# n=81 sessions used in jNeurosci paper. Check these first
sessions_n81="Q_0001_09242012 Q_0005_04182011 Q_0007_04012011 Q_0009_09292011 Q_0016_03292011 Q_0021_01132011 Q_0024_04152011 Q_0026_03232012 Q_0033_03192010 Q_0037_04202011 Q_0039_04132010 Q_0040_05142010 Q_0041_09262012 Q_0052_07302010 Q_0053_08022010 Q_0054_08062010 Q_0056_08252010 Q_0062_11302011 Q_0076_10212010 Q_0077_10252010 Q_0078_11102011 Q_0080_11222010 Q_0081_11242010 Q_0082_12162010 Q_0085_02242012 Q_0091_03072011 Q_0092_03102011 Q_0093_03082011 Q_0098_04012011 Q_0099_04012011 Q_0100_04082011 Q_0101_04122011 Q_0102_04122011 Q_0103_04182011 Q_0109_05262011 Q_0117_07062011 Q_0118_07072011 Q_0124_07292011 Q_0126_08012011 Q_0130_08162011 Q_0132_08222011 Q_0135_09012011 Q_0141_10092012 Q_0146_12072011 Q_0150_12202011 Q_0151_01122012 Q_0153_01202012 Q_0156_01312012 Q_0157_01312012 Q_0159_02122013 Q_0161_03012012 Q_0162_03202012 Q_0169_04062012 Q_0171_04102012 Q_0172_04122012 Q_0173_04122012 Q_0176_04242012 Q_0182_05182012 Q_0184_05242012 Q_0185_05242012 Q_0189_05242012 Q_0213_08032012 Q_0215_08062012 Q_0216_08062012 Q_0217_08092012 Q_0219_08162012 Q_0222_08212012 Q_0228_09272012 Q_0229_10022012 Q_0232_12122012 Q_0234_12132012 Q_0236_03072013 Q_0238_03202013 Q_0240_03272013 Q_0242_03272013 Q_0244_09162013 Q_0246_09242013 Q_0252_12102013 Q_0255_10212014 Q_0260_06092014 Q_0266_08122014"
  
## T1w QC
cd /u/project/cbearden/data/22q/qunex_studyfolder/processing/logs/manual
/u/project/cbearden/data/scripts/tools/qunex_bin/hoffman_submit_qunex.sh \
--qunex_command="run_qc" \
--qunex_options="--modality=T1w --sessionsfolder=/u/project/cbearden/data/22q/qunex_studyfolder/sessions --overwrite=no" \
--scheduler_options="-l h_data=16G,h_rt=24:00:00,rh7" \
--array="yes" \
--sessions="Q_0001_09242012 Q_0001_10152010 Q_0001_12022008 Q_0003_12222008 Q_0005_02092009 Q_0005_04182011 Q_0007_03162009 Q_0007_04012011 Q_0009_01262009 Q_0009_08112010 Q_0009_09292011 Q_0011_02242009 Q_0013_04012009 Q_0014_04012009 Q_0016_03292011 Q_0016_04172009 Q_0016_10082012 Q_0017_03192014 Q_0017_05012015 Q_0017_06152009 Q_0018_06232009 Q_0019_05052011 Q_0019_08112009 Q_0020_03262012 Q_0020_05052011 Q_0020_08112009 Q_0021_01132011 Q_0021_08172009 Q_0021_11052012 Q_0022_08212009 Q_0024_04152011 Q_0024_09212012 Q_0026_03232012 Q_0026_05032013 Q_0028_02022010 Q_0030_02092010 Q_0033_03192010 Q_0036_03302010 Q_0036_06212012 Q_0036_06282011 Q_0037_04202011 Q_0037_04272010 Q_0038_06042010 Q_0039_04132010 Q_0039_06012011 Q_0040_05142010 Q_0040_06272011 Q_0041_05232011 Q_0041_09262012 Q_0043_06012010 Q_0045_07132010 Q_0045_08302011 Q_0045_10052012 Q_0051_01302012 Q_0051_07232010 Q_0052_07302010 Q_0053_08022010 Q_0053_12212012 Q_0054_08062010 Q_0056_08252010 Q_0056_09102012 Q_0059_08032011 Q_0059_08272010 Q_0060_09012010 Q_0062_09082010 Q_0062_11302011 Q_0064_09162010 Q_0067_04012009 Q_0069_04282009 Q_0070_06232009 Q_0071_03022010 Q_0072_01102013 Q_0072_10052010 Q_0072_11032011 Q_0076_10212010 Q_0077_02292012 Q_0077_03112013 Q_0077_10252010 Q_0078_11102011 Q_0078_11192010 Q_0080_11222010 Q_0081_11242010 Q_0082_01062012 Q_0082_01112013 Q_0082_12162010 Q_0085_02242012 Q_0091_03052012 Q_0091_03072011 Q_0092_03102011 Q_0093_03082011 Q_0093_03122012 Q_0093_03122013 Q_0094_03172011 Q_0098_04012011 Q_0099_04012011 Q_0100_04082011 Q_0101_01032013 Q_0101_04122011 Q_0102_01032013 Q_0102_04122011 Q_0103_04182011 Q_0103_08272012 Q_0105_05022011 Q_0109_05262011 Q_0112_06072011 Q_0112_11142012 Q_0114_02062014 Q_0114_06292011 Q_0114_11092012 Q_0117_07062011 Q_0117_08312012 Q_0118_07072011 Q_0120_06182014 Q_0124_07292011 Q_0124_09172012 Q_0126_08012011 Q_0127_03052013 Q_0127_08012014 Q_0127_08082011 Q_0130_08132012 Q_0130_08162011 Q_0130_11042014 Q_0132_08222011 Q_0135_09012011 Q_0136_09012011 Q_0137_09022011 Q_0138_09032013 Q_0138_09042012 Q_0138_09062011 Q_0141_10072013 Q_0141_10072013_old Q_0141_10092012 Q_0146_11082012 Q_0146_12072011 Q_0147_08112015 Q_0147_08142014 Q_0147_12122011 Q_0149_11192012 Q_0149_12192011 Q_0150_11192012 Q_0150_12202011 Q_0151_01122012 Q_0153_01202012 Q_0156_01312012 Q_0156_12102013 Q_0156_12102013_old Q_0157_01312012 Q_0159_02122013 Q_0161_03012012 Q_0161_04192013 Q_0162_03202012 Q_0163_03262012 Q_0166_01092014 Q_0166_04052012 Q_0167_04052012 Q_0168_04052012 Q_0169_04062012 Q_0170_04102012 Q_0170_11252014 Q_0171_04102012 Q_0171_11252014 Q_0172_04122012 Q_0172_04172014 Q_0172_04262013 Q_0173_04122012 Q_0173_04172014 Q_0173_04262013 Q_0174_04182012 Q_0174_04272015 Q_0176_04242012 Q_0176_05072013 Q_0177_05012012 Q_0178_05012012 Q_0182_05182012 Q_0184_05242012 Q_0185_05242012 Q_0186_04092015 Q_0188_05242012 Q_0189_05242012 Q_0190_06012012 Q_0190_08132013 Q_0190_08292014 Q_0192_06112013 Q_0192_06142012_1 Q_0192_06172014 Q_0196_06192015 Q_0196_06202012 Q_0196_09122013 Q_0200_04032015 Q_0200_04032015_2 Q_0200_07092012 Q_0200_08052013 Q_0206_07172012 Q_0206_12022014 Q_0208_07232012 Q_0213_08032012 Q_0213_09262014 Q_0215_08062012 Q_0215_08172015 Q_0216_08062012 Q_0216_08172015 Q_0217_02042015 Q_0217_08092012 Q_0219_08122014 Q_0219_08162012 Q_0219_09012015 Q_0222_08212012 Q_0223_08212012 Q_0225_09042012 Q_0227_10032012 Q_0228_01292014 Q_0228_09272012 Q_0229_10022012 Q_0230_11012012 Q_0232_12122012 Q_0234_03252014 Q_0234_12132012 Q_0236_03072013 Q_0238_03202013 Q_0238_08042014 Q_0238_11132015 Q_0240_03272013 Q_0240_06262014 Q_0242_03272013 Q_0244_09162013 Q_0244_09232014 Q_0246_09242013 Q_0250_09302013 Q_0250_09302014 Q_0250_10062015 Q_0252_12102013 Q_0255_10212014 Q_0257_06042014 Q_0258_06062014 Q_0260_06092014 Q_0263_09152014 Q_0266_02292016 Q_0266_08122014 Q_0268_10132014 Q_0269_10142014 Q_0277_12082014 Q_0278_12092014 Q_0279_12092014 Q_0284_03182015 Q_0285_03182015 Q_0286_03182015 Q_0287_03182015 Q_0291_04172015 Q_0297_05052015 Q_0298_05052015 Q_0298_05052015_2 Q_0300_05052015 Q_0307_10132015 Q_0310_11182015 Q_0311_12082015 Q_0313_12102015 Q_0315_01262016 Q_0319_03232016 Q_0321_03232016 Q_0322_03312016 Q_0326_04142016 Q_0327_04142016"

	# view and rate T1w QC 
	# start with n81 used previously
	sessions_n81="Q_0001_09242012 Q_0005_04182011 Q_0007_04012011 Q_0009_09292011 Q_0016_03292011 Q_0021_01132011 Q_0024_04152011 Q_0026_03232012 Q_0033_03192010 Q_0037_04202011 Q_0039_04132010 Q_0040_05142010 Q_0041_09262012 Q_0052_07302010 Q_0053_08022010 Q_0054_08062010 Q_0056_08252010 Q_0062_11302011 Q_0076_10212010 Q_0077_10252010 Q_0078_11102011 Q_0080_11222010 Q_0081_11242010 Q_0082_12162010 Q_0085_02242012 Q_0091_03072011 Q_0092_03102011 Q_0093_03082011 Q_0098_04012011 Q_0099_04012011 Q_0100_04082011 Q_0101_04122011 Q_0102_04122011 Q_0103_04182011 Q_0109_05262011 Q_0117_07062011 Q_0118_07072011 Q_0124_07292011 Q_0126_08012011 Q_0130_08162011 Q_0132_08222011 Q_0135_09012011 Q_0141_10092012 Q_0146_12072011 Q_0150_12202011 Q_0151_01122012 Q_0153_01202012 Q_0156_01312012 Q_0157_01312012 Q_0159_02122013 Q_0161_03012012 Q_0162_03202012 Q_0169_04062012 Q_0171_04102012 Q_0172_04122012 Q_0173_04122012 Q_0176_04242012 Q_0182_05182012 Q_0184_05242012 Q_0185_05242012 Q_0189_05242012 Q_0213_08032012 Q_0215_08062012 Q_0216_08062012 Q_0217_08092012 Q_0219_08162012 Q_0222_08212012 Q_0228_09272012 Q_0229_10022012 Q_0232_12122012 Q_0234_12132012 Q_0236_03072013 Q_0238_03202013 Q_0240_03272013 Q_0242_03272013 Q_0244_09162013 Q_0246_09242013 Q_0252_12102013 Q_0255_10212014 Q_0260_06092014 Q_0266_08122014"
	cd /u/project/cbearden/data/22q/qunex_studyfolder/sessions/QC/T1w
	#outfile=QC_ratings_t1w.txt; echo "session : rating (0=bad, 1=ok, 2=good)" > $outfile
	#outfile=QC_ratings_t1w.txt; for sesh in $sessions_n81; do echo $sesh; if [[ $(grep -c $sesh $outfile) == 1 ]]; then echo "session already rated in file, skipping…"; else eog ${sesh}*.png & > /dev/null; read -n 1 -p "RATING (0=bad,2=good):" rating; echo ""; echo ${sesh} : ${rating} >> $outfile; echo ""; fi; done
	outfile=QC_ratings_t1w.txt; for sesh in $sessions_n81; do echo $sesh; if [[ $(grep -c $sesh $outfile) == 1 ]]; then echo "session already rated in file, skipping…"; else display ${sesh}*.png & > /dev/null; read -n 1 -p "RATING (0=bad,2=good):" rating; echo ""; echo ${sesh} : ${rating} >> $outfile; echo ""; fi; done
	
	## NOTE: Q_0240_03272013 failed. rh recon failed, appears to be flipped and superimposed on lh. 
	## NOTE: Q_0266_08122014 qc image missing. According to the session_hcp.txt file this subject has no T1w or resting, but we used for jneurosci. Dicom-report on yale server for this subject doesn't match ucla, need to investigate
	
	cp QC_ratings_t1w.txt QC_ratings_t1w_n81_09242021.txt 
	
	# now QC all T1w, skipping ones already rated
	sessions="Q_0001_09242012 Q_0001_10152010 Q_0001_12022008 Q_0003_12222008 Q_0005_02092009 Q_0005_04182011 Q_0007_03162009 Q_0007_04012011 Q_0009_01262009 Q_0009_08112010 Q_0009_09292011 Q_0011_02242009 Q_0013_04012009 Q_0014_04012009 Q_0016_03292011 Q_0016_04172009 Q_0016_10082012 Q_0017_03192014 Q_0017_05012015 Q_0017_06152009 Q_0018_06232009 Q_0019_05052011 Q_0019_08112009 Q_0020_03262012 Q_0020_05052011 Q_0020_08112009 Q_0021_01132011 Q_0021_08172009 Q_0021_11052012 Q_0022_08212009 Q_0024_04152011 Q_0024_09212012 Q_0026_03232012 Q_0026_05032013 Q_0028_02022010 Q_0030_02092010 Q_0033_03192010 Q_0036_03302010 Q_0036_06212012 Q_0036_06282011 Q_0037_04202011 Q_0037_04272010 Q_0038_06042010 Q_0039_04132010 Q_0039_06012011 Q_0040_05142010 Q_0040_06272011 Q_0041_05232011 Q_0041_09262012 Q_0043_06012010 Q_0045_07132010 Q_0045_08302011 Q_0045_10052012 Q_0051_01302012 Q_0051_07232010 Q_0052_07302010 Q_0053_08022010 Q_0053_12212012 Q_0054_08062010 Q_0056_08252010 Q_0056_09102012 Q_0059_08032011 Q_0059_08272010 Q_0060_09012010 Q_0062_09082010 Q_0062_11302011 Q_0064_09162010 Q_0067_04012009 Q_0069_04282009 Q_0070_06232009 Q_0071_03022010 Q_0072_01102013 Q_0072_10052010 Q_0072_11032011 Q_0076_10212010 Q_0077_02292012 Q_0077_03112013 Q_0077_10252010 Q_0078_11102011 Q_0078_11192010 Q_0080_11222010 Q_0081_11242010 Q_0082_01062012 Q_0082_01112013 Q_0082_12162010 Q_0085_02242012 Q_0091_03052012 Q_0091_03072011 Q_0092_03102011 Q_0093_03082011 Q_0093_03122012 Q_0093_03122013 Q_0094_03172011 Q_0098_04012011 Q_0099_04012011 Q_0100_04082011 Q_0101_01032013 Q_0101_04122011 Q_0102_01032013 Q_0102_04122011 Q_0103_04182011 Q_0103_08272012 Q_0105_05022011 Q_0109_05262011 Q_0112_06072011 Q_0112_11142012 Q_0114_02062014 Q_0114_06292011 Q_0114_11092012 Q_0117_07062011 Q_0117_08312012 Q_0118_07072011 Q_0120_06182014 Q_0124_07292011 Q_0124_09172012 Q_0126_08012011 Q_0127_03052013 Q_0127_08012014 Q_0127_08082011 Q_0130_08132012 Q_0130_08162011 Q_0130_11042014 Q_0132_08222011 Q_0135_09012011 Q_0136_09012011 Q_0137_09022011 Q_0138_09032013 Q_0138_09042012 Q_0138_09062011 Q_0141_10072013 Q_0141_10072013_old Q_0141_10092012 Q_0146_11082012 Q_0146_12072011 Q_0147_08112015 Q_0147_08142014 Q_0147_12122011 Q_0149_11192012 Q_0149_12192011 Q_0150_11192012 Q_0150_12202011 Q_0151_01122012 Q_0153_01202012 Q_0156_01312012 Q_0156_12102013 Q_0156_12102013_old Q_0157_01312012 Q_0159_02122013 Q_0161_03012012 Q_0161_04192013 Q_0162_03202012 Q_0163_03262012 Q_0166_01092014 Q_0166_04052012 Q_0167_04052012 Q_0168_04052012 Q_0169_04062012 Q_0170_04102012 Q_0170_11252014 Q_0171_04102012 Q_0171_11252014 Q_0172_04122012 Q_0172_04172014 Q_0172_04262013 Q_0173_04122012 Q_0173_04172014 Q_0173_04262013 Q_0174_04182012 Q_0174_04272015 Q_0176_04242012 Q_0176_05072013 Q_0177_05012012 Q_0178_05012012 Q_0182_05182012 Q_0184_05242012 Q_0185_05242012 Q_0186_04092015 Q_0188_05242012 Q_0189_05242012 Q_0190_06012012 Q_0190_08132013 Q_0190_08292014 Q_0192_06112013 Q_0192_06142012_1 Q_0192_06172014 Q_0196_06192015 Q_0196_06202012 Q_0196_09122013 Q_0200_04032015 Q_0200_04032015_2 Q_0200_07092012 Q_0200_08052013 Q_0206_07172012 Q_0206_12022014 Q_0208_07232012 Q_0213_08032012 Q_0213_09262014 Q_0215_08062012 Q_0215_08172015 Q_0216_08062012 Q_0216_08172015 Q_0217_02042015 Q_0217_08092012 Q_0219_08122014 Q_0219_08162012 Q_0219_09012015 Q_0222_08212012 Q_0223_08212012 Q_0225_09042012 Q_0227_10032012 Q_0228_01292014 Q_0228_09272012 Q_0229_10022012 Q_0230_11012012 Q_0232_12122012 Q_0234_03252014 Q_0234_12132012 Q_0236_03072013 Q_0238_03202013 Q_0238_08042014 Q_0238_11132015 Q_0240_03272013 Q_0240_06262014 Q_0242_03272013 Q_0244_09162013 Q_0244_09232014 Q_0246_09242013 Q_0250_09302013 Q_0250_09302014 Q_0250_10062015 Q_0252_12102013 Q_0255_10212014 Q_0257_06042014 Q_0258_06062014 Q_0260_06092014 Q_0263_09152014 Q_0266_02292016 Q_0266_08122014 Q_0268_10132014 Q_0269_10142014 Q_0277_12082014 Q_0278_12092014 Q_0279_12092014 Q_0284_03182015 Q_0285_03182015 Q_0286_03182015 Q_0287_03182015 Q_0291_04172015 Q_0297_05052015 Q_0298_05052015 Q_0298_05052015_2 Q_0300_05052015 Q_0307_10132015 Q_0310_11182015 Q_0311_12082015 Q_0313_12102015 Q_0315_01262016 Q_0319_03232016 Q_0321_03232016 Q_0322_03312016 Q_0326_04142016 Q_0327_04142016"
	cd /u/project/cbearden/data/22q/qunex_studyfolder/sessions/QC/T1w
	outfile=QC_ratings_t1w.txt; for sesh in $sessions; do echo $sesh; if [[ $(grep -c $sesh $outfile) == 1 ]]; then echo "session already rated in file, skipping…"; else display ${sesh}*.png & > /dev/null; read -n 1 -p "RATING (0=bad,2=good):" rating; echo ""; echo ${sesh} : ${rating} >> $outfile; echo ""; fi; done
	
	## NOTE: no image for Q_0009_01262009,Q_0013_04012009,Q_0017_06152009,Q_0018_06232009,Q_0070_06232009,Q_0130_11042014,Q_0200_04032015_2,Q_0225_09042012,Q_0230_11012012,Q_0266_08122014
	
	## list of t1w to re-run post initial QC:
	sessions="Q_0240_03272013 Q_0009_01262009 Q_0013_04012009 Q_0017_06152009 Q_0018_06232009 Q_0070_06232009 Q_0130_11042014 Q_0200_04032015_2 Q_0225_09042012 Q_0230_11012012 Q_0266_08122014"

## BOLD QC
# Note: --bolddata option was not working as described in documentation ("all" did not work, and names from batch file didn't work)
# searches in MNINonLinear/Results/$boldprefix_bolddata/ for file names $boldprefix_$bolddata_$boldsuffix
cd /u/project/cbearden/data/22q/qunex_studyfolder/processing/logs/manual
/u/project/cbearden/data/scripts/tools/qunex_bin/hoffman_submit_qunex.sh \
--qunex_command="run_qc" \
--qunex_options="--modality=BOLD --bolddata=1,2,3 --boldprefix=BOLD --boldsuffix=Atlas --overwrite=yes --skipframes=5 --sessionsfolder=/u/project/cbearden/data/22q/qunex_studyfolder/sessions" \
--scheduler_options="-l h_data=16G,h_rt=24:00:00" \
--array="yes" \
--sessions="Q_0001_09242012 Q_0001_10152010 Q_0001_12022008 Q_0003_12222008 Q_0005_02092009 Q_0005_04182011 Q_0007_03162009 Q_0007_04012011 Q_0009_01262009 Q_0009_08112010 Q_0009_09292011 Q_0011_02242009 Q_0013_04012009 Q_0014_04012009 Q_0016_03292011 Q_0016_04172009 Q_0016_10082012 Q_0017_03192014 Q_0017_05012015 Q_0017_06152009 Q_0018_06232009 Q_0019_05052011 Q_0019_08112009 Q_0020_03262012 Q_0020_05052011 Q_0020_08112009 Q_0021_01132011 Q_0021_08172009 Q_0021_11052012 Q_0022_08212009 Q_0024_04152011 Q_0024_09212012 Q_0026_03232012 Q_0026_05032013 Q_0028_02022010 Q_0030_02092010 Q_0033_03192010 Q_0036_03302010 Q_0036_06212012 Q_0036_06282011 Q_0037_04202011 Q_0037_04272010 Q_0038_06042010 Q_0039_04132010 Q_0039_06012011 Q_0040_05142010 Q_0040_06272011 Q_0041_05232011 Q_0041_09262012 Q_0043_06012010 Q_0045_07132010 Q_0045_08302011 Q_0045_10052012 Q_0051_01302012 Q_0051_07232010 Q_0052_07302010 Q_0053_08022010 Q_0053_12212012 Q_0054_08062010 Q_0056_08252010 Q_0056_09102012 Q_0059_08032011 Q_0059_08272010 Q_0060_09012010 Q_0062_09082010 Q_0062_11302011 Q_0064_09162010 Q_0067_04012009 Q_0069_04282009 Q_0070_06232009 Q_0071_03022010 Q_0072_01102013 Q_0072_10052010 Q_0072_11032011 Q_0076_10212010 Q_0077_02292012 Q_0077_03112013 Q_0077_10252010 Q_0078_11102011 Q_0078_11192010 Q_0080_11222010 Q_0081_11242010 Q_0082_01062012 Q_0082_01112013 Q_0082_12162010 Q_0085_02242012 Q_0091_03052012 Q_0091_03072011 Q_0092_03102011 Q_0093_03082011 Q_0093_03122012 Q_0093_03122013 Q_0094_03172011 Q_0098_04012011 Q_0099_04012011 Q_0100_04082011 Q_0101_01032013 Q_0101_04122011 Q_0102_01032013 Q_0102_04122011 Q_0103_04182011 Q_0103_08272012 Q_0105_05022011 Q_0109_05262011 Q_0112_06072011 Q_0112_11142012 Q_0114_02062014 Q_0114_06292011 Q_0114_11092012 Q_0117_07062011 Q_0117_08312012 Q_0118_07072011 Q_0120_06182014 Q_0124_07292011 Q_0124_09172012 Q_0126_08012011 Q_0127_03052013 Q_0127_08012014 Q_0127_08082011 Q_0130_08132012 Q_0130_08162011 Q_0130_11042014 Q_0132_08222011 Q_0135_09012011 Q_0136_09012011 Q_0137_09022011 Q_0138_09032013 Q_0138_09042012 Q_0138_09062011 Q_0141_10072013 Q_0141_10072013_old Q_0141_10092012 Q_0146_11082012 Q_0146_12072011 Q_0147_08112015 Q_0147_08142014 Q_0147_12122011 Q_0149_11192012 Q_0149_12192011 Q_0150_11192012 Q_0150_12202011 Q_0151_01122012 Q_0153_01202012 Q_0156_01312012 Q_0156_12102013 Q_0156_12102013_old Q_0157_01312012 Q_0159_02122013 Q_0161_03012012 Q_0161_04192013 Q_0162_03202012 Q_0163_03262012 Q_0166_01092014 Q_0166_04052012 Q_0167_04052012 Q_0168_04052012 Q_0169_04062012 Q_0170_04102012 Q_0170_11252014 Q_0171_04102012 Q_0171_11252014 Q_0172_04122012 Q_0172_04172014 Q_0172_04262013 Q_0173_04122012 Q_0173_04172014 Q_0173_04262013 Q_0174_04182012 Q_0174_04272015 Q_0176_04242012 Q_0176_05072013 Q_0177_05012012 Q_0178_05012012 Q_0182_05182012 Q_0184_05242012 Q_0185_05242012 Q_0186_04092015 Q_0188_05242012 Q_0189_05242012 Q_0190_06012012 Q_0190_08132013 Q_0190_08292014 Q_0192_06112013 Q_0192_06142012_1 Q_0192_06172014 Q_0196_06192015 Q_0196_06202012 Q_0196_09122013 Q_0200_04032015 Q_0200_04032015_2 Q_0200_07092012 Q_0200_08052013 Q_0206_07172012 Q_0206_12022014 Q_0208_07232012 Q_0213_08032012 Q_0213_09262014 Q_0215_08062012 Q_0215_08172015 Q_0216_08062012 Q_0216_08172015 Q_0217_02042015 Q_0217_08092012 Q_0219_08122014 Q_0219_08162012 Q_0219_09012015 Q_0222_08212012 Q_0223_08212012 Q_0225_09042012 Q_0227_10032012 Q_0228_01292014 Q_0228_09272012 Q_0229_10022012 Q_0230_11012012 Q_0232_12122012 Q_0234_03252014 Q_0234_12132012 Q_0236_03072013 Q_0238_03202013 Q_0238_08042014 Q_0238_11132015 Q_0240_03272013 Q_0240_06262014 Q_0242_03272013 Q_0244_09162013 Q_0244_09232014 Q_0246_09242013 Q_0250_09302013 Q_0250_09302014 Q_0250_10062015 Q_0252_12102013 Q_0255_10212014 Q_0257_06042014 Q_0258_06062014 Q_0260_06092014 Q_0263_09152014 Q_0266_02292016 Q_0266_08122014 Q_0268_10132014 Q_0269_10142014 Q_0277_12082014 Q_0278_12092014 Q_0279_12092014 Q_0284_03182015 Q_0285_03182015 Q_0286_03182015 Q_0287_03182015 Q_0291_04172015 Q_0297_05052015 Q_0298_05052015 Q_0298_05052015_2 Q_0300_05052015 Q_0307_10132015 Q_0310_11182015 Q_0311_12082015 Q_0313_12102015 Q_0315_01262016 Q_0319_03232016 Q_0321_03232016 Q_0322_03312016 Q_0326_04142016 Q_0327_04142016"

	## create csv matching boldn to run names 
	/u/project/cbearden/data/22q/qunex_studyfolder/processing/scripts/table_from_session_files.py Q_0001_09242012 Q_0001_10152010 Q_0001_12022008 Q_0003_12222008 Q_0005_02092009 Q_0005_04182011 Q_0007_03162009 Q_0007_04012011 Q_0009_01262009 Q_0009_08112010 Q_0009_09292011 Q_0011_02242009 Q_0013_04012009 Q_0014_04012009 Q_0016_03292011 Q_0016_04172009 Q_0016_10082012 Q_0017_03192014 Q_0017_05012015 Q_0017_06152009 Q_0018_06232009 Q_0019_05052011 Q_0019_08112009 Q_0020_03262012 Q_0020_05052011 Q_0020_08112009 Q_0021_01132011 Q_0021_08172009 Q_0021_11052012 Q_0022_08212009 Q_0024_04152011 Q_0024_09212012 Q_0026_03232012 Q_0026_05032013 Q_0028_02022010 Q_0030_02092010 Q_0033_03192010 Q_0036_03302010 Q_0036_06212012 Q_0036_06282011 Q_0037_04202011 Q_0037_04272010 Q_0038_06042010 Q_0039_04132010 Q_0039_06012011 Q_0040_05142010 Q_0040_06272011 Q_0041_05232011 Q_0041_09262012 Q_0043_06012010 Q_0045_07132010 Q_0045_08302011 Q_0045_10052012 Q_0051_01302012 Q_0051_07232010 Q_0052_07302010 Q_0053_08022010 Q_0053_12212012 Q_0054_08062010 Q_0056_08252010 Q_0056_09102012 Q_0059_08032011 Q_0059_08272010 Q_0060_09012010 Q_0062_09082010 Q_0062_11302011 Q_0064_09162010 Q_0067_04012009 Q_0069_04282009 Q_0070_06232009 Q_0071_03022010 Q_0072_01102013 Q_0072_10052010 Q_0072_11032011 Q_0076_10212010 Q_0077_02292012 Q_0077_03112013 Q_0077_10252010 Q_0078_11102011 Q_0078_11192010 Q_0080_11222010 Q_0081_11242010 Q_0082_01062012 Q_0082_01112013 Q_0082_12162010 Q_0085_02242012 Q_0091_03052012 Q_0091_03072011 Q_0092_03102011 Q_0093_03082011 Q_0093_03122012 Q_0093_03122013 Q_0094_03172011 Q_0098_04012011 Q_0099_04012011 Q_0100_04082011 Q_0101_01032013 Q_0101_04122011 Q_0102_01032013 Q_0102_04122011 Q_0103_04182011 Q_0103_08272012 Q_0105_05022011 Q_0109_05262011 Q_0112_06072011 Q_0112_11142012 Q_0114_02062014 Q_0114_06292011 Q_0114_11092012 Q_0117_07062011 Q_0117_08312012 Q_0118_07072011 Q_0120_06182014 Q_0124_07292011 Q_0124_09172012 Q_0126_08012011 Q_0127_03052013 Q_0127_08012014 Q_0127_08082011 Q_0130_08132012 Q_0130_08162011 Q_0130_11042014 Q_0132_08222011 Q_0135_09012011 Q_0136_09012011 Q_0137_09022011 Q_0138_09032013 Q_0138_09042012 Q_0138_09062011 Q_0141_10072013 Q_0141_10072013_old Q_0141_10092012 Q_0146_11082012 Q_0146_12072011 Q_0147_08112015 Q_0147_08142014 Q_0147_12122011 Q_0149_11192012 Q_0149_12192011 Q_0150_11192012 Q_0150_12202011 Q_0151_01122012 Q_0153_01202012 Q_0156_01312012 Q_0156_12102013 Q_0156_12102013_old Q_0157_01312012 Q_0159_02122013 Q_0161_03012012 Q_0161_04192013 Q_0162_03202012 Q_0163_03262012 Q_0166_01092014 Q_0166_04052012 Q_0167_04052012 Q_0168_04052012 Q_0169_04062012 Q_0170_04102012 Q_0170_11252014 Q_0171_04102012 Q_0171_11252014 Q_0172_04122012 Q_0172_04172014 Q_0172_04262013 Q_0173_04122012 Q_0173_04172014 Q_0173_04262013 Q_0174_04182012 Q_0174_04272015 Q_0176_04242012 Q_0176_05072013 Q_0177_05012012 Q_0178_05012012 Q_0182_05182012 Q_0184_05242012 Q_0185_05242012 Q_0186_04092015 Q_0188_05242012 Q_0189_05242012 Q_0190_06012012 Q_0190_08132013 Q_0190_08292014 Q_0192_06112013 Q_0192_06142012_1 Q_0192_06172014 Q_0196_06192015 Q_0196_06202012 Q_0196_09122013 Q_0200_04032015 Q_0200_04032015_2 Q_0200_07092012 Q_0200_08052013 Q_0206_07172012 Q_0206_12022014 Q_0208_07232012 Q_0213_08032012 Q_0213_09262014 Q_0215_08062012 Q_0215_08172015 Q_0216_08062012 Q_0216_08172015 Q_0217_02042015 Q_0217_08092012 Q_0219_08122014 Q_0219_08162012 Q_0219_09012015 Q_0222_08212012 Q_0223_08212012 Q_0225_09042012 Q_0227_10032012 Q_0228_01292014 Q_0228_09272012 Q_0229_10022012 Q_0230_11012012 Q_0232_12122012 Q_0234_03252014 Q_0234_12132012 Q_0236_03072013 Q_0238_03202013 Q_0238_08042014 Q_0238_11132015 Q_0240_03272013 Q_0240_06262014 Q_0242_03272013 Q_0244_09162013 Q_0244_09232014 Q_0246_09242013 Q_0250_09302013 Q_0250_09302014 Q_0250_10062015 Q_0252_12102013 Q_0255_10212014 Q_0257_06042014 Q_0258_06062014 Q_0260_06092014 Q_0263_09152014 Q_0266_02292016 Q_0266_08122014 Q_0268_10132014 Q_0269_10142014 Q_0277_12082014 Q_0278_12092014 Q_0279_12092014 Q_0284_03182015 Q_0285_03182015 Q_0286_03182015 Q_0287_03182015 Q_0291_04172015 Q_0297_05052015 Q_0298_05052015 Q_0298_05052015_2 Q_0300_05052015 Q_0307_10132015 Q_0310_11182015 Q_0311_12082015 Q_0313_12102015 Q_0315_01262016 Q_0319_03232016 Q_0321_03232016 Q_0322_03312016 Q_0326_04142016 Q_0327_04142016
	
	## view and rate all BOLD QC
	infile="/u/project/cbearden/data/22q/qunex_studyfolder/processing/scripts/22qTrio_boldn_resting.csv"
	qcdir="/u/project/cbearden/data/22q/qunex_studyfolder/sessions/QC/BOLD/"
	outfile="${qcdir}/QC_ratings_BOLD_resting.txt"
	cd $qcdir
	#echo "session : rating (0=bad, 1=ok, 2=good, m=missing)" > $outfile
	while read -u 3 p; do
		sesh=$(echo "$p" | cut  -d ',' -f 1)
		boldn=$(echo "$p" | cut  -d ',' -f 3 | tr -dc '0-9')
		echo "${sesh} : bold${boldn}"
		if [[ $(grep -c "${sesh} : bold${boldn}" $outfile) == 1 ]]; then echo "session already rated in file, skipping…"
		elif [[ $sesh == Q_* ]]; then display ${qcdir}/${sesh}.BOLD.BOLD_${boldn}.QC.wb.scene.*.GSmap.QC.wb.png & > /dev/null
		read -n 1 -p "RATING (0=bad,2=good,m=missing):" rating 
		echo ""; echo ${sesh} : bold${boldn} : ${rating} >> $outfile; echo "";
		fi
	done 3<$infile
	
	## Note: no image for Q_0054_08062010.BOLD.BOLD_4, Q_0112_11142012.BOLD.BOLD_4, Q_0130_11042014.BOLD.BOLD_1, Q_0173_04262013.BOLD.BOLD_1, Q_0173_04262013.BOLD.BOLD_1, Q_0173_04262013.BOLD.BOLD_1, Q_0173_04262013.BOLD.BOLD_1, Q_0240_03272013.BOLD.BOLD_1, Q_0269_10142014.BOLD.BOLD_1, Q_0269_10142014.BOLD.BOLD_3
	## Note: unclear if distortion or anatomical variation in Q_0072_01102013 bold1 and Q_0072_11032011 bold1
	## Note: Q_0284_03182015 : bold1 parietal lobe looks small, anatomical variation or bad scan? Check t1w
	## Note: Q_0192_06112013 : bold1 looks short, will confirm number of frames
	
	## get number of frames for BOLD resting runs
	## run after map hcp data
	infile="/u/project/cbearden/data/22q/qunex_studyfolder/processing/scripts/22qTrio_boldn_resting.csv"
	seshdir="/u/project/cbearden/data/22q/qunex_studyfolder/sessions/"
	outfile="${seshdir}/QC/BOLD/nframes_BOLD_resting.txt"
	cd ${seshdir}/QC/BOLD
	echo "session,boldn,nframes " > $outfile
	while read -u 3 p; do
		sesh=$(echo "$p" | cut  -d ',' -f 1)
		boldn=$(echo "$p" | cut  -d ',' -f 3 | tr -dc '0-9')
		boldfile=${seshdir}/${sesh}/images/functional/bold${boldn}.nii.gz
		if [[ -f ${boldfile} ]]; then frames=$(fslinfo ${boldfile} | grep "^dim4" | cut -f 3)
		else frames="no bold${boldn}.nii.gz in images"
		fi
		echo "${sesh}, bold${boldn}, ${frames}"
		echo "${sesh}, bold${boldn}, ${frames}" >> $outfile
	done 3<$infile
	

#####################################################################
### investigate n=11 failed t1w QC 
### Q_0240_03272013 rh recon failed, the rest were missing QC image
#####################################################################

sessions_n12="Q_0240_03272013 Q_0009_01262009 Q_0013_04012009 Q_0017_06152009 Q_0018_06232009 Q_0070_06232009 Q_0130_11042014 Q_0200_04032015_2 Q_0225_09042012 Q_0230_11012012 Q_0266_08122014 Q_0328_04262016"

## first try re-running T1w QC to see if any images generate
# didn't change anything
cd /u/project/cbearden/data/22q/qunex_studyfolder/processing/logs/manual
/u/project/cbearden/data/scripts/tools/qunex_bin/hoffman_submit_qunex.sh \
--qunex_command="run_qc" \
--qunex_options="--modality=T1w --outpath=/u/project/cbearden/data/22q/qunex_studyfolder/sessions/QC/T1w_v2 --sessionsfolder=/u/project/cbearden/data/22q/qunex_studyfolder/sessions --overwrite=no" \
--scheduler_options="-l h_data=16G,h_rt=24:00:00" \
--array="yes" \
--sessions="Q_0240_03272013 Q_0009_01262009 Q_0013_04012009 Q_0017_06152009 Q_0018_06232009 Q_0070_06232009 Q_0130_11042014 Q_0200_04032015_2 Q_0225_09042012 Q_0230_11012012 Q_0266_08122014"


# it seems like for some (e.g. Q_0266_08122014) there is a discrepancy between the runs in qunex_studyfolder and in raw
# first check what runs each session has in raw data dir
/u/project/cbearden/data/22q/qunex_studyfolder/processing/scripts/check_raw_files.sh
# then go through those sessions and check resting and mprage counts against qunex_studyfolder
/u/project/cbearden/data/22q/qunex_studyfolder/processing/scripts/check_qunex_against_raw.py
# output and notes here: /u/project/cbearden/data/22q/qunex_studyfolder/sessions/specs/raw_qunex_runs_compare_093021_annotated.xlsx
# for qunex sessions missing data
# sessions with t1w only: 
sessions="Q_0015_04132009 Q_0038_04192011 Q_0038_05062010 Q_0038_06062011 Q_0192_06142012"
# sessions with t1w and resting (also added Q_0240_03272013 to start from scratch and hopefully fix recon issue noted above):
sessions_resting="Q_0130_11042014 Q_0217_01142014 Q_0242_05162016 Q_0260_10262015 Q_0328_04262016 Q_0240_03232015 Q_0266_08122014 Q_0240_03272013" 
## first create new study to import dicoms without disrupting main study folder
#cd /u/project/cbearden/data/22q/qunex_studyfolder/processing/logs/manual/
#/u/project/cbearden/data/scripts/tools/qunex_bin/hoffman_submit_qunex.sh \
#--qunex_command="create_study" \
#--qunex_options="--studyfolder=/u/project/cbearden/data/22q/qunex_studyfolder_test" \
#--scheduler_options="-l h_data=4G,h_rt=4:00:00" \
#--array="no" 
# make test sessions dir
mkdir /u/project/cbearden/data/22q/qunex_studyfolder/sessions_test
## remove existing data and copy over new dicoms from raw 
sdir="/u/project/cbearden/data/22q/qunex_studyfolder/sessions/"
tdir="/u/project/cbearden/data/22q/qunex_studyfolder/sessions_test"
rdir="/u/project/cbearden/data/raw/22q"
inbox=${tdir}/inbox/MR
mkdir -p $inbox
for sesh in $sessions_resting; do
	if [[ -d ${sdir}/${sesh} ]]; then mv -v ${sdir}/${sesh} ${sdir}/outdated; fi
	for run in $(ls ${rdir}/${sesh}/*/*/*/); do
		for i in $(ls ${rdir}/${sesh}/*/*/*/${run}); do
			cp -v ${rdir}/${sesh}/*/*/*/${run}/${i} ${inbox}/${sesh}/inbox/${run}_${i}
		done
	done
done
## import_dicom new files
cd /u/project/cbearden/data/22q/qunex_studyfolder/processing/logs/manual/
/u/project/cbearden/data/scripts/tools/qunex_bin/hoffman_submit_qunex.sh \
--qunex_command="import_dicom" \
--qunex_options="--sessionsfolder=/u/project/cbearden/data/22q/qunex_studyfolder/sessions_test --gzip=yes --check=any" \
--scheduler_options="-l h_data=16G,h_rt=24:00:00" \
--array="no" 
# Q_0266_08122014 resting and mprage still missing after import dicom despite being in inbox. deleting and trying again with only mprage and rest
rm -rfv /u/project/cbearden/data/22q/qunex_studyfolder/sessions_test/Q_0266_08122014
mkdir -p /u/project/cbearden/data/22q/qunex_studyfolder/sessions_test/inbox/MR/Q_0266_08122014/inbox
cp -v /u/project/cbearden/data/22q/qunex_studyfolder/sessions_test/archive/MR/Q_0266_08122014/inbox/*MPRAGE* /u/project/cbearden/data/22q/qunex_studyfolder/sessions_test/inbox/MR/Q_0266_08122014/inbox/
cp -v /u/project/cbearden/data/22q/qunex_studyfolder/sessions_test/archive/MR/Q_0266_08122014/inbox/*RESTING* /u/project/cbearden/data/22q/qunex_studyfolder/sessions_test/inbox/MR/Q_0266_08122014/inbox/
# rerunning import dicom with only mprage and resting dicoms in inbox worked.
# Note: bold task for Q_0266_08122014 not processed
cp -rv /u/project/cbearden/data/22q/qunex_studyfolder/sessions_test/Q_* /u/project/cbearden/data/22q/qunex_studyfolder/sessions
for sesh in $sessions_resting; do sed -i 's/sessions_test/sessions/' /u/project/cbearden/data/22q/qunex_studyfolder/sessions/${sesh}/session.txt done

## map hcp
cd /u/project/cbearden/data/22q/qunex_studyfolder/processing/logs/manual/
/u/project/cbearden/data/scripts/tools/qunex_bin/hoffman_submit_qunex.sh \
--qunex_command="create_session_info" \
--qunex_options="--overwrite=no --sourcefile=session.txt --targetfile=session_hcp.txt --pipelines=hcp --mapping=/u/project/cbearden/data/22q/qunex_studyfolder/sessions/specs/22q_HCP_mapping.txt --sessionsfolder=/u/project/cbearden/data/22q/qunex_studyfolder/sessions/" \
--scheduler_options="-l h_data=8G,h_rt=5:00:00,rh7" \
--array="no" 

# make csv with counts of t1w and resting scans for all sessions in qunex_studyfolder
/u/project/cbearden/data/22q/qunex_studyfolder/processing/scripts/qunex_count_t1_rest.py Q_0001_09242012 Q_0001_10152010 Q_0001_12022008 Q_0003_12222008 Q_0005_02092009 Q_0005_04182011 Q_0007_03162009 Q_0007_04012011 Q_0009_01262009 Q_0009_08112010 Q_0009_09292011 Q_0011_02242009 Q_0013_04012009 Q_0014_04012009 Q_0016_03292011 Q_0016_04172009 Q_0016_10082012 Q_0017_03192014 Q_0017_05012015 Q_0017_06152009 Q_0018_06232009 Q_0019_05052011 Q_0019_08112009 Q_0020_03262012 Q_0020_05052011 Q_0020_08112009 Q_0021_01132011 Q_0021_08172009 Q_0021_11052012 Q_0022_08212009 Q_0024_04152011 Q_0024_09212012 Q_0026_03232012 Q_0026_05032013 Q_0028_02022010 Q_0030_02092010 Q_0033_03192010 Q_0036_03302010 Q_0036_06212012 Q_0036_06282011 Q_0037_04202011 Q_0037_04272010 Q_0038_06042010 Q_0039_04132010 Q_0039_06012011 Q_0040_05142010 Q_0040_06272011 Q_0041_05232011 Q_0041_09262012 Q_0043_06012010 Q_0045_07132010 Q_0045_08302011 Q_0045_10052012 Q_0051_01302012 Q_0051_07232010 Q_0052_07302010 Q_0053_08022010 Q_0053_12212012 Q_0054_08062010 Q_0056_08252010 Q_0056_09102012 Q_0059_08032011 Q_0059_08272010 Q_0060_09012010 Q_0062_09082010 Q_0062_11302011 Q_0064_09162010 Q_0067_04012009 Q_0069_04282009 Q_0070_06232009 Q_0071_03022010 Q_0072_01102013 Q_0072_10052010 Q_0072_11032011 Q_0076_10212010 Q_0077_02292012 Q_0077_03112013 Q_0077_10252010 Q_0078_11102011 Q_0078_11192010 Q_0080_11222010 Q_0081_11242010 Q_0082_01062012 Q_0082_01112013 Q_0082_12162010 Q_0085_02242012 Q_0091_03052012 Q_0091_03072011 Q_0092_03102011 Q_0093_03082011 Q_0093_03122012 Q_0093_03122013 Q_0094_03172011 Q_0098_04012011 Q_0099_04012011 Q_0100_04082011 Q_0101_01032013 Q_0101_04122011 Q_0102_01032013 Q_0102_04122011 Q_0103_04182011 Q_0103_08272012 Q_0105_05022011 Q_0109_05262011 Q_0112_06072011 Q_0112_11142012 Q_0114_02062014 Q_0114_06292011 Q_0114_11092012 Q_0117_07062011 Q_0117_08312012 Q_0118_07072011 Q_0120_06182014 Q_0124_07292011 Q_0124_09172012 Q_0126_08012011 Q_0127_03052013 Q_0127_08012014 Q_0127_08082011 Q_0130_08132012 Q_0130_08162011 Q_0130_11042014 Q_0132_08222011 Q_0135_09012011 Q_0136_09012011 Q_0137_09022011 Q_0138_09032013 Q_0138_09042012 Q_0138_09062011 Q_0141_10072013 Q_0141_10072013_old Q_0141_10092012 Q_0146_11082012 Q_0146_12072011 Q_0147_08112015 Q_0147_08142014 Q_0147_12122011 Q_0149_11192012 Q_0149_12192011 Q_0150_11192012 Q_0150_12202011 Q_0151_01122012 Q_0153_01202012 Q_0156_01312012 Q_0156_12102013 Q_0156_12102013_old Q_0157_01312012 Q_0159_02122013 Q_0161_03012012 Q_0161_04192013 Q_0162_03202012 Q_0163_03262012 Q_0166_01092014 Q_0166_04052012 Q_0167_04052012 Q_0168_04052012 Q_0169_04062012 Q_0170_04102012 Q_0170_11252014 Q_0171_04102012 Q_0171_11252014 Q_0172_04122012 Q_0172_04172014 Q_0172_04262013 Q_0173_04122012 Q_0173_04172014 Q_0173_04262013 Q_0174_04182012 Q_0174_04272015 Q_0176_04242012 Q_0176_05072013 Q_0177_05012012 Q_0178_05012012 Q_0182_05182012 Q_0184_05242012 Q_0185_05242012 Q_0186_04092015 Q_0188_05242012 Q_0189_05242012 Q_0190_06012012 Q_0190_08132013 Q_0190_08292014 Q_0192_06112013 Q_0192_06142012_1 Q_0192_06172014 Q_0196_06192015 Q_0196_06202012 Q_0196_09122013 Q_0200_04032015 Q_0200_04032015_2 Q_0200_07092012 Q_0200_08052013 Q_0206_07172012 Q_0206_12022014 Q_0208_07232012 Q_0213_08032012 Q_0213_09262014 Q_0215_08062012 Q_0215_08172015 Q_0216_08062012 Q_0216_08172015 Q_0217_01142014 Q_0217_02042015 Q_0217_08092012 Q_0219_08122014 Q_0219_08162012 Q_0219_09012015 Q_0222_08212012 Q_0223_08212012 Q_0225_09042012 Q_0227_10032012 Q_0228_01292014 Q_0228_09272012 Q_0229_10022012 Q_0230_11012012 Q_0232_12122012 Q_0234_03252014 Q_0234_12132012 Q_0236_03072013 Q_0238_03202013 Q_0238_08042014 Q_0238_11132015 Q_0240_03232015 Q_0240_03272013 Q_0240_06262014 Q_0242_03272013 Q_0242_05162016 Q_0244_09162013 Q_0244_09232014 Q_0246_09242013 Q_0250_09302013 Q_0250_09302014 Q_0250_10062015 Q_0252_12102013 Q_0255_10212014 Q_0257_06042014 Q_0258_06062014 Q_0260_06092014 Q_0260_10262015 Q_0263_09152014 Q_0266_02292016 Q_0266_08122014 Q_0268_10132014 Q_0269_10142014 Q_0277_12082014 Q_0278_12092014 Q_0279_12092014 Q_0284_03182015 Q_0285_03182015 Q_0286_03182015 Q_0287_03182015 Q_0291_04172015 Q_0297_05052015 Q_0298_05052015 Q_0298_05052015_2 Q_0300_05052015 Q_0307_10132015 Q_0310_11182015 Q_0311_12082015 Q_0313_12102015 Q_0315_01262016 Q_0319_03232016 Q_0321_03232016 Q_0322_03312016 Q_0326_04142016 Q_0327_04142016 Q_0328_04262016    
# sessions to rerun based on /u/project/cbearden/data/22q/qunex_studyfolder/sessions/specs/qunex_t1_rest_counts_annotated.xlsx
sessions_rerun="Q_0130_11042014"
# unusable sessions missing t1w and/or bold resting
sessions_discard="Q_0009_01262009 Q_0013_04012009 Q_0017_06152009 Q_0018_06232009 Q_0070_06232009 Q_0200_04032015_2 Q_0225_09042012 Q_0230_11012012 Q_0298_05052015 Q_0007_03162009 Q_0009_08112010 Q_0017_03192014 Q_0017_05012015 Q_0019_08112009 Q_0020_08112009 Q_0021_08172009 Q_0022_08212009 Q_0028_02022010 Q_0043_06012010 Q_0051_07232010 Q_0060_09012010 Q_0062_09082010 Q_0064_09162010 Q_0067_04012009 Q_0069_04282009 Q_0071_03022010 Q_0167_04052012 Q_0172_04172014 Q_0206_12022014 Q_0213_09262014 Q_0258_06062014 Q_0263_09152014 Q_0266_02292016 Q_0279_12092014 Q_0297_05052015 Q_0298_05052015_2 Q_0313_12102015 Q_0319_03232016 Q_0001_12022008 Q_0003_12222008 Q_0005_02092009 Q_0011_02242009 Q_0014_04012009 Q_0016_04172009 Q_0030_02092010 Q_0037_04272010 Q_0041_05232011 Q_0072_10052010 Q_0078_11192010 Q_0192_06142012_1 Q_0206_07172012 Q_0208_07232012 Q_0250_10062015 Q_0257_06042014 Q_0278_12092014 Q_0300_05052015 Q_0059_08272010 Q_0192_06172014 Q_0250_09302014"
mkdir /u/project/cbearden/data/22q/qunex_studyfolder/sessions/unused_sessions
for sesh in $sessions_discard; do mv -v /u/project/cbearden/data/22q/qunex_studyfolder/sessions/${sesh} /u/project/cbearden/data/22q/qunex_studyfolder/sessions/unused_sessions;done
# try and fix Q_0130_11042014 similar to Q_0266_08122014 by only importing mprage and rest dicoms
mv -v /u/project/cbearden/data/22q/qunex_studyfolder/sessions/Q_0130_11042014 /u/project/cbearden/data/22q/qunex_studyfolder/sessions/outdated/Q_0130_11042014
rm -rfv /u/project/cbearden/data/22q/qunex_studyfolder/sessions_test/Q_0130_11042014
mkdir -p /u/project/cbearden/data/22q/qunex_studyfolder/sessions_test/inbox/MR/Q_0130_11042014/inbox
cp -v /u/project/cbearden/data/22q/qunex_studyfolder/sessions_test/archive/MR/Q_0130_11042014/inbox/*MPRAGE* /u/project/cbearden/data/22q/qunex_studyfolder/sessions_test/inbox/MR/Q_0130_11042014/inbox/
cp -v /u/project/cbearden/data/22q/qunex_studyfolder/sessions_test/archive/MR/Q_0130_11042014/inbox/*RESTING* /u/project/cbearden/data/22q/qunex_studyfolder/sessions_test/inbox/MR/Q_0130_11042014/inbox/
# rerunning import dicom with only mprage and resting dicoms in inbox worked.
# Note: bold task for Q_0130_11042014 not processed
cp -rv /u/project/cbearden/data/22q/qunex_studyfolder/sessions_test/Q_0130_11042014 /u/project/cbearden/data/22q/qunex_studyfolder/sessions
sed -i 's/sessions_test/sessions/' /u/project/cbearden/data/22q/qunex_studyfolder/sessions/Q_0130_11042014/session.txt
# rerun map hcp above

## resolve multiple T1w
# check how many uncommented T1w lines in session_hcp.txt
cd /u/project/cbearden/data/22q/qunex_studyfolder/sessions
for sesh in Q_0*; do echo "${sesh} $(cat ${sesh}/session_hcp.txt | grep -o '^[^#]*' | grep -c "T1w")"; done
# move two sessions with no usable t1w to unused_sessions
mv Q_0094_03172011 unused_sessions/
mv Q_0250_09302013 unused_sessions/
# Q_0266_08122014 is the only session with more than 1 T1w. 
## raw nii QC for Q_0266_08122014
sessions="Q_0266_08122014"
seshdir=/u/project/cbearden/data/22q/qunex_studyfolder/sessions/ 
outdir=${seshdir}/QC/rawNII_v2/
mkdir $outdir
cd $outdir
for sesh in $sessions; do
	for t in $(cat ${seshdir}/${sesh}/session_hcp.txt | grep "T1w" | cut -d : -f 1); do
		echo "generating ${sesh}.T1w.${t}.png"
		slicer ${seshdir}/${sesh}/nii/${t}.nii.gz -a ${outdir}/${sesh}.T1w.${t}.png
	done
done
# 21.nii is the best T1w. Manually commenting other T1w out in session_hcp.txt for Q_0266_08122014

# re-check T1w rated 0 in /u/project/cbearden/data/22q/qunex_studyfolder/sessions/QC/T1w_v1_oct2021/QC_ratings_t1w
# rate 0 or m for missing
qcdir="/u/project/cbearden/data/22q/qunex_studyfolder/sessions/QC/T1w_v1_oct2021/"
inratings="${qcdir}/QC_ratings_t1w.txt"
outfile="${qcdir}/QC_ratings_t1w_0_or_missing.txt"
for sesh in $(cat ${inratings} | grep "0$" | cut -d ":" -f 1 | tr -d " "); do echo $sesh; if [[ $(grep -c $sesh $outfile) == 1 ]]; then echo "session already rated in file, skipping…"; else display ${qcdir}/${sesh}*.png & > /dev/null; read -n 1 -p "RATING (0=bad,m=missing):" rating; echo ""; echo ${sesh} : ${rating} >> $outfile; echo ""; fi; done
# Note: excluding Q_0030_02092010, Q_0072_01102013,Q_0072_10052010,Q_0072_11032011  due to apparent anatomical variation in rh temporal 
# move sessions rated 0 on second pass to unused_sessions
sessions=$(cat /u/project/cbearden/data/22q/qunex_studyfolder/sessions/QC/T1w_v1_oct2021/QC_ratings_t1w_0_or_missing.txt | grep "0$" | cut -d ":" -f 1 | tr -d " ")
for sesh in $sessions; do mv -v /u/project/cbearden/data/22q/qunex_studyfolder/sessions/${sesh} /u/project/cbearden/data/22q/qunex_studyfolder/sessions/unused_sessions/; done

# make csv with counts of t1w and resting scans for all sessions in qunex_studyfolder
/u/project/cbearden/data/22q/qunex_studyfolder/processing/scripts/qunex_count_t1_rest.py Q_0001_09242012 Q_0001_10152010 Q_0005_04182011 Q_0007_04012011 Q_0009_09292011 Q_0016_03292011 Q_0016_10082012 Q_0019_05052011 Q_0020_03262012 Q_0020_05052011 Q_0021_01132011 Q_0021_11052012 Q_0024_04152011 Q_0024_09212012 Q_0026_03232012 Q_0026_05032013 Q_0033_03192010 Q_0036_03302010 Q_0036_06212012 Q_0036_06282011 Q_0037_04202011 Q_0038_06042010 Q_0039_04132010 Q_0039_06012011 Q_0040_05142010 Q_0040_06272011 Q_0041_09262012 Q_0045_07132010 Q_0045_08302011 Q_0045_10052012 Q_0051_01302012 Q_0052_07302010 Q_0053_08022010 Q_0053_12212012 Q_0054_08062010 Q_0056_08252010 Q_0056_09102012 Q_0059_08032011 Q_0062_11302011 Q_0076_10212010 Q_0077_02292012 Q_0077_03112013 Q_0077_10252010 Q_0078_11102011 Q_0080_11222010 Q_0081_11242010 Q_0082_01062012 Q_0082_01112013 Q_0082_12162010 Q_0085_02242012 Q_0091_03052012 Q_0091_03072011 Q_0092_03102011 Q_0093_03082011 Q_0093_03122012 Q_0093_03122013 Q_0098_04012011 Q_0099_04012011 Q_0100_04082011 Q_0101_01032013 Q_0101_04122011 Q_0102_01032013 Q_0102_04122011 Q_0103_04182011 Q_0103_08272012 Q_0105_05022011 Q_0109_05262011 Q_0112_06072011 Q_0112_11142012 Q_0114_02062014 Q_0114_06292011 Q_0114_11092012 Q_0117_07062011 Q_0117_08312012 Q_0118_07072011 Q_0124_07292011 Q_0124_09172012 Q_0126_08012011 Q_0127_03052013 Q_0127_08012014 Q_0127_08082011 Q_0130_08132012 Q_0130_08162011 Q_0130_11042014 Q_0132_08222011 Q_0135_09012011 Q_0136_09012011 Q_0137_09022011 Q_0138_09032013 Q_0138_09042012 Q_0138_09062011 Q_0141_10072013 Q_0141_10072013_old Q_0141_10092012 Q_0146_11082012 Q_0146_12072011 Q_0147_08112015 Q_0147_08142014 Q_0147_12122011 Q_0149_11192012 Q_0149_12192011 Q_0150_11192012 Q_0150_12202011 Q_0151_01122012 Q_0153_01202012 Q_0156_01312012 Q_0156_12102013 Q_0156_12102013_old Q_0157_01312012 Q_0159_02122013 Q_0161_03012012 Q_0161_04192013 Q_0162_03202012 Q_0163_03262012 Q_0166_01092014 Q_0166_04052012 Q_0168_04052012 Q_0169_04062012 Q_0170_04102012 Q_0170_11252014 Q_0171_04102012 Q_0171_11252014 Q_0172_04122012 Q_0172_04262013 Q_0173_04122012 Q_0173_04172014 Q_0173_04262013 Q_0174_04182012 Q_0174_04272015 Q_0176_04242012 Q_0176_05072013 Q_0177_05012012 Q_0178_05012012 Q_0182_05182012 Q_0184_05242012 Q_0185_05242012 Q_0186_04092015 Q_0188_05242012 Q_0189_05242012 Q_0190_06012012 Q_0190_08132013 Q_0192_06112013 Q_0196_06192015 Q_0196_06202012 Q_0196_09122013 Q_0200_04032015 Q_0200_07092012 Q_0200_08052013 Q_0213_08032012 Q_0215_08062012 Q_0215_08172015 Q_0216_08062012 Q_0216_08172015 Q_0217_01142014 Q_0217_02042015 Q_0217_08092012 Q_0219_08122014 Q_0219_08162012 Q_0219_09012015 Q_0222_08212012 Q_0223_08212012 Q_0227_10032012 Q_0228_01292014 Q_0228_09272012 Q_0229_10022012 Q_0232_12122012 Q_0234_03252014 Q_0234_12132012 Q_0236_03072013 Q_0238_03202013 Q_0238_08042014 Q_0238_11132015 Q_0240_03232015 Q_0240_03272013 Q_0240_06262014 Q_0242_03272013 Q_0242_05162016 Q_0244_09162013 Q_0244_09232014 Q_0246_09242013 Q_0252_12102013 Q_0255_10212014 Q_0260_06092014 Q_0260_10262015 Q_0266_08122014 Q_0268_10132014 Q_0269_10142014 Q_0277_12082014 Q_0284_03182015 Q_0285_03182015 Q_0286_03182015 Q_0287_03182015 Q_0291_04172015 Q_0307_10132015 Q_0310_11182015 Q_0311_12082015 Q_0315_01262016 Q_0321_03232016 Q_0322_03312016 Q_0326_04142016 Q_0327_04142016 Q_0328_04262016 
# move *_old duplicate sessions to unused_sessions
mv /u/project/cbearden/data/22q/qunex_studyfolder/sessions/*_old /u/project/cbearden/data/22q/qunex_studyfolder/sessions/unused_sessions
# list of bold resting with fewer than 120 frames (kept Q_0192_06112013 with 121 frames)
# commented out short bolds in session_hcp.txt if there was another bold resting available
# renamed existing hcp directory to hcp_outdated
# Q_0112_06072011, bold1, 6
# Q_0112_11142012, bold2, 11
# Q_0112_11142012, bold3, 12
# Q_0114_06292011, bold1, 97
# Q_0135_09012011, bold1, 84
# Q_0136_09012011, bold1, 15
# Q_0136_09012011, bold2, 19
# Q_0138_09042012, bold1, 21
# Q_0141_10072013, bold1, 24
# Q_0141_10072013_old, bold1, 24
# Q_0190_08132013, bold1, 17
# manually moved sessions below with no usable bold rest to unused_sessions
unused=Q_0112_06072011,Q_0114_06292011 

# fix 'subject' labels in session_hcp.txt (change from 'Q' to subject id)
/u/project/cbearden/data/22q/qunex_studyfolder/processing/scripts/edit_session_hcp.sh

# at this point all sessions in /u/project/cbearden/data/22q/qunex_studyfolder/sessions/ have at least a marginally usable T1w and a BOLD resting (irrespective of BOLD QC status)
## create updated batch file with n=198 sessions 
cd /u/project/cbearden/data/22q/qunex_studyfolder/processing/logs/manual
/u/project/cbearden/data/scripts/tools/qunex_bin/hoffman_submit_qunex.sh \
--qunex_command="create_batch" \
--qunex_options="--targetfile=/u/project/cbearden/data/22q/qunex_studyfolder/processing/22qTrio_batch_cleaned_n198.txt --overwrite=yes --sessionsfolder=/u/project/cbearden/data/22q/qunex_studyfolder/sessions --sourcefiles=session_hcp.txt --paramfile=/u/project/cbearden/data/22q/qunex_studyfolder/sessions/specs/22q_trio_params.txt --sessions=Q_0001_09242012,Q_0001_10152010,Q_0005_04182011,Q_0007_04012011,Q_0009_09292011,Q_0016_03292011,Q_0016_10082012,Q_0019_05052011,Q_0020_03262012,Q_0020_05052011,Q_0021_01132011,Q_0021_11052012,Q_0024_04152011,Q_0024_09212012,Q_0026_03232012,Q_0026_05032013,Q_0033_03192010,Q_0036_03302010,Q_0036_06212012,Q_0036_06282011,Q_0037_04202011,Q_0038_06042010,Q_0039_04132010,Q_0039_06012011,Q_0040_05142010,Q_0040_06272011,Q_0041_09262012,Q_0045_07132010,Q_0045_08302011,Q_0045_10052012,Q_0051_01302012,Q_0052_07302010,Q_0053_08022010,Q_0053_12212012,Q_0054_08062010,Q_0056_08252010,Q_0056_09102012,Q_0059_08032011,Q_0062_11302011,Q_0076_10212010,Q_0077_02292012,Q_0077_03112013,Q_0077_10252010,Q_0078_11102011,Q_0080_11222010,Q_0081_11242010,Q_0082_01062012,Q_0082_01112013,Q_0082_12162010,Q_0085_02242012,Q_0091_03052012,Q_0091_03072011,Q_0092_03102011,Q_0093_03082011,Q_0093_03122012,Q_0093_03122013,Q_0098_04012011,Q_0099_04012011,Q_0100_04082011,Q_0101_01032013,Q_0101_04122011,Q_0102_01032013,Q_0102_04122011,Q_0103_04182011,Q_0103_08272012,Q_0105_05022011,Q_0109_05262011,Q_0112_11142012,Q_0114_02062014,Q_0114_11092012,Q_0117_07062011,Q_0117_08312012,Q_0118_07072011,Q_0124_07292011,Q_0124_09172012,Q_0126_08012011,Q_0127_03052013,Q_0127_08012014,Q_0127_08082011,Q_0130_08132012,Q_0130_08162011,Q_0130_11042014,Q_0132_08222011,Q_0135_09012011,Q_0136_09012011,Q_0137_09022011,Q_0138_09032013,Q_0138_09042012,Q_0138_09062011,Q_0141_10072013,Q_0141_10092012,Q_0146_11082012,Q_0146_12072011,Q_0147_08112015,Q_0147_08142014,Q_0147_12122011,Q_0149_11192012,Q_0149_12192011,Q_0150_11192012,Q_0150_12202011,Q_0151_01122012,Q_0153_01202012,Q_0156_01312012,Q_0156_12102013,Q_0157_01312012,Q_0159_02122013,Q_0161_03012012,Q_0161_04192013,Q_0162_03202012,Q_0163_03262012,Q_0166_01092014,Q_0166_04052012,Q_0168_04052012,Q_0169_04062012,Q_0170_04102012,Q_0170_11252014,Q_0171_04102012,Q_0171_11252014,Q_0172_04122012,Q_0172_04262013,Q_0173_04122012,Q_0173_04172014,Q_0173_04262013,Q_0174_04182012,Q_0174_04272015,Q_0176_04242012,Q_0176_05072013,Q_0177_05012012,Q_0178_05012012,Q_0182_05182012,Q_0184_05242012,Q_0185_05242012,Q_0186_04092015,Q_0188_05242012,Q_0189_05242012,Q_0190_06012012,Q_0190_08132013,Q_0192_06112013,Q_0196_06192015,Q_0196_06202012,Q_0196_09122013,Q_0200_04032015,Q_0200_07092012,Q_0200_08052013,Q_0213_08032012,Q_0215_08062012,Q_0215_08172015,Q_0216_08062012,Q_0216_08172015,Q_0217_01142014,Q_0217_02042015,Q_0217_08092012,Q_0219_08122014,Q_0219_08162012,Q_0219_09012015,Q_0222_08212012,Q_0223_08212012,Q_0227_10032012,Q_0228_01292014,Q_0228_09272012,Q_0229_10022012,Q_0232_12122012,Q_0234_03252014,Q_0234_12132012,Q_0236_03072013,Q_0238_03202013,Q_0238_08042014,Q_0238_11132015,Q_0240_03232015,Q_0240_03272013,Q_0240_06262014,Q_0242_03272013,Q_0242_05162016,Q_0244_09162013,Q_0244_09232014,Q_0246_09242013,Q_0252_12102013,Q_0255_10212014,Q_0260_06092014,Q_0260_10262015,Q_0266_08122014,Q_0268_10132014,Q_0269_10142014,Q_0277_12082014,Q_0284_03182015,Q_0285_03182015,Q_0286_03182015,Q_0287_03182015,Q_0291_04172015,Q_0307_10132015,Q_0310_11182015,Q_0311_12082015,Q_0315_01262016,Q_0321_03232016,Q_0322_03312016,Q_0326_04142016,Q_0327_04142016,Q_0328_04262016" \
--scheduler_options="-l h_data=4G,h_rt=4:00:00" \
--array="no" 


#####################################################################
### rerun hcp steps until n198 are complete
#####################################################################

sessions_n198="Q_0001_09242012 Q_0001_10152010 Q_0005_04182011 Q_0007_04012011 Q_0009_09292011 Q_0016_03292011 Q_0016_10082012 Q_0019_05052011 Q_0020_03262012 Q_0020_05052011 Q_0021_01132011 Q_0021_11052012 Q_0024_04152011 Q_0024_09212012 Q_0026_03232012 Q_0026_05032013 Q_0033_03192010 Q_0036_03302010 Q_0036_06212012 Q_0036_06282011 Q_0037_04202011 Q_0038_06042010 Q_0039_04132010 Q_0039_06012011 Q_0040_05142010 Q_0040_06272011 Q_0041_09262012 Q_0045_07132010 Q_0045_08302011 Q_0045_10052012 Q_0051_01302012 Q_0052_07302010 Q_0053_08022010 Q_0053_12212012 Q_0054_08062010 Q_0056_08252010 Q_0056_09102012 Q_0059_08032011 Q_0062_11302011 Q_0076_10212010 Q_0077_02292012 Q_0077_03112013 Q_0077_10252010 Q_0078_11102011 Q_0080_11222010 Q_0081_11242010 Q_0082_01062012 Q_0082_01112013 Q_0082_12162010 Q_0085_02242012 Q_0091_03052012 Q_0091_03072011 Q_0092_03102011 Q_0093_03082011 Q_0093_03122012 Q_0093_03122013 Q_0098_04012011 Q_0099_04012011 Q_0100_04082011 Q_0101_01032013 Q_0101_04122011 Q_0102_01032013 Q_0102_04122011 Q_0103_04182011 Q_0103_08272012 Q_0105_05022011 Q_0109_05262011 Q_0112_11142012 Q_0114_02062014 Q_0114_11092012 Q_0117_07062011 Q_0117_08312012 Q_0118_07072011 Q_0124_07292011 Q_0124_09172012 Q_0126_08012011 Q_0127_03052013 Q_0127_08012014 Q_0127_08082011 Q_0130_08132012 Q_0130_08162011 Q_0130_11042014 Q_0132_08222011 Q_0135_09012011 Q_0136_09012011 Q_0137_09022011 Q_0138_09032013 Q_0138_09042012 Q_0138_09062011 Q_0141_10072013 Q_0141_10092012 Q_0146_11082012 Q_0146_12072011 Q_0147_08112015 Q_0147_08142014 Q_0147_12122011 Q_0149_11192012 Q_0149_12192011 Q_0150_11192012 Q_0150_12202011 Q_0151_01122012 Q_0153_01202012 Q_0156_01312012 Q_0156_12102013 Q_0157_01312012 Q_0159_02122013 Q_0161_03012012 Q_0161_04192013 Q_0162_03202012 Q_0163_03262012 Q_0166_01092014 Q_0166_04052012 Q_0168_04052012 Q_0169_04062012 Q_0170_04102012 Q_0170_11252014 Q_0171_04102012 Q_0171_11252014 Q_0172_04122012 Q_0172_04262013 Q_0173_04122012 Q_0173_04172014 Q_0173_04262013 Q_0174_04182012 Q_0174_04272015 Q_0176_04242012 Q_0176_05072013 Q_0177_05012012 Q_0178_05012012 Q_0182_05182012 Q_0184_05242012 Q_0185_05242012 Q_0186_04092015 Q_0188_05242012 Q_0189_05242012 Q_0190_06012012 Q_0190_08132013 Q_0192_06112013 Q_0196_06192015 Q_0196_06202012 Q_0196_09122013 Q_0200_04032015 Q_0200_07092012 Q_0200_08052013 Q_0213_08032012 Q_0215_08062012 Q_0215_08172015 Q_0216_08062012 Q_0216_08172015 Q_0217_01142014 Q_0217_02042015 Q_0217_08092012 Q_0219_08122014 Q_0219_08162012 Q_0219_09012015 Q_0222_08212012 Q_0223_08212012 Q_0227_10032012 Q_0228_01292014 Q_0228_09272012 Q_0229_10022012 Q_0232_12122012 Q_0234_03252014 Q_0234_12132012 Q_0236_03072013 Q_0238_03202013 Q_0238_08042014 Q_0238_11132015 Q_0240_03232015 Q_0240_03272013 Q_0240_06262014 Q_0242_03272013 Q_0242_05162016 Q_0244_09162013 Q_0244_09232014 Q_0246_09242013 Q_0252_12102013 Q_0255_10212014 Q_0260_06092014 Q_0260_10262015 Q_0266_08122014 Q_0268_10132014 Q_0269_10142014 Q_0277_12082014 Q_0284_03182015 Q_0285_03182015 Q_0286_03182015 Q_0287_03182015 Q_0291_04172015 Q_0307_10132015 Q_0310_11182015 Q_0311_12082015 Q_0315_01262016 Q_0321_03232016 Q_0322_03312016 Q_0326_04142016 Q_0327_04142016 Q_0328_04262016 "

## setup HCP
# n=14 sessions need processing
cd /u/project/cbearden/data/22q/qunex_studyfolder/processing/logs/manual/
/u/project/cbearden/data/scripts/tools/qunex_bin/hoffman_submit_qunex.sh \
--qunex_command="setup_hcp" \
--qunex_options="--sessionsfolder=/u/project/cbearden/data/22q/qunex_studyfolder/sessions --sourcefile=session_hcp.txt --existing=abort" \
--scheduler_options="-l h_data=4G,h_rt=4:00:00" \
--array="yes" \
--sessions="Q_0001_09242012 Q_0001_10152010 Q_0005_04182011 Q_0007_04012011 Q_0009_09292011 Q_0016_03292011 Q_0016_10082012 Q_0019_05052011 Q_0020_03262012 Q_0020_05052011 Q_0021_01132011 Q_0021_11052012 Q_0024_04152011 Q_0024_09212012 Q_0026_03232012 Q_0026_05032013 Q_0033_03192010 Q_0036_03302010 Q_0036_06212012 Q_0036_06282011 Q_0037_04202011 Q_0038_06042010 Q_0039_04132010 Q_0039_06012011 Q_0040_05142010 Q_0040_06272011 Q_0041_09262012 Q_0045_07132010 Q_0045_08302011 Q_0045_10052012 Q_0051_01302012 Q_0052_07302010 Q_0053_08022010 Q_0053_12212012 Q_0054_08062010 Q_0056_08252010 Q_0056_09102012 Q_0059_08032011 Q_0062_11302011 Q_0076_10212010 Q_0077_02292012 Q_0077_03112013 Q_0077_10252010 Q_0078_11102011 Q_0080_11222010 Q_0081_11242010 Q_0082_01062012 Q_0082_01112013 Q_0082_12162010 Q_0085_02242012 Q_0091_03052012 Q_0091_03072011 Q_0092_03102011 Q_0093_03082011 Q_0093_03122012 Q_0093_03122013 Q_0098_04012011 Q_0099_04012011 Q_0100_04082011 Q_0101_01032013 Q_0101_04122011 Q_0102_01032013 Q_0102_04122011 Q_0103_04182011 Q_0103_08272012 Q_0105_05022011 Q_0109_05262011 Q_0112_11142012 Q_0114_02062014 Q_0114_11092012 Q_0117_07062011 Q_0117_08312012 Q_0118_07072011 Q_0124_07292011 Q_0124_09172012 Q_0126_08012011 Q_0127_03052013 Q_0127_08012014 Q_0127_08082011 Q_0130_08132012 Q_0130_08162011 Q_0130_11042014 Q_0132_08222011 Q_0135_09012011 Q_0136_09012011 Q_0137_09022011 Q_0138_09032013 Q_0138_09042012 Q_0138_09062011 Q_0141_10072013 Q_0141_10092012 Q_0146_11082012 Q_0146_12072011 Q_0147_08112015 Q_0147_08142014 Q_0147_12122011 Q_0149_11192012 Q_0149_12192011 Q_0150_11192012 Q_0150_12202011 Q_0151_01122012 Q_0153_01202012 Q_0156_01312012 Q_0156_12102013 Q_0157_01312012 Q_0159_02122013 Q_0161_03012012 Q_0161_04192013 Q_0162_03202012 Q_0163_03262012 Q_0166_01092014 Q_0166_04052012 Q_0168_04052012 Q_0169_04062012 Q_0170_04102012 Q_0170_11252014 Q_0171_04102012 Q_0171_11252014 Q_0172_04122012 Q_0172_04262013 Q_0173_04122012 Q_0173_04172014 Q_0173_04262013 Q_0174_04182012 Q_0174_04272015 Q_0176_04242012 Q_0176_05072013 Q_0177_05012012 Q_0178_05012012 Q_0182_05182012 Q_0184_05242012 Q_0185_05242012 Q_0186_04092015 Q_0188_05242012 Q_0189_05242012 Q_0190_06012012 Q_0190_08132013 Q_0192_06112013 Q_0196_06192015 Q_0196_06202012 Q_0196_09122013 Q_0200_04032015 Q_0200_07092012 Q_0200_08052013 Q_0213_08032012 Q_0215_08062012 Q_0215_08172015 Q_0216_08062012 Q_0216_08172015 Q_0217_01142014 Q_0217_02042015 Q_0217_08092012 Q_0219_08122014 Q_0219_08162012 Q_0219_09012015 Q_0222_08212012 Q_0223_08212012 Q_0227_10032012 Q_0228_01292014 Q_0228_09272012 Q_0229_10022012 Q_0232_12122012 Q_0234_03252014 Q_0234_12132012 Q_0236_03072013 Q_0238_03202013 Q_0238_08042014 Q_0238_11132015 Q_0240_03232015 Q_0240_03272013 Q_0240_06262014 Q_0242_03272013 Q_0242_05162016 Q_0244_09162013 Q_0244_09232014 Q_0246_09242013 Q_0252_12102013 Q_0255_10212014 Q_0260_06092014 Q_0260_10262015 Q_0266_08122014 Q_0268_10132014 Q_0269_10142014 Q_0277_12082014 Q_0284_03182015 Q_0285_03182015 Q_0286_03182015 Q_0287_03182015 Q_0291_04172015 Q_0307_10132015 Q_0310_11182015 Q_0311_12082015 Q_0315_01262016 Q_0321_03232016 Q_0322_03312016 Q_0326_04142016 Q_0327_04142016 Q_0328_04262016"

## PreFreeSurfer
cd /u/project/cbearden/data/22q/qunex_studyfolder/processing/logs/manual
/u/project/cbearden/data/scripts/tools/qunex_bin/hoffman_submit_qunex.sh \
--qunex_command="hcp_pre_freesurfer" \
--qunex_options="--sessions=/u/project/cbearden/data/22q/qunex_studyfolder/processing/22qTrio_batch_cleaned_n198.txt --sessionsfolder=/u/project/cbearden/data/22q/qunex_studyfolder/sessions --parsessions=1 --overwrite=no" \
--scheduler_options="-l h_data=16G,h_rt=24:00:00" \
--array="yes" \
--sessions="Q_0001_09242012 Q_0001_10152010 Q_0005_04182011 Q_0007_04012011 Q_0009_09292011 Q_0016_03292011 Q_0016_10082012 Q_0019_05052011 Q_0020_03262012 Q_0020_05052011 Q_0021_01132011 Q_0021_11052012 Q_0024_04152011 Q_0024_09212012 Q_0026_03232012 Q_0026_05032013 Q_0033_03192010 Q_0036_03302010 Q_0036_06212012 Q_0036_06282011 Q_0037_04202011 Q_0038_06042010 Q_0039_04132010 Q_0039_06012011 Q_0040_05142010 Q_0040_06272011 Q_0041_09262012 Q_0045_07132010 Q_0045_08302011 Q_0045_10052012 Q_0051_01302012 Q_0052_07302010 Q_0053_08022010 Q_0053_12212012 Q_0054_08062010 Q_0056_08252010 Q_0056_09102012 Q_0059_08032011 Q_0062_11302011 Q_0076_10212010 Q_0077_02292012 Q_0077_03112013 Q_0077_10252010 Q_0078_11102011 Q_0080_11222010 Q_0081_11242010 Q_0082_01062012 Q_0082_01112013 Q_0082_12162010 Q_0085_02242012 Q_0091_03052012 Q_0091_03072011 Q_0092_03102011 Q_0093_03082011 Q_0093_03122012 Q_0093_03122013 Q_0098_04012011 Q_0099_04012011 Q_0100_04082011 Q_0101_01032013 Q_0101_04122011 Q_0102_01032013 Q_0102_04122011 Q_0103_04182011 Q_0103_08272012 Q_0105_05022011 Q_0109_05262011 Q_0112_11142012 Q_0114_02062014 Q_0114_11092012 Q_0117_07062011 Q_0117_08312012 Q_0118_07072011 Q_0124_07292011 Q_0124_09172012 Q_0126_08012011 Q_0127_03052013 Q_0127_08012014 Q_0127_08082011 Q_0130_08132012 Q_0130_08162011 Q_0130_11042014 Q_0132_08222011 Q_0135_09012011 Q_0136_09012011 Q_0137_09022011 Q_0138_09032013 Q_0138_09042012 Q_0138_09062011 Q_0141_10072013 Q_0141_10092012 Q_0146_11082012 Q_0146_12072011 Q_0147_08112015 Q_0147_08142014 Q_0147_12122011 Q_0149_11192012 Q_0149_12192011 Q_0150_11192012 Q_0150_12202011 Q_0151_01122012 Q_0153_01202012 Q_0156_01312012 Q_0156_12102013 Q_0157_01312012 Q_0159_02122013 Q_0161_03012012 Q_0161_04192013 Q_0162_03202012 Q_0163_03262012 Q_0166_01092014 Q_0166_04052012 Q_0168_04052012 Q_0169_04062012 Q_0170_04102012 Q_0170_11252014 Q_0171_04102012 Q_0171_11252014 Q_0172_04122012 Q_0172_04262013 Q_0173_04122012 Q_0173_04172014 Q_0173_04262013 Q_0174_04182012 Q_0174_04272015 Q_0176_04242012 Q_0176_05072013 Q_0177_05012012 Q_0178_05012012 Q_0182_05182012 Q_0184_05242012 Q_0185_05242012 Q_0186_04092015 Q_0188_05242012 Q_0189_05242012 Q_0190_06012012 Q_0190_08132013 Q_0192_06112013 Q_0196_06192015 Q_0196_06202012 Q_0196_09122013 Q_0200_04032015 Q_0200_07092012 Q_0200_08052013 Q_0213_08032012 Q_0215_08062012 Q_0215_08172015 Q_0216_08062012 Q_0216_08172015 Q_0217_01142014 Q_0217_02042015 Q_0217_08092012 Q_0219_08122014 Q_0219_08162012 Q_0219_09012015 Q_0222_08212012 Q_0223_08212012 Q_0227_10032012 Q_0228_01292014 Q_0228_09272012 Q_0229_10022012 Q_0232_12122012 Q_0234_03252014 Q_0234_12132012 Q_0236_03072013 Q_0238_03202013 Q_0238_08042014 Q_0238_11132015 Q_0240_03232015 Q_0240_03272013 Q_0240_06262014 Q_0242_03272013 Q_0242_05162016 Q_0244_09162013 Q_0244_09232014 Q_0246_09242013 Q_0252_12102013 Q_0255_10212014 Q_0260_06092014 Q_0260_10262015 Q_0266_08122014 Q_0268_10132014 Q_0269_10142014 Q_0277_12082014 Q_0284_03182015 Q_0285_03182015 Q_0286_03182015 Q_0287_03182015 Q_0291_04172015 Q_0307_10132015 Q_0310_11182015 Q_0311_12082015 Q_0315_01262016 Q_0321_03232016 Q_0322_03312016 Q_0326_04142016 Q_0327_04142016 Q_0328_04262016"

## FreeSurfer
cd /u/project/cbearden/data/22q/qunex_studyfolder/processing/logs/manual
/u/project/cbearden/data/scripts/tools/qunex_bin/hoffman_submit_qunex.sh \
--qunex_command="hcp_freesurfer" \
--qunex_options="--sessions=/u/project/cbearden/data/22q/qunex_studyfolder/processing/22qTrio_batch_cleaned_n198.txt --sessionsfolder=/u/project/cbearden/data/22q/qunex_studyfolder/sessions --parsessions=1 --overwrite=no" \
--scheduler_options="-l h_data=16G,h_rt=48:00:00,highp" \
--array="yes" \
--sessions="Q_0001_09242012 Q_0001_10152010 Q_0005_04182011 Q_0007_04012011 Q_0009_09292011 Q_0016_03292011 Q_0016_10082012 Q_0019_05052011 Q_0020_03262012 Q_0020_05052011 Q_0021_01132011 Q_0021_11052012 Q_0024_04152011 Q_0024_09212012 Q_0026_03232012 Q_0026_05032013 Q_0033_03192010 Q_0036_03302010 Q_0036_06212012 Q_0036_06282011 Q_0037_04202011 Q_0038_06042010 Q_0039_04132010 Q_0039_06012011 Q_0040_05142010 Q_0040_06272011 Q_0041_09262012 Q_0045_07132010 Q_0045_08302011 Q_0045_10052012 Q_0051_01302012 Q_0052_07302010 Q_0053_08022010 Q_0053_12212012 Q_0054_08062010 Q_0056_08252010 Q_0056_09102012 Q_0059_08032011 Q_0062_11302011 Q_0076_10212010 Q_0077_02292012 Q_0077_03112013 Q_0077_10252010 Q_0078_11102011 Q_0080_11222010 Q_0081_11242010 Q_0082_01062012 Q_0082_01112013 Q_0082_12162010 Q_0085_02242012 Q_0091_03052012 Q_0091_03072011 Q_0092_03102011 Q_0093_03082011 Q_0093_03122012 Q_0093_03122013 Q_0098_04012011 Q_0099_04012011 Q_0100_04082011 Q_0101_01032013 Q_0101_04122011 Q_0102_01032013 Q_0102_04122011 Q_0103_04182011 Q_0103_08272012 Q_0105_05022011 Q_0109_05262011 Q_0112_11142012 Q_0114_02062014 Q_0114_11092012 Q_0117_07062011 Q_0117_08312012 Q_0118_07072011 Q_0124_07292011 Q_0124_09172012 Q_0126_08012011 Q_0127_03052013 Q_0127_08012014 Q_0127_08082011 Q_0130_08132012 Q_0130_08162011 Q_0130_11042014 Q_0132_08222011 Q_0135_09012011 Q_0136_09012011 Q_0137_09022011 Q_0138_09032013 Q_0138_09042012 Q_0138_09062011 Q_0141_10072013 Q_0141_10092012 Q_0146_11082012 Q_0146_12072011 Q_0147_08112015 Q_0147_08142014 Q_0147_12122011 Q_0149_11192012 Q_0149_12192011 Q_0150_11192012 Q_0150_12202011 Q_0151_01122012 Q_0153_01202012 Q_0156_01312012 Q_0156_12102013 Q_0157_01312012 Q_0159_02122013 Q_0161_03012012 Q_0161_04192013 Q_0162_03202012 Q_0163_03262012 Q_0166_01092014 Q_0166_04052012 Q_0168_04052012 Q_0169_04062012 Q_0170_04102012 Q_0170_11252014 Q_0171_04102012 Q_0171_11252014 Q_0172_04122012 Q_0172_04262013 Q_0173_04122012 Q_0173_04172014 Q_0173_04262013 Q_0174_04182012 Q_0174_04272015 Q_0176_04242012 Q_0176_05072013 Q_0177_05012012 Q_0178_05012012 Q_0182_05182012 Q_0184_05242012 Q_0185_05242012 Q_0186_04092015 Q_0188_05242012 Q_0189_05242012 Q_0190_06012012 Q_0190_08132013 Q_0192_06112013 Q_0196_06192015 Q_0196_06202012 Q_0196_09122013 Q_0200_04032015 Q_0200_07092012 Q_0200_08052013 Q_0213_08032012 Q_0215_08062012 Q_0215_08172015 Q_0216_08062012 Q_0216_08172015 Q_0217_01142014 Q_0217_02042015 Q_0217_08092012 Q_0219_08122014 Q_0219_08162012 Q_0219_09012015 Q_0222_08212012 Q_0223_08212012 Q_0227_10032012 Q_0228_01292014 Q_0228_09272012 Q_0229_10022012 Q_0232_12122012 Q_0234_03252014 Q_0234_12132012 Q_0236_03072013 Q_0238_03202013 Q_0238_08042014 Q_0238_11132015 Q_0240_03232015 Q_0240_03272013 Q_0240_06262014 Q_0242_03272013 Q_0242_05162016 Q_0244_09162013 Q_0244_09232014 Q_0246_09242013 Q_0252_12102013 Q_0255_10212014 Q_0260_06092014 Q_0260_10262015 Q_0266_08122014 Q_0268_10132014 Q_0269_10142014 Q_0277_12082014 Q_0284_03182015 Q_0285_03182015 Q_0286_03182015 Q_0287_03182015 Q_0291_04172015 Q_0307_10132015 Q_0310_11182015 Q_0311_12082015 Q_0315_01262016 Q_0321_03232016 Q_0322_03312016 Q_0326_04142016 Q_0327_04142016 Q_0328_04262016"
	
	# Failing during nu_correct for some cases. Strangely it worked for some after re-running without changing any params. 
	# Trying with 24h not on highp for one case
	# progressed past point where it failed previously. Hopefully will finish before 24h limit
	cd /u/project/cbearden/data/22q/qunex_studyfolder/processing/logs/manual
	/u/project/cbearden/data/scripts/tools/qunex_bin/hoffman_submit_qunex.sh \
	--qunex_command="hcp_freesurfer" \
	--qunex_options="--sessions=/u/project/cbearden/data/22q/qunex_studyfolder/processing/22qTrio_batch_cleaned_n198.txt --sessionsfolder=/u/project/cbearden/data/22q/qunex_studyfolder/sessions --parsessions=1 --overwrite=no" \
	--scheduler_options="-l h_data=16G,h_rt=24:00:00" \
	--array="yes" \
	--sessions="Q_0328_04262016"
	
	# try freesurfer 24h for remaining error cases
	cd /u/project/cbearden/data/22q/qunex_studyfolder/processing/logs/manual
	/u/project/cbearden/data/scripts/tools/qunex_bin/hoffman_submit_qunex.sh \
	--qunex_command="hcp_freesurfer" \
	--qunex_options="--sessions=/u/project/cbearden/data/22q/qunex_studyfolder/processing/22qTrio_batch_cleaned_n198.txt --sessionsfolder=/u/project/cbearden/data/22q/qunex_studyfolder/sessions --parsessions=1 --overwrite=no" \
	--scheduler_options="-l h_data=16G,h_rt=24:00:00" \
	--array="yes" \
	--sessions="Q_0266_08122014 Q_0240_03232015 Q_0240_03272013 Q_0130_11042014 Q_0135_09012011 Q_0136_09012011 Q_0141_10072013 Q_0190_08132013 Q_0217_01142014 Q_0242_05162016 Q_0260_10262015"
	
	# repeat freesurfer with full n=198 list to confirm all have finished
	cd /u/project/cbearden/data/22q/qunex_studyfolder/processing/logs/manual
	/u/project/cbearden/data/scripts/tools/qunex_bin/hoffman_submit_qunex.sh \
	--qunex_command="hcp_freesurfer" \
	--qunex_options="--sessions=/u/project/cbearden/data/22q/qunex_studyfolder/processing/22qTrio_batch_cleaned_n198.txt --sessionsfolder=/u/project/cbearden/data/22q/qunex_studyfolder/sessions --parsessions=1 --overwrite=no" \
	--scheduler_options="-l h_data=16G,h_rt=24:00:00" \
	--array="yes" \
	--sessions="Q_0001_09242012 Q_0001_10152010 Q_0005_04182011 Q_0007_04012011 Q_0009_09292011 Q_0016_03292011 Q_0016_10082012 Q_0019_05052011 Q_0020_03262012 Q_0020_05052011 Q_0021_01132011 Q_0021_11052012 Q_0024_04152011 Q_0024_09212012 Q_0026_03232012 Q_0026_05032013 Q_0033_03192010 Q_0036_03302010 Q_0036_06212012 Q_0036_06282011 Q_0037_04202011 Q_0038_06042010 Q_0039_04132010 Q_0039_06012011 Q_0040_05142010 Q_0040_06272011 Q_0041_09262012 Q_0045_07132010 Q_0045_08302011 Q_0045_10052012 Q_0051_01302012 Q_0052_07302010 Q_0053_08022010 Q_0053_12212012 Q_0054_08062010 Q_0056_08252010 Q_0056_09102012 Q_0059_08032011 Q_0062_11302011 Q_0076_10212010 Q_0077_02292012 Q_0077_03112013 Q_0077_10252010 Q_0078_11102011 Q_0080_11222010 Q_0081_11242010 Q_0082_01062012 Q_0082_01112013 Q_0082_12162010 Q_0085_02242012 Q_0091_03052012 Q_0091_03072011 Q_0092_03102011 Q_0093_03082011 Q_0093_03122012 Q_0093_03122013 Q_0098_04012011 Q_0099_04012011 Q_0100_04082011 Q_0101_01032013 Q_0101_04122011 Q_0102_01032013 Q_0102_04122011 Q_0103_04182011 Q_0103_08272012 Q_0105_05022011 Q_0109_05262011 Q_0112_11142012 Q_0114_02062014 Q_0114_11092012 Q_0117_07062011 Q_0117_08312012 Q_0118_07072011 Q_0124_07292011 Q_0124_09172012 Q_0126_08012011 Q_0127_03052013 Q_0127_08012014 Q_0127_08082011 Q_0130_08132012 Q_0130_08162011 Q_0130_11042014 Q_0132_08222011 Q_0135_09012011 Q_0136_09012011 Q_0137_09022011 Q_0138_09032013 Q_0138_09042012 Q_0138_09062011 Q_0141_10072013 Q_0141_10092012 Q_0146_11082012 Q_0146_12072011 Q_0147_08112015 Q_0147_08142014 Q_0147_12122011 Q_0149_11192012 Q_0149_12192011 Q_0150_11192012 Q_0150_12202011 Q_0151_01122012 Q_0153_01202012 Q_0156_01312012 Q_0156_12102013 Q_0157_01312012 Q_0159_02122013 Q_0161_03012012 Q_0161_04192013 Q_0162_03202012 Q_0163_03262012 Q_0166_01092014 Q_0166_04052012 Q_0168_04052012 Q_0169_04062012 Q_0170_04102012 Q_0170_11252014 Q_0171_04102012 Q_0171_11252014 Q_0172_04122012 Q_0172_04262013 Q_0173_04122012 Q_0173_04172014 Q_0173_04262013 Q_0174_04182012 Q_0174_04272015 Q_0176_04242012 Q_0176_05072013 Q_0177_05012012 Q_0178_05012012 Q_0182_05182012 Q_0184_05242012 Q_0185_05242012 Q_0186_04092015 Q_0188_05242012 Q_0189_05242012 Q_0190_06012012 Q_0190_08132013 Q_0192_06112013 Q_0196_06192015 Q_0196_06202012 Q_0196_09122013 Q_0200_04032015 Q_0200_07092012 Q_0200_08052013 Q_0213_08032012 Q_0215_08062012 Q_0215_08172015 Q_0216_08062012 Q_0216_08172015 Q_0217_01142014 Q_0217_02042015 Q_0217_08092012 Q_0219_08122014 Q_0219_08162012 Q_0219_09012015 Q_0222_08212012 Q_0223_08212012 Q_0227_10032012 Q_0228_01292014 Q_0228_09272012 Q_0229_10022012 Q_0232_12122012 Q_0234_03252014 Q_0234_12132012 Q_0236_03072013 Q_0238_03202013 Q_0238_08042014 Q_0238_11132015 Q_0240_03232015 Q_0240_03272013 Q_0240_06262014 Q_0242_03272013 Q_0242_05162016 Q_0244_09162013 Q_0244_09232014 Q_0246_09242013 Q_0252_12102013 Q_0255_10212014 Q_0260_06092014 Q_0260_10262015 Q_0266_08122014 Q_0268_10132014 Q_0269_10142014 Q_0277_12082014 Q_0284_03182015 Q_0285_03182015 Q_0286_03182015 Q_0287_03182015 Q_0291_04172015 Q_0307_10132015 Q_0310_11182015 Q_0311_12082015 Q_0315_01262016 Q_0321_03232016 Q_0322_03312016 Q_0326_04142016 Q_0327_04142016 Q_0328_04262016"

## PostFreeSurfer
cd /u/project/cbearden/data/22q/qunex_studyfolder/processing/logs/manual
/u/project/cbearden/data/scripts/tools/qunex_bin/hoffman_submit_qunex.sh \
--qunex_command="hcp_post_freesurfer" \
--qunex_options="--sessions=/u/project/cbearden/data/22q/qunex_studyfolder/processing/22qTrio_batch_cleaned_n198.txt --sessionsfolder=/u/project/cbearden/data/22q/qunex_studyfolder/sessions --parsessions=1 --overwrite=no" \
--scheduler_options="-l h_data=16G,h_rt=24:00:00" \
--array="yes" \
--sessions="Q_0001_09242012 Q_0001_10152010 Q_0005_04182011 Q_0007_04012011 Q_0009_09292011 Q_0016_03292011 Q_0016_10082012 Q_0019_05052011 Q_0020_03262012 Q_0020_05052011 Q_0021_01132011 Q_0021_11052012 Q_0024_04152011 Q_0024_09212012 Q_0026_03232012 Q_0026_05032013 Q_0033_03192010 Q_0036_03302010 Q_0036_06212012 Q_0036_06282011 Q_0037_04202011 Q_0038_06042010 Q_0039_04132010 Q_0039_06012011 Q_0040_05142010 Q_0040_06272011 Q_0041_09262012 Q_0045_07132010 Q_0045_08302011 Q_0045_10052012 Q_0051_01302012 Q_0052_07302010 Q_0053_08022010 Q_0053_12212012 Q_0054_08062010 Q_0056_08252010 Q_0056_09102012 Q_0059_08032011 Q_0062_11302011 Q_0076_10212010 Q_0077_02292012 Q_0077_03112013 Q_0077_10252010 Q_0078_11102011 Q_0080_11222010 Q_0081_11242010 Q_0082_01062012 Q_0082_01112013 Q_0082_12162010 Q_0085_02242012 Q_0091_03052012 Q_0091_03072011 Q_0092_03102011 Q_0093_03082011 Q_0093_03122012 Q_0093_03122013 Q_0098_04012011 Q_0099_04012011 Q_0100_04082011 Q_0101_01032013 Q_0101_04122011 Q_0102_01032013 Q_0102_04122011 Q_0103_04182011 Q_0103_08272012 Q_0105_05022011 Q_0109_05262011 Q_0112_11142012 Q_0114_02062014 Q_0114_11092012 Q_0117_07062011 Q_0117_08312012 Q_0118_07072011 Q_0124_07292011 Q_0124_09172012 Q_0126_08012011 Q_0127_03052013 Q_0127_08012014 Q_0127_08082011 Q_0130_08132012 Q_0130_08162011 Q_0130_11042014 Q_0132_08222011 Q_0135_09012011 Q_0136_09012011 Q_0137_09022011 Q_0138_09032013 Q_0138_09042012 Q_0138_09062011 Q_0141_10072013 Q_0141_10092012 Q_0146_11082012 Q_0146_12072011 Q_0147_08112015 Q_0147_08142014 Q_0147_12122011 Q_0149_11192012 Q_0149_12192011 Q_0150_11192012 Q_0150_12202011 Q_0151_01122012 Q_0153_01202012 Q_0156_01312012 Q_0156_12102013 Q_0157_01312012 Q_0159_02122013 Q_0161_03012012 Q_0161_04192013 Q_0162_03202012 Q_0163_03262012 Q_0166_01092014 Q_0166_04052012 Q_0168_04052012 Q_0169_04062012 Q_0170_04102012 Q_0170_11252014 Q_0171_04102012 Q_0171_11252014 Q_0172_04122012 Q_0172_04262013 Q_0173_04122012 Q_0173_04172014 Q_0173_04262013 Q_0174_04182012 Q_0174_04272015 Q_0176_04242012 Q_0176_05072013 Q_0177_05012012 Q_0178_05012012 Q_0182_05182012 Q_0184_05242012 Q_0185_05242012 Q_0186_04092015 Q_0188_05242012 Q_0189_05242012 Q_0190_06012012 Q_0190_08132013 Q_0192_06112013 Q_0196_06192015 Q_0196_06202012 Q_0196_09122013 Q_0200_04032015 Q_0200_07092012 Q_0200_08052013 Q_0213_08032012 Q_0215_08062012 Q_0215_08172015 Q_0216_08062012 Q_0216_08172015 Q_0217_01142014 Q_0217_02042015 Q_0217_08092012 Q_0219_08122014 Q_0219_08162012 Q_0219_09012015 Q_0222_08212012 Q_0223_08212012 Q_0227_10032012 Q_0228_01292014 Q_0228_09272012 Q_0229_10022012 Q_0232_12122012 Q_0234_03252014 Q_0234_12132012 Q_0236_03072013 Q_0238_03202013 Q_0238_08042014 Q_0238_11132015 Q_0240_03232015 Q_0240_03272013 Q_0240_06262014 Q_0242_03272013 Q_0242_05162016 Q_0244_09162013 Q_0244_09232014 Q_0246_09242013 Q_0252_12102013 Q_0255_10212014 Q_0260_06092014 Q_0260_10262015 Q_0266_08122014 Q_0268_10132014 Q_0269_10142014 Q_0277_12082014 Q_0284_03182015 Q_0285_03182015 Q_0286_03182015 Q_0287_03182015 Q_0291_04172015 Q_0307_10132015 Q_0310_11182015 Q_0311_12082015 Q_0315_01262016 Q_0321_03232016 Q_0322_03312016 Q_0326_04142016 Q_0327_04142016 Q_0328_04262016"

## fMRI Volume
cd /u/project/cbearden/data/22q/qunex_studyfolder/processing/logs/manual
/u/project/cbearden/data/scripts/tools/qunex_bin/hoffman_submit_qunex.sh \
--qunex_command="hcp_fmri_volume" \
--qunex_options="--sessions=/u/project/cbearden/data/22q/qunex_studyfolder/processing/22qTrio_batch_cleaned_n198.txt --sessionsfolder=/u/project/cbearden/data/22q/qunex_studyfolder/sessions --parsessions=1 --overwrite=no" \
--scheduler_options="-l h_data=16G,h_rt=24:00:00" \
--array="yes" \
--sessions="Q_0001_09242012 Q_0001_10152010 Q_0005_04182011 Q_0007_04012011 Q_0009_09292011 Q_0016_03292011 Q_0016_10082012 Q_0019_05052011 Q_0020_03262012 Q_0020_05052011 Q_0021_01132011 Q_0021_11052012 Q_0024_04152011 Q_0024_09212012 Q_0026_03232012 Q_0026_05032013 Q_0033_03192010 Q_0036_03302010 Q_0036_06212012 Q_0036_06282011 Q_0037_04202011 Q_0038_06042010 Q_0039_04132010 Q_0039_06012011 Q_0040_05142010 Q_0040_06272011 Q_0041_09262012 Q_0045_07132010 Q_0045_08302011 Q_0045_10052012 Q_0051_01302012 Q_0052_07302010 Q_0053_08022010 Q_0053_12212012 Q_0054_08062010 Q_0056_08252010 Q_0056_09102012 Q_0059_08032011 Q_0062_11302011 Q_0076_10212010 Q_0077_02292012 Q_0077_03112013 Q_0077_10252010 Q_0078_11102011 Q_0080_11222010 Q_0081_11242010 Q_0082_01062012 Q_0082_01112013 Q_0082_12162010 Q_0085_02242012 Q_0091_03052012 Q_0091_03072011 Q_0092_03102011 Q_0093_03082011 Q_0093_03122012 Q_0093_03122013 Q_0098_04012011 Q_0099_04012011 Q_0100_04082011 Q_0101_01032013 Q_0101_04122011 Q_0102_01032013 Q_0102_04122011 Q_0103_04182011 Q_0103_08272012 Q_0105_05022011 Q_0109_05262011 Q_0112_11142012 Q_0114_02062014 Q_0114_11092012 Q_0117_07062011 Q_0117_08312012 Q_0118_07072011 Q_0124_07292011 Q_0124_09172012 Q_0126_08012011 Q_0127_03052013 Q_0127_08012014 Q_0127_08082011 Q_0130_08132012 Q_0130_08162011 Q_0130_11042014 Q_0132_08222011 Q_0135_09012011 Q_0136_09012011 Q_0137_09022011 Q_0138_09032013 Q_0138_09042012 Q_0138_09062011 Q_0141_10072013 Q_0141_10092012 Q_0146_11082012 Q_0146_12072011 Q_0147_08112015 Q_0147_08142014 Q_0147_12122011 Q_0149_11192012 Q_0149_12192011 Q_0150_11192012 Q_0150_12202011 Q_0151_01122012 Q_0153_01202012 Q_0156_01312012 Q_0156_12102013 Q_0157_01312012 Q_0159_02122013 Q_0161_03012012 Q_0161_04192013 Q_0162_03202012 Q_0163_03262012 Q_0166_01092014 Q_0166_04052012 Q_0168_04052012 Q_0169_04062012 Q_0170_04102012 Q_0170_11252014 Q_0171_04102012 Q_0171_11252014 Q_0172_04122012 Q_0172_04262013 Q_0173_04122012 Q_0173_04172014 Q_0173_04262013 Q_0174_04182012 Q_0174_04272015 Q_0176_04242012 Q_0176_05072013 Q_0177_05012012 Q_0178_05012012 Q_0182_05182012 Q_0184_05242012 Q_0185_05242012 Q_0186_04092015 Q_0188_05242012 Q_0189_05242012 Q_0190_06012012 Q_0190_08132013 Q_0192_06112013 Q_0196_06192015 Q_0196_06202012 Q_0196_09122013 Q_0200_04032015 Q_0200_07092012 Q_0200_08052013 Q_0213_08032012 Q_0215_08062012 Q_0215_08172015 Q_0216_08062012 Q_0216_08172015 Q_0217_01142014 Q_0217_02042015 Q_0217_08092012 Q_0219_08122014 Q_0219_08162012 Q_0219_09012015 Q_0222_08212012 Q_0223_08212012 Q_0227_10032012 Q_0228_01292014 Q_0228_09272012 Q_0229_10022012 Q_0232_12122012 Q_0234_03252014 Q_0234_12132012 Q_0236_03072013 Q_0238_03202013 Q_0238_08042014 Q_0238_11132015 Q_0240_03232015 Q_0240_03272013 Q_0240_06262014 Q_0242_03272013 Q_0242_05162016 Q_0244_09162013 Q_0244_09232014 Q_0246_09242013 Q_0252_12102013 Q_0255_10212014 Q_0260_06092014 Q_0260_10262015 Q_0266_08122014 Q_0268_10132014 Q_0269_10142014 Q_0277_12082014 Q_0284_03182015 Q_0285_03182015 Q_0286_03182015 Q_0287_03182015 Q_0291_04172015 Q_0307_10132015 Q_0310_11182015 Q_0311_12082015 Q_0315_01262016 Q_0321_03232016 Q_0322_03312016 Q_0326_04142016 Q_0327_04142016 Q_0328_04262016"

## fMRI Surface
cd /u/project/cbearden/data/22q/qunex_studyfolder/processing/logs/manual
/u/project/cbearden/data/scripts/tools/qunex_bin/hoffman_submit_qunex.sh \
--qunex_command="hcp_fmri_surface" \
--qunex_options="--sessions=/u/project/cbearden/data/22q/qunex_studyfolder/processing/22qTrio_batch_cleaned_n198.txt --sessionsfolder=/u/project/cbearden/data/22q/qunex_studyfolder/sessions --parsessions=1 --overwrite=no" \
--scheduler_options="-l h_data=16G,h_rt=24:00:00,highp" \
--array="yes" \
--sessions="Q_0001_09242012 Q_0001_10152010 Q_0005_04182011 Q_0007_04012011 Q_0009_09292011 Q_0016_03292011 Q_0016_10082012 Q_0019_05052011 Q_0020_03262012 Q_0020_05052011 Q_0021_01132011 Q_0021_11052012 Q_0024_04152011 Q_0024_09212012 Q_0026_03232012 Q_0026_05032013 Q_0033_03192010 Q_0036_03302010 Q_0036_06212012 Q_0036_06282011 Q_0037_04202011 Q_0038_06042010 Q_0039_04132010 Q_0039_06012011 Q_0040_05142010 Q_0040_06272011 Q_0041_09262012 Q_0045_07132010 Q_0045_08302011 Q_0045_10052012 Q_0051_01302012 Q_0052_07302010 Q_0053_08022010 Q_0053_12212012 Q_0054_08062010 Q_0056_08252010 Q_0056_09102012 Q_0059_08032011 Q_0062_11302011 Q_0076_10212010 Q_0077_02292012 Q_0077_03112013 Q_0077_10252010 Q_0078_11102011 Q_0080_11222010 Q_0081_11242010 Q_0082_01062012 Q_0082_01112013 Q_0082_12162010 Q_0085_02242012 Q_0091_03052012 Q_0091_03072011 Q_0092_03102011 Q_0093_03082011 Q_0093_03122012 Q_0093_03122013 Q_0098_04012011 Q_0099_04012011 Q_0100_04082011 Q_0101_01032013 Q_0101_04122011 Q_0102_01032013 Q_0102_04122011 Q_0103_04182011 Q_0103_08272012 Q_0105_05022011 Q_0109_05262011 Q_0112_11142012 Q_0114_02062014 Q_0114_11092012 Q_0117_07062011 Q_0117_08312012 Q_0118_07072011 Q_0124_07292011 Q_0124_09172012 Q_0126_08012011 Q_0127_03052013 Q_0127_08012014 Q_0127_08082011 Q_0130_08132012 Q_0130_08162011 Q_0130_11042014 Q_0132_08222011 Q_0135_09012011 Q_0136_09012011 Q_0137_09022011 Q_0138_09032013 Q_0138_09042012 Q_0138_09062011 Q_0141_10072013 Q_0141_10092012 Q_0146_11082012 Q_0146_12072011 Q_0147_08112015 Q_0147_08142014 Q_0147_12122011 Q_0149_11192012 Q_0149_12192011 Q_0150_11192012 Q_0150_12202011 Q_0151_01122012 Q_0153_01202012 Q_0156_01312012 Q_0156_12102013 Q_0157_01312012 Q_0159_02122013 Q_0161_03012012 Q_0161_04192013 Q_0162_03202012 Q_0163_03262012 Q_0166_01092014 Q_0166_04052012 Q_0168_04052012 Q_0169_04062012 Q_0170_04102012 Q_0170_11252014 Q_0171_04102012 Q_0171_11252014 Q_0172_04122012 Q_0172_04262013 Q_0173_04122012 Q_0173_04172014 Q_0173_04262013 Q_0174_04182012 Q_0174_04272015 Q_0176_04242012 Q_0176_05072013 Q_0177_05012012 Q_0178_05012012 Q_0182_05182012 Q_0184_05242012 Q_0185_05242012 Q_0186_04092015 Q_0188_05242012 Q_0189_05242012 Q_0190_06012012 Q_0190_08132013 Q_0192_06112013 Q_0196_06192015 Q_0196_06202012 Q_0196_09122013 Q_0200_04032015 Q_0200_07092012 Q_0200_08052013 Q_0213_08032012 Q_0215_08062012 Q_0215_08172015 Q_0216_08062012 Q_0216_08172015 Q_0217_01142014 Q_0217_02042015 Q_0217_08092012 Q_0219_08122014 Q_0219_08162012 Q_0219_09012015 Q_0222_08212012 Q_0223_08212012 Q_0227_10032012 Q_0228_01292014 Q_0228_09272012 Q_0229_10022012 Q_0232_12122012 Q_0234_03252014 Q_0234_12132012 Q_0236_03072013 Q_0238_03202013 Q_0238_08042014 Q_0238_11132015 Q_0240_03232015 Q_0240_03272013 Q_0240_06262014 Q_0242_03272013 Q_0242_05162016 Q_0244_09162013 Q_0244_09232014 Q_0246_09242013 Q_0252_12102013 Q_0255_10212014 Q_0260_06092014 Q_0260_10262015 Q_0266_08122014 Q_0268_10132014 Q_0269_10142014 Q_0277_12082014 Q_0284_03182015 Q_0285_03182015 Q_0286_03182015 Q_0287_03182015 Q_0291_04172015 Q_0307_10132015 Q_0310_11182015 Q_0311_12082015 Q_0315_01262016 Q_0321_03232016 Q_0322_03312016 Q_0326_04142016 Q_0327_04142016 Q_0328_04262016"


# n=6 failed fMRI volume
sessions_failed_vol="Q_0130_11042014 Q_0136_09012011 Q_0173_04262013 Q_0190_06012012 Q_0240_03272013 Q_0328_04262016"
# T1w QC these sessions
cd /u/project/cbearden/data/22q/qunex_studyfolder/processing/logs/manual
/u/project/cbearden/data/scripts/tools/qunex_bin/hoffman_submit_qunex.sh \
--qunex_command="run_qc" \
--qunex_options="--modality=T1w --outpath=/u/project/cbearden/data/22q/qunex_studyfolder/sessions/QC/T1w_failed_fMRI_100721  --sessionsfolder=/u/project/cbearden/data/22q/qunex_studyfolder/sessions --overwrite=no" \
--scheduler_options="-l h_data=16G,h_rt=24:00:00" \
--array="yes" \
--sessions="Q_0130_11042014 Q_0136_09012011 Q_0173_04262013 Q_0190_06012012 Q_0240_03272013 Q_0328_04262016"

# looks like Q_0240_03272013 T1w worked this time. Unclear why fmri volume failed. Try rerunning first without changing options
cd /u/project/cbearden/data/22q/qunex_studyfolder/processing/logs/manual
/u/project/cbearden/data/scripts/tools/qunex_bin/hoffman_submit_qunex.sh \
--qunex_command="hcp_fmri_volume" \
--qunex_options="--sessions=/u/project/cbearden/data/22q/qunex_studyfolder/processing/22qTrio_batch_cleaned_n198.txt --sessionsfolder=/u/project/cbearden/data/22q/qunex_studyfolder/sessions --parsessions=1 --overwrite=no" \
--scheduler_options="-l h_data=16G,h_rt=24:00:00" \
--array="yes" \
--sessions="Q_0130_11042014 Q_0136_09012011 Q_0173_04262013 Q_0190_06012012 Q_0240_03272013 Q_0328_04262016"

cd /u/project/cbearden/data/22q/qunex_studyfolder/processing/logs/manual
/u/project/cbearden/data/scripts/tools/qunex_bin/hoffman_submit_qunex.sh \
--qunex_command="hcp_fmri_surface" \
--qunex_options="--sessions=/u/project/cbearden/data/22q/qunex_studyfolder/processing/22qTrio_batch_cleaned_n198.txt --sessionsfolder=/u/project/cbearden/data/22q/qunex_studyfolder/sessions --parsessions=1 --overwrite=no" \
--scheduler_options="-l h_data=16G,h_rt=24:00:00" \
--array="yes" \
--sessions="Q_0130_11042014 Q_0136_09012011 Q_0173_04262013 Q_0190_06012012 Q_0240_03272013 Q_0328_04262016"

# bold 1 failing for two sessions, subsequent BOLDS not being processed
# check bold1 with fslinfo, dim4=1 for both scans, bold2 dim4=152
# comment out bold1 in both session_hcp.txt files
# fix subject IDs for all sessions
source /u/project/cbearden/data/22q/qunex_studyfolder/processing/scripts/edit_session_hcp.sh
# regenerate batch file
cd /u/project/cbearden/data/22q/qunex_studyfolder/processing/logs/manual
/u/project/cbearden/data/scripts/tools/qunex_bin/hoffman_submit_qunex.sh \
--qunex_command="create_batch" \
--qunex_options="--targetfile=/u/project/cbearden/data/22q/qunex_studyfolder/processing/22qTrio_batch_cleaned_n198.txt --overwrite=yes --sessionsfolder=/u/project/cbearden/data/22q/qunex_studyfolder/sessions --sourcefiles=session_hcp.txt --paramfile=/u/project/cbearden/data/22q/qunex_studyfolder/sessions/specs/22q_trio_params.txt --sessions=Q_0001_09242012,Q_0001_10152010,Q_0005_04182011,Q_0007_04012011,Q_0009_09292011,Q_0016_03292011,Q_0016_10082012,Q_0019_05052011,Q_0020_03262012,Q_0020_05052011,Q_0021_01132011,Q_0021_11052012,Q_0024_04152011,Q_0024_09212012,Q_0026_03232012,Q_0026_05032013,Q_0033_03192010,Q_0036_03302010,Q_0036_06212012,Q_0036_06282011,Q_0037_04202011,Q_0038_06042010,Q_0039_04132010,Q_0039_06012011,Q_0040_05142010,Q_0040_06272011,Q_0041_09262012,Q_0045_07132010,Q_0045_08302011,Q_0045_10052012,Q_0051_01302012,Q_0052_07302010,Q_0053_08022010,Q_0053_12212012,Q_0054_08062010,Q_0056_08252010,Q_0056_09102012,Q_0059_08032011,Q_0062_11302011,Q_0076_10212010,Q_0077_02292012,Q_0077_03112013,Q_0077_10252010,Q_0078_11102011,Q_0080_11222010,Q_0081_11242010,Q_0082_01062012,Q_0082_01112013,Q_0082_12162010,Q_0085_02242012,Q_0091_03052012,Q_0091_03072011,Q_0092_03102011,Q_0093_03082011,Q_0093_03122012,Q_0093_03122013,Q_0098_04012011,Q_0099_04012011,Q_0100_04082011,Q_0101_01032013,Q_0101_04122011,Q_0102_01032013,Q_0102_04122011,Q_0103_04182011,Q_0103_08272012,Q_0105_05022011,Q_0109_05262011,Q_0112_11142012,Q_0114_02062014,Q_0114_11092012,Q_0117_07062011,Q_0117_08312012,Q_0118_07072011,Q_0124_07292011,Q_0124_09172012,Q_0126_08012011,Q_0127_03052013,Q_0127_08012014,Q_0127_08082011,Q_0130_08132012,Q_0130_08162011,Q_0130_11042014,Q_0132_08222011,Q_0135_09012011,Q_0136_09012011,Q_0137_09022011,Q_0138_09032013,Q_0138_09042012,Q_0138_09062011,Q_0141_10072013,Q_0141_10092012,Q_0146_11082012,Q_0146_12072011,Q_0147_08112015,Q_0147_08142014,Q_0147_12122011,Q_0149_11192012,Q_0149_12192011,Q_0150_11192012,Q_0150_12202011,Q_0151_01122012,Q_0153_01202012,Q_0156_01312012,Q_0156_12102013,Q_0157_01312012,Q_0159_02122013,Q_0161_03012012,Q_0161_04192013,Q_0162_03202012,Q_0163_03262012,Q_0166_01092014,Q_0166_04052012,Q_0168_04052012,Q_0169_04062012,Q_0170_04102012,Q_0170_11252014,Q_0171_04102012,Q_0171_11252014,Q_0172_04122012,Q_0172_04262013,Q_0173_04122012,Q_0173_04172014,Q_0173_04262013,Q_0174_04182012,Q_0174_04272015,Q_0176_04242012,Q_0176_05072013,Q_0177_05012012,Q_0178_05012012,Q_0182_05182012,Q_0184_05242012,Q_0185_05242012,Q_0186_04092015,Q_0188_05242012,Q_0189_05242012,Q_0190_06012012,Q_0190_08132013,Q_0192_06112013,Q_0196_06192015,Q_0196_06202012,Q_0196_09122013,Q_0200_04032015,Q_0200_07092012,Q_0200_08052013,Q_0213_08032012,Q_0215_08062012,Q_0215_08172015,Q_0216_08062012,Q_0216_08172015,Q_0217_01142014,Q_0217_02042015,Q_0217_08092012,Q_0219_08122014,Q_0219_08162012,Q_0219_09012015,Q_0222_08212012,Q_0223_08212012,Q_0227_10032012,Q_0228_01292014,Q_0228_09272012,Q_0229_10022012,Q_0232_12122012,Q_0234_03252014,Q_0234_12132012,Q_0236_03072013,Q_0238_03202013,Q_0238_08042014,Q_0238_11132015,Q_0240_03232015,Q_0240_03272013,Q_0240_06262014,Q_0242_03272013,Q_0242_05162016,Q_0244_09162013,Q_0244_09232014,Q_0246_09242013,Q_0252_12102013,Q_0255_10212014,Q_0260_06092014,Q_0260_10262015,Q_0266_08122014,Q_0268_10132014,Q_0269_10142014,Q_0277_12082014,Q_0284_03182015,Q_0285_03182015,Q_0286_03182015,Q_0287_03182015,Q_0291_04172015,Q_0307_10132015,Q_0310_11182015,Q_0311_12082015,Q_0315_01262016,Q_0321_03232016,Q_0322_03312016,Q_0326_04142016,Q_0327_04142016,Q_0328_04262016" \
--scheduler_options="-l h_data=4G,h_rt=4:00:00" \
--array="no" 
# rerun fmri volume and 
cd /u/project/cbearden/data/22q/qunex_studyfolder/processing/logs/manual
/u/project/cbearden/data/scripts/tools/qunex_bin/hoffman_submit_qunex.sh \
--qunex_command="hcp_fmri_volume" \
--qunex_options="--sessions=/u/project/cbearden/data/22q/qunex_studyfolder/processing/22qTrio_batch_cleaned_n198.txt --sessionsfolder=/u/project/cbearden/data/22q/qunex_studyfolder/sessions --parsessions=1 --overwrite=no" \
--scheduler_options="-l h_data=16G,h_rt=24:00:00" \
--array="yes" \
--sessions="Q_0173_04262013 Q_0190_06012012"	
	
# fmri surface for all n=198
cd /u/project/cbearden/data/22q/qunex_studyfolder/processing/logs/manual
/u/project/cbearden/data/scripts/tools/qunex_bin/hoffman_submit_qunex.sh \
--qunex_command="hcp_fmri_surface" \
--qunex_options="--sessions=/u/project/cbearden/data/22q/qunex_studyfolder/processing/22qTrio_batch_cleaned_n198.txt --sessionsfolder=/u/project/cbearden/data/22q/qunex_studyfolder/sessions --parsessions=1 --overwrite=no" \
--scheduler_options="-l h_data=16G,h_rt=10:00:00" \
--array="yes" \
--sessions="Q_0001_09242012 Q_0001_10152010 Q_0005_04182011 Q_0007_04012011 Q_0009_09292011 Q_0016_03292011 Q_0016_10082012 Q_0019_05052011 Q_0020_03262012 Q_0020_05052011 Q_0021_01132011 Q_0021_11052012 Q_0024_04152011 Q_0024_09212012 Q_0026_03232012 Q_0026_05032013 Q_0033_03192010 Q_0036_03302010 Q_0036_06212012 Q_0036_06282011 Q_0037_04202011 Q_0038_06042010 Q_0039_04132010 Q_0039_06012011 Q_0040_05142010 Q_0040_06272011 Q_0041_09262012 Q_0045_07132010 Q_0045_08302011 Q_0045_10052012 Q_0051_01302012 Q_0052_07302010 Q_0053_08022010 Q_0053_12212012 Q_0054_08062010 Q_0056_08252010 Q_0056_09102012 Q_0059_08032011 Q_0062_11302011 Q_0076_10212010 Q_0077_02292012 Q_0077_03112013 Q_0077_10252010 Q_0078_11102011 Q_0080_11222010 Q_0081_11242010 Q_0082_01062012 Q_0082_01112013 Q_0082_12162010 Q_0085_02242012 Q_0091_03052012 Q_0091_03072011 Q_0092_03102011 Q_0093_03082011 Q_0093_03122012 Q_0093_03122013 Q_0098_04012011 Q_0099_04012011 Q_0100_04082011 Q_0101_01032013 Q_0101_04122011 Q_0102_01032013 Q_0102_04122011 Q_0103_04182011 Q_0103_08272012 Q_0105_05022011 Q_0109_05262011 Q_0112_11142012 Q_0114_02062014 Q_0114_11092012 Q_0117_07062011 Q_0117_08312012 Q_0118_07072011 Q_0124_07292011 Q_0124_09172012 Q_0126_08012011 Q_0127_03052013 Q_0127_08012014 Q_0127_08082011 Q_0130_08132012 Q_0130_08162011 Q_0130_11042014 Q_0132_08222011 Q_0135_09012011 Q_0136_09012011 Q_0137_09022011 Q_0138_09032013 Q_0138_09042012 Q_0138_09062011 Q_0141_10072013 Q_0141_10092012 Q_0146_11082012 Q_0146_12072011 Q_0147_08112015 Q_0147_08142014 Q_0147_12122011 Q_0149_11192012 Q_0149_12192011 Q_0150_11192012 Q_0150_12202011 Q_0151_01122012 Q_0153_01202012 Q_0156_01312012 Q_0156_12102013 Q_0157_01312012 Q_0159_02122013 Q_0161_03012012 Q_0161_04192013 Q_0162_03202012 Q_0163_03262012 Q_0166_01092014 Q_0166_04052012 Q_0168_04052012 Q_0169_04062012 Q_0170_04102012 Q_0170_11252014 Q_0171_04102012 Q_0171_11252014 Q_0172_04122012 Q_0172_04262013 Q_0173_04122012 Q_0173_04172014 Q_0173_04262013 Q_0174_04182012 Q_0174_04272015 Q_0176_04242012 Q_0176_05072013 Q_0177_05012012 Q_0178_05012012 Q_0182_05182012 Q_0184_05242012 Q_0185_05242012 Q_0186_04092015 Q_0188_05242012 Q_0189_05242012 Q_0190_06012012 Q_0190_08132013 Q_0192_06112013 Q_0196_06192015 Q_0196_06202012 Q_0196_09122013 Q_0200_04032015 Q_0200_07092012 Q_0200_08052013 Q_0213_08032012 Q_0215_08062012 Q_0215_08172015 Q_0216_08062012 Q_0216_08172015 Q_0217_01142014 Q_0217_02042015 Q_0217_08092012 Q_0219_08122014 Q_0219_08162012 Q_0219_09012015 Q_0222_08212012 Q_0223_08212012 Q_0227_10032012 Q_0228_01292014 Q_0228_09272012 Q_0229_10022012 Q_0232_12122012 Q_0234_03252014 Q_0234_12132012 Q_0236_03072013 Q_0238_03202013 Q_0238_08042014 Q_0238_11132015 Q_0240_03232015 Q_0240_03272013 Q_0240_06262014 Q_0242_03272013 Q_0242_05162016 Q_0244_09162013 Q_0244_09232014 Q_0246_09242013 Q_0252_12102013 Q_0255_10212014 Q_0260_06092014 Q_0260_10262015 Q_0266_08122014 Q_0268_10132014 Q_0269_10142014 Q_0277_12082014 Q_0284_03182015 Q_0285_03182015 Q_0286_03182015 Q_0287_03182015 Q_0291_04172015 Q_0307_10132015 Q_0310_11182015 Q_0311_12082015 Q_0315_01262016 Q_0321_03232016 Q_0322_03312016 Q_0326_04142016 Q_0327_04142016 Q_0328_04262016"

	
	
#####################################################################
### BOLD post-processing
#####################################################################
# https://bitbucket.org/oriadev/qunex/wiki/UsageDocs/BOLDPreprocessing.md
# https://bitbucket.org/oriadev/qunex/wiki/UsageDocs/MovementScrubbing.md

### map hcp data
#cd /u/project/cbearden/data/22q/qunex_studyfolder/processing/logs/manual
#/u/project/cbearden/data/scripts/tools/qunex_bin/hoffman_submit_qunex.sh \
#--qunex_command="map_hcp_data" \
#--qunex_options=" --overwrite=yes --bolds=resting --sessions=/u/project/cbearden/data/22q/qunex_studyfolder/processing/22qTrio_batch_cleaned_n198.txt --sessionsfolder=/u/project/cbearden/data/22q/qunex_studyfolder/sessions" \
#--scheduler_options="-l h_data=16G,h_rt=4:00:00" \
#--array="yes" \
#--sessions="Q_0001_09242012 Q_0001_10152010 Q_0005_04182011 Q_0007_04012011 Q_0009_09292011 Q_0016_03292011 Q_0016_10082012 Q_0019_05052011 Q_0020_03262012 Q_0020_05052011 Q_0021_01132011 Q_0021_11052012 Q_0024_04152011 Q_0024_09212012 Q_0026_03232012 Q_0026_05032013 Q_0033_03192010 Q_0036_03302010 Q_0036_06212012 Q_0036_06282011 Q_0037_04202011 Q_0038_06042010 Q_0039_04132010 Q_0039_06012011 Q_0040_05142010 Q_0040_06272011 Q_0041_09262012 Q_0045_07132010 Q_0045_08302011 Q_0045_10052012 Q_0051_01302012 Q_0052_07302010 Q_0053_08022010 Q_0053_12212012 Q_0054_08062010 Q_0056_08252010 Q_0056_09102012 Q_0059_08032011 Q_0062_11302011 Q_0076_10212010 Q_0077_02292012 Q_0077_03112013 Q_0077_10252010 Q_0078_11102011 Q_0080_11222010 Q_0081_11242010 Q_0082_01062012 Q_0082_01112013 Q_0082_12162010 Q_0085_02242012 Q_0091_03052012 Q_0091_03072011 Q_0092_03102011 Q_0093_03082011 Q_0093_03122012 Q_0093_03122013 Q_0098_04012011 Q_0099_04012011 Q_0100_04082011 Q_0101_01032013 Q_0101_04122011 Q_0102_01032013 Q_0102_04122011 Q_0103_04182011 Q_0103_08272012 Q_0105_05022011 Q_0109_05262011 Q_0112_11142012 Q_0114_02062014 Q_0114_11092012 Q_0117_07062011 Q_0117_08312012 Q_0118_07072011 Q_0124_07292011 Q_0124_09172012 Q_0126_08012011 Q_0127_03052013 Q_0127_08012014 Q_0127_08082011 Q_0130_08132012 Q_0130_08162011 Q_0130_11042014 Q_0132_08222011 Q_0135_09012011 Q_0136_09012011 Q_0137_09022011 Q_0138_09032013 Q_0138_09042012 Q_0138_09062011 Q_0141_10072013 Q_0141_10092012 Q_0146_11082012 Q_0146_12072011 Q_0147_08112015 Q_0147_08142014 Q_0147_12122011 Q_0149_11192012 Q_0149_12192011 Q_0150_11192012 Q_0150_12202011 Q_0151_01122012 Q_0153_01202012 Q_0156_01312012 Q_0156_12102013 Q_0157_01312012 Q_0159_02122013 Q_0161_03012012 Q_0161_04192013 Q_0162_03202012 Q_0163_03262012 Q_0166_01092014 Q_0166_04052012 Q_0168_04052012 Q_0169_04062012 Q_0170_04102012 Q_0170_11252014 Q_0171_04102012 Q_0171_11252014 Q_0172_04122012 Q_0172_04262013 Q_0173_04122012 Q_0173_04172014 Q_0173_04262013 Q_0174_04182012 Q_0174_04272015 Q_0176_04242012 Q_0176_05072013 Q_0177_05012012 Q_0178_05012012 Q_0182_05182012 Q_0184_05242012 Q_0185_05242012 Q_0186_04092015 Q_0188_05242012 Q_0189_05242012 Q_0190_06012012 Q_0190_08132013 Q_0192_06112013 Q_0196_06192015 Q_0196_06202012 Q_0196_09122013 Q_0200_04032015 Q_0200_07092012 Q_0200_08052013 Q_0213_08032012 Q_0215_08062012 Q_0215_08172015 Q_0216_08062012 Q_0216_08172015 Q_0217_01142014 Q_0217_02042015 Q_0217_08092012 Q_0219_08122014 Q_0219_08162012 Q_0219_09012015 Q_0222_08212012 Q_0223_08212012 Q_0227_10032012 Q_0228_01292014 Q_0228_09272012 Q_0229_10022012 Q_0232_12122012 Q_0234_03252014 Q_0234_12132012 Q_0236_03072013 Q_0238_03202013 Q_0238_08042014 Q_0238_11132015 Q_0240_03232015 Q_0240_03272013 Q_0240_06262014 Q_0242_03272013 Q_0242_05162016 Q_0244_09162013 Q_0244_09232014 Q_0246_09242013 Q_0252_12102013 Q_0255_10212014 Q_0260_06092014 Q_0260_10262015 Q_0266_08122014 Q_0268_10132014 Q_0269_10142014 Q_0277_12082014 Q_0284_03182015 Q_0285_03182015 Q_0286_03182015 Q_0287_03182015 Q_0291_04172015 Q_0307_10132015 Q_0310_11182015 Q_0311_12082015 Q_0315_01262016 Q_0321_03232016 Q_0322_03312016 Q_0326_04142016 Q_0327_04142016 Q_0328_04262016"
#
#	## rerun map hcp for failed seshs
#	# seems to be an issue when submitting job array, some nodes fail. Some of the failed will work when array re-submitted. Emailed IDRE...
#	cd /u/project/cbearden/data/22q/qunex_studyfolder/processing/logs/manual
#	/u/project/cbearden/data/scripts/tools/qunex_bin/hoffman_submit_qunex.sh \
#	--qunex_command="map_hcp_data" \
#	--qunex_options="--overwrite=yes --bolds=resting --sessions=/u/project/cbearden/data/22q/qunex_studyfolder/processing/22qTrio_batch_cleaned_n198.txt --sessionsfolder=/u/project/cbearden/data/22q/qunex_studyfolder/sessions" \
#	--scheduler_options="-l h_data=16G,h_rt=4:00:00" \
#	--array="yes" \
#	--sessions="Q_0001_09242012 Q_0036_03302010 Q_0150_11192012 Q_0190_06012012 Q_0037_04202011 Q_0101_04122011 Q_0124_09172012 Q_0001_10152010 Q_0102_04122011 Q_0053_08022010 Q_0026_03232012 Q_0137_09022011 Q_0100_04082011 Q_0007_04012011 Q_0176_04242012 Q_0102_01032013 Q_0041_09262012 Q_0016_03292011 Q_0082_01062012 Q_0024_09212012 Q_0021_11052012 Q_0077_10252010 Q_0019_05052011 Q_0126_08012011 Q_0156_12102013 Q_0138_09032013 Q_0266_08122014 Q_0189_05242012 Q_0260_10262015 Q_0161_04192013 Q_0174_04182012"
#	
#	# rerun map hcp again for still failed seshs
#	cd /u/project/cbearden/data/22q/qunex_studyfolder/processing/logs/manual
#	/u/project/cbearden/data/scripts/tools/qunex_bin/hoffman_submit_qunex.sh \
#	--qunex_command="map_hcp_data" \
#	--qunex_options="--overwrite=yes --bolds=resting --sessions=/u/project/cbearden/data/22q/qunex_studyfolder/processing/22qTrio_batch_cleaned_n198.txt --sessionsfolder=/u/project/cbearden/data/22q/qunex_studyfolder/sessions" \
#	--scheduler_options="-l h_data=16G,h_rt=4:00:00" \
#	--array="yes" \
#	--sessions="Q_0021_11052012 Q_0102_01032013 Q_0007_04012011 Q_0101_04122011 Q_0138_09032013 Q_0156_12102013 Q_0124_09172012 Q_0001_09242012 Q_0082_01062012 Q_0036_03302010 Q_0100_04082011 Q_0077_10252010 Q_0190_06012012 Q_0026_03232012"
#	
#	# rerun map hcp again for still failed seshs
#	cd /u/project/cbearden/data/22q/qunex_studyfolder/processing/logs/manual
#	/u/project/cbearden/data/scripts/tools/qunex_bin/hoffman_submit_qunex.sh \
#	--qunex_command="map_hcp_data" \
#	--qunex_options="--overwrite=yes --bolds=resting --sessions=/u/project/cbearden/data/22q/qunex_studyfolder/processing/22qTrio_batch_cleaned_n198.txt --sessionsfolder=/u/project/cbearden/data/22q/qunex_studyfolder/sessions" \
#	--scheduler_options="-l h_data=16G,h_rt=4:00:00" \
#	--array="yes" \
#	--sessions="Q_0077_10252010 Q_0102_01032013 Q_0021_11052012"
#
#
### list of subjects with bold resting
##for i in Q_0*; do if [[ ! -z $(cat ${i}/session_hcp.txt | grep "resting") ]];then echo $i; fi; done
##--sessions="Q_0001_09242012 Q_0001_10152010 Q_0005_04182011 Q_0007_04012011 Q_0009_09292011 Q_0016_03292011 Q_0016_10082012 Q_0019_05052011 Q_0020_03262012 Q_0020_05052011 Q_0021_01132011 Q_0021_11052012 Q_0024_04152011 Q_0024_09212012 Q_0026_03232012 Q_0026_05032013 Q_0033_03192010 Q_0036_03302010 Q_0036_06212012 Q_0036_06282011 Q_0037_04202011 Q_0038_06042010 Q_0039_04132010 Q_0039_06012011 Q_0040_05142010 Q_0040_06272011 Q_0041_09262012 Q_0045_07132010 Q_0045_08302011 Q_0045_10052012 Q_0051_01302012 Q_0052_07302010 Q_0053_08022010 Q_0053_12212012 Q_0054_08062010 Q_0056_08252010 Q_0056_09102012 Q_0059_08032011 Q_0062_11302011 Q_0072_01102013 Q_0072_11032011 Q_0076_10212010 Q_0077_02292012 Q_0077_03112013 Q_0077_10252010 Q_0078_11102011 Q_0080_11222010 Q_0081_11242010 Q_0082_01062012 Q_0082_01112013 Q_0082_12162010 Q_0085_02242012 Q_0091_03052012 Q_0091_03072011 Q_0092_03102011 Q_0093_03082011 Q_0093_03122012 Q_0093_03122013 Q_0094_03172011 Q_0098_04012011 Q_0099_04012011 Q_0100_04082011 Q_0101_01032013 Q_0101_04122011 Q_0102_01032013 Q_0102_04122011 Q_0103_04182011 Q_0103_08272012 Q_0105_05022011 Q_0109_05262011 Q_0112_06072011 Q_0112_11142012 Q_0114_02062014 Q_0114_06292011 Q_0114_11092012 Q_0117_07062011 Q_0117_08312012 Q_0118_07072011 Q_0120_06182014 Q_0124_07292011 Q_0124_09172012 Q_0126_08012011 Q_0127_03052013 Q_0127_08012014 Q_0127_08082011 Q_0130_08132012 Q_0130_08162011 Q_0130_11042014 Q_0132_08222011 Q_0135_09012011 Q_0136_09012011 Q_0137_09022011 Q_0138_09032013 Q_0138_09042012 Q_0138_09062011 Q_0141_10072013 Q_0141_10072013_old Q_0141_10092012 Q_0146_11082012 Q_0146_12072011 Q_0147_08112015 Q_0147_08142014 Q_0147_12122011 Q_0149_11192012 Q_0149_12192011 Q_0150_11192012 Q_0150_12202011 Q_0151_01122012 Q_0153_01202012 Q_0156_01312012 Q_0156_12102013 Q_0156_12102013_old Q_0157_01312012 Q_0159_02122013 Q_0161_03012012 Q_0161_04192013 Q_0162_03202012 Q_0163_03262012 Q_0166_01092014 Q_0166_04052012 Q_0168_04052012 Q_0169_04062012 Q_0170_04102012 Q_0170_11252014 Q_0171_04102012 Q_0171_11252014 Q_0172_04122012 Q_0172_04262013 Q_0173_04122012 Q_0173_04172014 Q_0173_04262013 Q_0174_04182012 Q_0174_04272015 Q_0176_04242012 Q_0176_05072013 Q_0177_05012012 Q_0178_05012012 Q_0182_05182012 Q_0184_05242012 Q_0185_05242012 Q_0186_04092015 Q_0188_05242012 Q_0189_05242012 Q_0190_06012012 Q_0190_08132013 Q_0190_08292014 Q_0192_06112013 Q_0196_06192015 Q_0196_06202012 Q_0196_09122013 Q_0200_04032015 Q_0200_07092012 Q_0200_08052013 Q_0213_08032012 Q_0215_08062012 Q_0215_08172015 Q_0216_08062012 Q_0216_08172015 Q_0217_02042015 Q_0217_08092012 Q_0219_08122014 Q_0219_08162012 Q_0219_09012015 Q_0222_08212012 Q_0223_08212012 Q_0227_10032012 Q_0228_01292014 Q_0228_09272012 Q_0229_10022012 Q_0232_12122012 Q_0234_03252014 Q_0234_12132012 Q_0236_03072013 Q_0238_03202013 Q_0238_08042014 Q_0238_11132015 Q_0240_03272013 Q_0240_06262014 Q_0242_03272013 Q_0244_09162013 Q_0244_09232014 Q_0246_09242013 Q_0250_09302013 Q_0252_12102013 Q_0255_10212014 Q_0260_06092014 Q_0268_10132014 Q_0269_10142014 Q_0277_12082014 Q_0284_03182015 Q_0285_03182015 Q_0286_03182015 Q_0287_03182015 Q_0291_04172015 Q_0307_10132015 Q_0310_11182015 Q_0311_12082015 Q_0315_01262016 Q_0321_03232016 Q_0322_03312016 Q_0326_04142016 Q_0327_04142016"
#
### brain masks
#cd /u/project/cbearden/data/22q/qunex_studyfolder/processing/logs/manual
#/u/project/cbearden/data/scripts/tools/qunex_bin/hoffman_submit_qunex.sh \
#--qunex_command="create_bold_brain_masks" \
#--qunex_options="--overwrite=yes --sessions=/u/project/cbearden/data/22q/qunex_studyfolder/processing/22qTrio_batch_cleaned_n198.txt --sessionsfolder=/u/project/cbearden/data/22q/qunex_studyfolder/sessions" \
#--scheduler_options="-l h_data=16G,h_rt=4:00:00" \
#--array="yes" \
#--sessions="Q_0001_09242012 Q_0001_10152010 Q_0005_04182011 Q_0007_04012011 Q_0009_09292011 Q_0016_03292011 Q_0016_10082012 Q_0019_05052011 Q_0020_03262012 Q_0020_05052011 Q_0021_01132011 Q_0021_11052012 Q_0024_04152011 Q_0024_09212012 Q_0026_03232012 Q_0026_05032013 Q_0033_03192010 Q_0036_03302010 Q_0036_06212012 Q_0036_06282011 Q_0037_04202011 Q_0038_06042010 Q_0039_04132010 Q_0039_06012011 Q_0040_05142010 Q_0040_06272011 Q_0041_09262012 Q_0045_07132010 Q_0045_08302011 Q_0045_10052012 Q_0051_01302012 Q_0052_07302010 Q_0053_08022010 Q_0053_12212012 Q_0054_08062010 Q_0056_08252010 Q_0056_09102012 Q_0059_08032011 Q_0062_11302011 Q_0076_10212010 Q_0077_02292012 Q_0077_03112013 Q_0077_10252010 Q_0078_11102011 Q_0080_11222010 Q_0081_11242010 Q_0082_01062012 Q_0082_01112013 Q_0082_12162010 Q_0085_02242012 Q_0091_03052012 Q_0091_03072011 Q_0092_03102011 Q_0093_03082011 Q_0093_03122012 Q_0093_03122013 Q_0098_04012011 Q_0099_04012011 Q_0100_04082011 Q_0101_01032013 Q_0101_04122011 Q_0102_01032013 Q_0102_04122011 Q_0103_04182011 Q_0103_08272012 Q_0105_05022011 Q_0109_05262011 Q_0112_11142012 Q_0114_02062014 Q_0114_11092012 Q_0117_07062011 Q_0117_08312012 Q_0118_07072011 Q_0124_07292011 Q_0124_09172012 Q_0126_08012011 Q_0127_03052013 Q_0127_08012014 Q_0127_08082011 Q_0130_08132012 Q_0130_08162011 Q_0130_11042014 Q_0132_08222011 Q_0135_09012011 Q_0136_09012011 Q_0137_09022011 Q_0138_09032013 Q_0138_09042012 Q_0138_09062011 Q_0141_10072013 Q_0141_10092012 Q_0146_11082012 Q_0146_12072011 Q_0147_08112015 Q_0147_08142014 Q_0147_12122011 Q_0149_11192012 Q_0149_12192011 Q_0150_11192012 Q_0150_12202011 Q_0151_01122012 Q_0153_01202012 Q_0156_01312012 Q_0156_12102013 Q_0157_01312012 Q_0159_02122013 Q_0161_03012012 Q_0161_04192013 Q_0162_03202012 Q_0163_03262012 Q_0166_01092014 Q_0166_04052012 Q_0168_04052012 Q_0169_04062012 Q_0170_04102012 Q_0170_11252014 Q_0171_04102012 Q_0171_11252014 Q_0172_04122012 Q_0172_04262013 Q_0173_04122012 Q_0173_04172014 Q_0173_04262013 Q_0174_04182012 Q_0174_04272015 Q_0176_04242012 Q_0176_05072013 Q_0177_05012012 Q_0178_05012012 Q_0182_05182012 Q_0184_05242012 Q_0185_05242012 Q_0186_04092015 Q_0188_05242012 Q_0189_05242012 Q_0190_06012012 Q_0190_08132013 Q_0192_06112013 Q_0196_06192015 Q_0196_06202012 Q_0196_09122013 Q_0200_04032015 Q_0200_07092012 Q_0200_08052013 Q_0213_08032012 Q_0215_08062012 Q_0215_08172015 Q_0216_08062012 Q_0216_08172015 Q_0217_01142014 Q_0217_02042015 Q_0217_08092012 Q_0219_08122014 Q_0219_08162012 Q_0219_09012015 Q_0222_08212012 Q_0223_08212012 Q_0227_10032012 Q_0228_01292014 Q_0228_09272012 Q_0229_10022012 Q_0232_12122012 Q_0234_03252014 Q_0234_12132012 Q_0236_03072013 Q_0238_03202013 Q_0238_08042014 Q_0238_11132015 Q_0240_03232015 Q_0240_03272013 Q_0240_06262014 Q_0242_03272013 Q_0242_05162016 Q_0244_09162013 Q_0244_09232014 Q_0246_09242013 Q_0252_12102013 Q_0255_10212014 Q_0260_06092014 Q_0260_10262015 Q_0266_08122014 Q_0268_10132014 Q_0269_10142014 Q_0277_12082014 Q_0284_03182015 Q_0285_03182015 Q_0286_03182015 Q_0287_03182015 Q_0291_04172015 Q_0307_10132015 Q_0310_11182015 Q_0311_12082015 Q_0315_01262016 Q_0321_03232016 Q_0322_03312016 Q_0326_04142016 Q_0327_04142016 Q_0328_04262016"
#
#	# re-run failed brain masks
#	cd /u/project/cbearden/data/22q/qunex_studyfolder/processing/logs/manual
#	/u/project/cbearden/data/scripts/tools/qunex_bin/hoffman_submit_qunex.sh \
#	--qunex_command="create_bold_brain_masks" \
#	--qunex_options="--overwrite=yes --sessions=/u/project/cbearden/data/22q/qunex_studyfolder/processing/22qTrio_batch_cleaned_n198.txt --sessionsfolder=/u/project/cbearden/data/22q/qunex_studyfolder/sessions" \
#	--scheduler_options="-l h_data=16G,h_rt=4:00:00" \
#	--array="yes" \
#	--sessions="Q_0124_07292011 Q_0021_11052012 Q_0147_12122011 Q_0117_08312012 Q_0127_08012014 Q_0001_10152010 Q_0124_09172012 Q_0114_11092012 Q_0093_03082011 Q_0157_01312012 Q_0130_11042014 Q_0149_11192012 Q_0001_09242012 Q_0149_12192011 Q_0130_08132012 Q_0147_08142014 Q_0117_07062011 Q_0150_11192012 Q_0178_05012012 Q_0036_06282011 Q_0102_04122011 Q_0176_05072013 Q_0036_03302010 Q_0020_05052011 Q_0007_04012011 Q_0156_12102013 Q_0161_03012012 Q_0114_02062014 Q_0019_05052011 Q_0176_04242012 Q_0103_08272012 Q_0053_12212012 Q_0024_04152011 Q_0102_01032013 Q_0242_03272013 Q_0287_03182015 Q_0153_01202012"
#	
#	# re-run failed brain masks again
#	cd /u/project/cbearden/data/22q/qunex_studyfolder/processing/logs/manual
#	/u/project/cbearden/data/scripts/tools/qunex_bin/hoffman_submit_qunex.sh \
#	--qunex_command="create_bold_brain_masks" \
#	--qunex_options="--overwrite=yes --sessions=/u/project/cbearden/data/22q/qunex_studyfolder/processing/22qTrio_batch_cleaned_n198.txt --sessionsfolder=/u/project/cbearden/data/22q/qunex_studyfolder/sessions" \
#	--scheduler_options="-l h_data=16G,h_rt=4:00:00" \
#	--array="yes" \
#	--sessions="Q_0124_07292011 Q_0001_09242012 Q_0176_05072013 Q_0178_05012012 Q_0124_09172012 Q_0147_12122011 Q_0020_05052011 Q_0019_05052011"
#
### bold stats
#cd /u/project/cbearden/data/22q/qunex_studyfolder/processing/logs/manual
#/u/project/cbearden/data/scripts/tools/qunex_bin/hoffman_submit_qunex.sh \
#--qunex_command="compute_bold_stats" \
#--qunex_options="--overwrite=yes --bolds=resting --sessions=/u/project/cbearden/data/22q/qunex_studyfolder/processing/22qTrio_batch_cleaned_n198.txt --sessionsfolder=/u/project/cbearden/data/22q/qunex_studyfolder/sessions" \
#--scheduler_options="-l h_data=16G,h_rt=4:00:00" \
#--array="yes" \
#--sessions="Q_0001_09242012 Q_0001_10152010 Q_0005_04182011 Q_0007_04012011 Q_0009_09292011 Q_0016_03292011 Q_0016_10082012 Q_0019_05052011 Q_0020_03262012 Q_0020_05052011 Q_0021_01132011 Q_0021_11052012 Q_0024_04152011 Q_0024_09212012 Q_0026_03232012 Q_0026_05032013 Q_0033_03192010 Q_0036_03302010 Q_0036_06212012 Q_0036_06282011 Q_0037_04202011 Q_0038_06042010 Q_0039_04132010 Q_0039_06012011 Q_0040_05142010 Q_0040_06272011 Q_0041_09262012 Q_0045_07132010 Q_0045_08302011 Q_0045_10052012 Q_0051_01302012 Q_0052_07302010 Q_0053_08022010 Q_0053_12212012 Q_0054_08062010 Q_0056_08252010 Q_0056_09102012 Q_0059_08032011 Q_0062_11302011 Q_0076_10212010 Q_0077_02292012 Q_0077_03112013 Q_0077_10252010 Q_0078_11102011 Q_0080_11222010 Q_0081_11242010 Q_0082_01062012 Q_0082_01112013 Q_0082_12162010 Q_0085_02242012 Q_0091_03052012 Q_0091_03072011 Q_0092_03102011 Q_0093_03082011 Q_0093_03122012 Q_0093_03122013 Q_0098_04012011 Q_0099_04012011 Q_0100_04082011 Q_0101_01032013 Q_0101_04122011 Q_0102_01032013 Q_0102_04122011 Q_0103_04182011 Q_0103_08272012 Q_0105_05022011 Q_0109_05262011 Q_0112_11142012 Q_0114_02062014 Q_0114_11092012 Q_0117_07062011 Q_0117_08312012 Q_0118_07072011 Q_0124_07292011 Q_0124_09172012 Q_0126_08012011 Q_0127_03052013 Q_0127_08012014 Q_0127_08082011 Q_0130_08132012 Q_0130_08162011 Q_0130_11042014 Q_0132_08222011 Q_0135_09012011 Q_0136_09012011 Q_0137_09022011 Q_0138_09032013 Q_0138_09042012 Q_0138_09062011 Q_0141_10072013 Q_0141_10092012 Q_0146_11082012 Q_0146_12072011 Q_0147_08112015 Q_0147_08142014 Q_0147_12122011 Q_0149_11192012 Q_0149_12192011 Q_0150_11192012 Q_0150_12202011 Q_0151_01122012 Q_0153_01202012 Q_0156_01312012 Q_0156_12102013 Q_0157_01312012 Q_0159_02122013 Q_0161_03012012 Q_0161_04192013 Q_0162_03202012 Q_0163_03262012 Q_0166_01092014 Q_0166_04052012 Q_0168_04052012 Q_0169_04062012 Q_0170_04102012 Q_0170_11252014 Q_0171_04102012 Q_0171_11252014 Q_0172_04122012 Q_0172_04262013 Q_0173_04122012 Q_0173_04172014 Q_0173_04262013 Q_0174_04182012 Q_0174_04272015 Q_0176_04242012 Q_0176_05072013 Q_0177_05012012 Q_0178_05012012 Q_0182_05182012 Q_0184_05242012 Q_0185_05242012 Q_0186_04092015 Q_0188_05242012 Q_0189_05242012 Q_0190_06012012 Q_0190_08132013 Q_0192_06112013 Q_0196_06192015 Q_0196_06202012 Q_0196_09122013 Q_0200_04032015 Q_0200_07092012 Q_0200_08052013 Q_0213_08032012 Q_0215_08062012 Q_0215_08172015 Q_0216_08062012 Q_0216_08172015 Q_0217_01142014 Q_0217_02042015 Q_0217_08092012 Q_0219_08122014 Q_0219_08162012 Q_0219_09012015 Q_0222_08212012 Q_0223_08212012 Q_0227_10032012 Q_0228_01292014 Q_0228_09272012 Q_0229_10022012 Q_0232_12122012 Q_0234_03252014 Q_0234_12132012 Q_0236_03072013 Q_0238_03202013 Q_0238_08042014 Q_0238_11132015 Q_0240_03232015 Q_0240_03272013 Q_0240_06262014 Q_0242_03272013 Q_0242_05162016 Q_0244_09162013 Q_0244_09232014 Q_0246_09242013 Q_0252_12102013 Q_0255_10212014 Q_0260_06092014 Q_0260_10262015 Q_0266_08122014 Q_0268_10132014 Q_0269_10142014 Q_0277_12082014 Q_0284_03182015 Q_0285_03182015 Q_0286_03182015 Q_0287_03182015 Q_0291_04172015 Q_0307_10132015 Q_0310_11182015 Q_0311_12082015 Q_0315_01262016 Q_0321_03232016 Q_0322_03312016 Q_0326_04142016 Q_0327_04142016 Q_0328_04262016"
#   
### create stats report
#cd /u/project/cbearden/data/22q/qunex_studyfolder/processing/logs/manual
#/u/project/cbearden/data/scripts/tools/qunex_bin/hoffman_submit_qunex.sh \
#--qunex_command="create_stats_report" \
#--qunex_options="--overwrite=yes --bolds=resting --sessions=/u/project/cbearden/data/22q/qunex_studyfolder/processing/22qTrio_batch_cleaned_n198.txt --sessionsfolder=/u/project/cbearden/data/22q/qunex_studyfolder/sessions" \
#--scheduler_options="-l h_data=16G,h_rt=4:00:00" \
#--array="yes" \
#--sessions="Q_0001_09242012 Q_0001_10152010 Q_0005_04182011 Q_0007_04012011 Q_0009_09292011 Q_0016_03292011 Q_0016_10082012 Q_0019_05052011 Q_0020_03262012 Q_0020_05052011 Q_0021_01132011 Q_0021_11052012 Q_0024_04152011 Q_0024_09212012 Q_0026_03232012 Q_0026_05032013 Q_0033_03192010 Q_0036_03302010 Q_0036_06212012 Q_0036_06282011 Q_0037_04202011 Q_0038_06042010 Q_0039_04132010 Q_0039_06012011 Q_0040_05142010 Q_0040_06272011 Q_0041_09262012 Q_0045_07132010 Q_0045_08302011 Q_0045_10052012 Q_0051_01302012 Q_0052_07302010 Q_0053_08022010 Q_0053_12212012 Q_0054_08062010 Q_0056_08252010 Q_0056_09102012 Q_0059_08032011 Q_0062_11302011 Q_0076_10212010 Q_0077_02292012 Q_0077_03112013 Q_0077_10252010 Q_0078_11102011 Q_0080_11222010 Q_0081_11242010 Q_0082_01062012 Q_0082_01112013 Q_0082_12162010 Q_0085_02242012 Q_0091_03052012 Q_0091_03072011 Q_0092_03102011 Q_0093_03082011 Q_0093_03122012 Q_0093_03122013 Q_0098_04012011 Q_0099_04012011 Q_0100_04082011 Q_0101_01032013 Q_0101_04122011 Q_0102_01032013 Q_0102_04122011 Q_0103_04182011 Q_0103_08272012 Q_0105_05022011 Q_0109_05262011 Q_0112_11142012 Q_0114_02062014 Q_0114_11092012 Q_0117_07062011 Q_0117_08312012 Q_0118_07072011 Q_0124_07292011 Q_0124_09172012 Q_0126_08012011 Q_0127_03052013 Q_0127_08012014 Q_0127_08082011 Q_0130_08132012 Q_0130_08162011 Q_0130_11042014 Q_0132_08222011 Q_0135_09012011 Q_0136_09012011 Q_0137_09022011 Q_0138_09032013 Q_0138_09042012 Q_0138_09062011 Q_0141_10072013 Q_0141_10092012 Q_0146_11082012 Q_0146_12072011 Q_0147_08112015 Q_0147_08142014 Q_0147_12122011 Q_0149_11192012 Q_0149_12192011 Q_0150_11192012 Q_0150_12202011 Q_0151_01122012 Q_0153_01202012 Q_0156_01312012 Q_0156_12102013 Q_0157_01312012 Q_0159_02122013 Q_0161_03012012 Q_0161_04192013 Q_0162_03202012 Q_0163_03262012 Q_0166_01092014 Q_0166_04052012 Q_0168_04052012 Q_0169_04062012 Q_0170_04102012 Q_0170_11252014 Q_0171_04102012 Q_0171_11252014 Q_0172_04122012 Q_0172_04262013 Q_0173_04122012 Q_0173_04172014 Q_0173_04262013 Q_0174_04182012 Q_0174_04272015 Q_0176_04242012 Q_0176_05072013 Q_0177_05012012 Q_0178_05012012 Q_0182_05182012 Q_0184_05242012 Q_0185_05242012 Q_0186_04092015 Q_0188_05242012 Q_0189_05242012 Q_0190_06012012 Q_0190_08132013 Q_0192_06112013 Q_0196_06192015 Q_0196_06202012 Q_0196_09122013 Q_0200_04032015 Q_0200_07092012 Q_0200_08052013 Q_0213_08032012 Q_0215_08062012 Q_0215_08172015 Q_0216_08062012 Q_0216_08172015 Q_0217_01142014 Q_0217_02042015 Q_0217_08092012 Q_0219_08122014 Q_0219_08162012 Q_0219_09012015 Q_0222_08212012 Q_0223_08212012 Q_0227_10032012 Q_0228_01292014 Q_0228_09272012 Q_0229_10022012 Q_0232_12122012 Q_0234_03252014 Q_0234_12132012 Q_0236_03072013 Q_0238_03202013 Q_0238_08042014 Q_0238_11132015 Q_0240_03232015 Q_0240_03272013 Q_0240_06262014 Q_0242_03272013 Q_0242_05162016 Q_0244_09162013 Q_0244_09232014 Q_0246_09242013 Q_0252_12102013 Q_0255_10212014 Q_0260_06092014 Q_0260_10262015 Q_0266_08122014 Q_0268_10132014 Q_0269_10142014 Q_0277_12082014 Q_0284_03182015 Q_0285_03182015 Q_0286_03182015 Q_0287_03182015 Q_0291_04172015 Q_0307_10132015 Q_0310_11182015 Q_0311_12082015 Q_0315_01262016 Q_0321_03232016 Q_0322_03312016 Q_0326_04142016 Q_0327_04142016 Q_0328_04262016"
#
#	# create stats report gozzi
#	#cd /u/project/cbearden/data/22q/qunex_studyfolder/processing/logs/manual
#	#/u/project/cbearden/data/scripts/tools/qunex_bin/hoffman_submit_qunex.sh \
#	#--qunex_command="create_stats_report" \
#	#--qunex_options="--bolds=resting --sessions=/u/project/cbearden/data/22q/qunex_studyfolder/processing/22q_trio_batch.txt --sessionsfolder=/u/project/cbearden/data/22q/qunex_studyfolder/sessions --overwrite=yes" \
#	#--scheduler_options="-l h_data=16G,h_rt=24:00:00" \
#	#--array="no" 
#		
### extract nuisance signal
#cd /u/project/cbearden/data/22q/qunex_studyfolder/processing/logs/manual
#/u/project/cbearden/data/scripts/tools/qunex_bin/hoffman_submit_qunex.sh \
#--qunex_command="extract_nuisance_signal" \
#--qunex_options="--overwrite=yes --bolds=resting --sessions=/u/project/cbearden/data/22q/qunex_studyfolder/processing/22qTrio_batch_cleaned_n198.txt --sessionsfolder=/u/project/cbearden/data/22q/qunex_studyfolder/sessions" \
#--scheduler_options="-l h_data=16G,h_rt=6:00:00" \
#--array="yes" \
#--sessions="Q_0001_09242012 Q_0001_10152010 Q_0005_04182011 Q_0007_04012011 Q_0009_09292011 Q_0016_03292011 Q_0016_10082012 Q_0019_05052011 Q_0020_03262012 Q_0020_05052011 Q_0021_01132011 Q_0021_11052012 Q_0024_04152011 Q_0024_09212012 Q_0026_03232012 Q_0026_05032013 Q_0033_03192010 Q_0036_03302010 Q_0036_06212012 Q_0036_06282011 Q_0037_04202011 Q_0038_06042010 Q_0039_04132010 Q_0039_06012011 Q_0040_05142010 Q_0040_06272011 Q_0041_09262012 Q_0045_07132010 Q_0045_08302011 Q_0045_10052012 Q_0051_01302012 Q_0052_07302010 Q_0053_08022010 Q_0053_12212012 Q_0054_08062010 Q_0056_08252010 Q_0056_09102012 Q_0059_08032011 Q_0062_11302011 Q_0076_10212010 Q_0077_02292012 Q_0077_03112013 Q_0077_10252010 Q_0078_11102011 Q_0080_11222010 Q_0081_11242010 Q_0082_01062012 Q_0082_01112013 Q_0082_12162010 Q_0085_02242012 Q_0091_03052012 Q_0091_03072011 Q_0092_03102011 Q_0093_03082011 Q_0093_03122012 Q_0093_03122013 Q_0098_04012011 Q_0099_04012011 Q_0100_04082011 Q_0101_01032013 Q_0101_04122011 Q_0102_01032013 Q_0102_04122011 Q_0103_04182011 Q_0103_08272012 Q_0105_05022011 Q_0109_05262011 Q_0112_11142012 Q_0114_02062014 Q_0114_11092012 Q_0117_07062011 Q_0117_08312012 Q_0118_07072011 Q_0124_07292011 Q_0124_09172012 Q_0126_08012011 Q_0127_03052013 Q_0127_08012014 Q_0127_08082011 Q_0130_08132012 Q_0130_08162011 Q_0130_11042014 Q_0132_08222011 Q_0135_09012011 Q_0136_09012011 Q_0137_09022011 Q_0138_09032013 Q_0138_09042012 Q_0138_09062011 Q_0141_10072013 Q_0141_10092012 Q_0146_11082012 Q_0146_12072011 Q_0147_08112015 Q_0147_08142014 Q_0147_12122011 Q_0149_11192012 Q_0149_12192011 Q_0150_11192012 Q_0150_12202011 Q_0151_01122012 Q_0153_01202012 Q_0156_01312012 Q_0156_12102013 Q_0157_01312012 Q_0159_02122013 Q_0161_03012012 Q_0161_04192013 Q_0162_03202012 Q_0163_03262012 Q_0166_01092014 Q_0166_04052012 Q_0168_04052012 Q_0169_04062012 Q_0170_04102012 Q_0170_11252014 Q_0171_04102012 Q_0171_11252014 Q_0172_04122012 Q_0172_04262013 Q_0173_04122012 Q_0173_04172014 Q_0173_04262013 Q_0174_04182012 Q_0174_04272015 Q_0176_04242012 Q_0176_05072013 Q_0177_05012012 Q_0178_05012012 Q_0182_05182012 Q_0184_05242012 Q_0185_05242012 Q_0186_04092015 Q_0188_05242012 Q_0189_05242012 Q_0190_06012012 Q_0190_08132013 Q_0192_06112013 Q_0196_06192015 Q_0196_06202012 Q_0196_09122013 Q_0200_04032015 Q_0200_07092012 Q_0200_08052013 Q_0213_08032012 Q_0215_08062012 Q_0215_08172015 Q_0216_08062012 Q_0216_08172015 Q_0217_01142014 Q_0217_02042015 Q_0217_08092012 Q_0219_08122014 Q_0219_08162012 Q_0219_09012015 Q_0222_08212012 Q_0223_08212012 Q_0227_10032012 Q_0228_01292014 Q_0228_09272012 Q_0229_10022012 Q_0232_12122012 Q_0234_03252014 Q_0234_12132012 Q_0236_03072013 Q_0238_03202013 Q_0238_08042014 Q_0238_11132015 Q_0240_03232015 Q_0240_03272013 Q_0240_06262014 Q_0242_03272013 Q_0242_05162016 Q_0244_09162013 Q_0244_09232014 Q_0246_09242013 Q_0252_12102013 Q_0255_10212014 Q_0260_06092014 Q_0260_10262015 Q_0266_08122014 Q_0268_10132014 Q_0269_10142014 Q_0277_12082014 Q_0284_03182015 Q_0285_03182015 Q_0286_03182015 Q_0287_03182015 Q_0291_04172015 Q_0307_10132015 Q_0310_11182015 Q_0311_12082015 Q_0315_01262016 Q_0321_03232016 Q_0322_03312016 Q_0326_04142016 Q_0327_04142016 Q_0328_04262016"
#
#	# rerun failed extract nuisance signal
#	cd /u/project/cbearden/data/22q/qunex_studyfolder/processing/logs/manual
#	/u/project/cbearden/data/scripts/tools/qunex_bin/hoffman_submit_qunex.sh \
#	--qunex_command="extract_nuisance_signal" \
#	--qunex_options="--overwrite=no --bolds=resting --sessions=/u/project/cbearden/data/22q/qunex_studyfolder/processing/22qTrio_batch_cleaned_n198.txt --sessionsfolder=/u/project/cbearden/data/22q/qunex_studyfolder/sessions" \
#	--scheduler_options="-l h_data=20G,h_rt=6:00:00" \
#	--array="yes" \
#	--sessions="Q_0102_01032013 Q_0077_10252010 Q_0200_04032015 Q_0026_03232012 Q_0216_08062012"
#	
### preprocess bold CIFTI no GSR
## Note: seemed to fail with 16G but is running with 20G
#cd /u/project/cbearden/data/22q/qunex_studyfolder/processing/logs/manual
#/u/project/cbearden/data/scripts/tools/qunex_bin/hoffman_submit_qunex.sh \
#--qunex_command="preprocess_bold" \
#--qunex_options="--overwrite=yes --bolds=resting --bold_actions=s,h,r,c,l --bold_nuisance=m,V,WM,1d --image_target=dtseries --sessions=/u/project/cbearden/data/22q/qunex_studyfolder/processing/22qTrio_batch_cleaned_n198.txt --sessionsfolder=/u/project/cbearden/data/22q/qunex_studyfolder/sessions" \
#--scheduler_options="-l h_data=20G,h_rt=24:00:00" \
#--array="yes" \
#--sessions="Q_0001_09242012 Q_0001_10152010 Q_0005_04182011 Q_0007_04012011 Q_0009_09292011 Q_0016_03292011 Q_0016_10082012 Q_0019_05052011 Q_0020_03262012 Q_0020_05052011 Q_0021_01132011 Q_0021_11052012 Q_0024_04152011 Q_0024_09212012 Q_0026_03232012 Q_0026_05032013 Q_0033_03192010 Q_0036_03302010 Q_0036_06212012 Q_0036_06282011 Q_0037_04202011 Q_0038_06042010 Q_0039_04132010 Q_0039_06012011 Q_0040_05142010 Q_0040_06272011 Q_0041_09262012 Q_0045_07132010 Q_0045_08302011 Q_0045_10052012 Q_0051_01302012 Q_0052_07302010 Q_0053_08022010 Q_0053_12212012 Q_0054_08062010 Q_0056_08252010 Q_0056_09102012 Q_0059_08032011 Q_0062_11302011 Q_0076_10212010 Q_0077_02292012 Q_0077_03112013 Q_0077_10252010 Q_0078_11102011 Q_0080_11222010 Q_0081_11242010 Q_0082_01062012 Q_0082_01112013 Q_0082_12162010 Q_0085_02242012 Q_0091_03052012 Q_0091_03072011 Q_0092_03102011 Q_0093_03082011 Q_0093_03122012 Q_0093_03122013 Q_0098_04012011 Q_0099_04012011 Q_0100_04082011 Q_0101_01032013 Q_0101_04122011 Q_0102_01032013 Q_0102_04122011 Q_0103_04182011 Q_0103_08272012 Q_0105_05022011 Q_0109_05262011 Q_0112_11142012 Q_0114_02062014 Q_0114_11092012 Q_0117_07062011 Q_0117_08312012 Q_0118_07072011 Q_0124_07292011 Q_0124_09172012 Q_0126_08012011 Q_0127_03052013 Q_0127_08012014 Q_0127_08082011 Q_0130_08132012 Q_0130_08162011 Q_0130_11042014 Q_0132_08222011 Q_0135_09012011 Q_0136_09012011 Q_0137_09022011 Q_0138_09032013 Q_0138_09042012 Q_0138_09062011 Q_0141_10072013 Q_0141_10092012 Q_0146_11082012 Q_0146_12072011 Q_0147_08112015 Q_0147_08142014 Q_0147_12122011 Q_0149_11192012 Q_0149_12192011 Q_0150_11192012 Q_0150_12202011 Q_0151_01122012 Q_0153_01202012 Q_0156_01312012 Q_0156_12102013 Q_0157_01312012 Q_0159_02122013 Q_0161_03012012 Q_0161_04192013 Q_0162_03202012 Q_0163_03262012 Q_0166_01092014 Q_0166_04052012 Q_0168_04052012 Q_0169_04062012 Q_0170_04102012 Q_0170_11252014 Q_0171_04102012 Q_0171_11252014 Q_0172_04122012 Q_0172_04262013 Q_0173_04122012 Q_0173_04172014 Q_0173_04262013 Q_0174_04182012 Q_0174_04272015 Q_0176_04242012 Q_0176_05072013 Q_0177_05012012 Q_0178_05012012 Q_0182_05182012 Q_0184_05242012 Q_0185_05242012 Q_0186_04092015 Q_0188_05242012 Q_0189_05242012 Q_0190_06012012 Q_0190_08132013 Q_0192_06112013 Q_0196_06192015 Q_0196_06202012 Q_0196_09122013 Q_0200_04032015 Q_0200_07092012 Q_0200_08052013 Q_0213_08032012 Q_0215_08062012 Q_0215_08172015 Q_0216_08062012 Q_0216_08172015 Q_0217_01142014 Q_0217_02042015 Q_0217_08092012 Q_0219_08122014 Q_0219_08162012 Q_0219_09012015 Q_0222_08212012 Q_0223_08212012 Q_0227_10032012 Q_0228_01292014 Q_0228_09272012 Q_0229_10022012 Q_0232_12122012 Q_0234_03252014 Q_0234_12132012 Q_0236_03072013 Q_0238_03202013 Q_0238_08042014 Q_0238_11132015 Q_0240_03232015 Q_0240_03272013 Q_0240_06262014 Q_0242_03272013 Q_0242_05162016 Q_0244_09162013 Q_0244_09232014 Q_0246_09242013 Q_0252_12102013 Q_0255_10212014 Q_0260_06092014 Q_0260_10262015 Q_0266_08122014 Q_0268_10132014 Q_0269_10142014 Q_0277_12082014 Q_0284_03182015 Q_0285_03182015 Q_0286_03182015 Q_0287_03182015 Q_0291_04172015 Q_0307_10132015 Q_0310_11182015 Q_0311_12082015 Q_0315_01262016 Q_0321_03232016 Q_0322_03312016 Q_0326_04142016 Q_0327_04142016 Q_0328_04262016"
#
### preprocess bold CIFTI GSR
#cd /u/project/cbearden/data/22q/qunex_studyfolder/processing/logs/manual
#/u/project/cbearden/data/scripts/tools/qunex_bin/hoffman_submit_qunex.sh \
#--qunex_command="preprocess_bold" \
#--qunex_options="--overwrite=yes --bolds=resting --bold_actions=s,h,r,c,l --bold_nuisance=m,V,WM,WB,1d --image_target=dtseries --sessions=/u/project/cbearden/data/22q/qunex_studyfolder/processing/22qTrio_batch_cleaned_n198.txt --sessionsfolder=/u/project/cbearden/data/22q/qunex_studyfolder/sessions" \
#--scheduler_options="-l h_data=20G,h_rt=24:00:00" \
#--array="yes" \
#--sessions="Q_0001_09242012 Q_0001_10152010 Q_0005_04182011 Q_0007_04012011 Q_0009_09292011 Q_0016_03292011 Q_0016_10082012 Q_0019_05052011 Q_0020_03262012 Q_0020_05052011 Q_0021_01132011 Q_0021_11052012 Q_0024_04152011 Q_0024_09212012 Q_0026_03232012 Q_0026_05032013 Q_0033_03192010 Q_0036_03302010 Q_0036_06212012 Q_0036_06282011 Q_0037_04202011 Q_0038_06042010 Q_0039_04132010 Q_0039_06012011 Q_0040_05142010 Q_0040_06272011 Q_0041_09262012 Q_0045_07132010 Q_0045_08302011 Q_0045_10052012 Q_0051_01302012 Q_0052_07302010 Q_0053_08022010 Q_0053_12212012 Q_0054_08062010 Q_0056_08252010 Q_0056_09102012 Q_0059_08032011 Q_0062_11302011 Q_0076_10212010 Q_0077_02292012 Q_0077_03112013 Q_0077_10252010 Q_0078_11102011 Q_0080_11222010 Q_0081_11242010 Q_0082_01062012 Q_0082_01112013 Q_0082_12162010 Q_0085_02242012 Q_0091_03052012 Q_0091_03072011 Q_0092_03102011 Q_0093_03082011 Q_0093_03122012 Q_0093_03122013 Q_0098_04012011 Q_0099_04012011 Q_0100_04082011 Q_0101_01032013 Q_0101_04122011 Q_0102_01032013 Q_0102_04122011 Q_0103_04182011 Q_0103_08272012 Q_0105_05022011 Q_0109_05262011 Q_0112_11142012 Q_0114_02062014 Q_0114_11092012 Q_0117_07062011 Q_0117_08312012 Q_0118_07072011 Q_0124_07292011 Q_0124_09172012 Q_0126_08012011 Q_0127_03052013 Q_0127_08012014 Q_0127_08082011 Q_0130_08132012 Q_0130_08162011 Q_0130_11042014 Q_0132_08222011 Q_0135_09012011 Q_0136_09012011 Q_0137_09022011 Q_0138_09032013 Q_0138_09042012 Q_0138_09062011 Q_0141_10072013 Q_0141_10092012 Q_0146_11082012 Q_0146_12072011 Q_0147_08112015 Q_0147_08142014 Q_0147_12122011 Q_0149_11192012 Q_0149_12192011 Q_0150_11192012 Q_0150_12202011 Q_0151_01122012 Q_0153_01202012 Q_0156_01312012 Q_0156_12102013 Q_0157_01312012 Q_0159_02122013 Q_0161_03012012 Q_0161_04192013 Q_0162_03202012 Q_0163_03262012 Q_0166_01092014 Q_0166_04052012 Q_0168_04052012 Q_0169_04062012 Q_0170_04102012 Q_0170_11252014 Q_0171_04102012 Q_0171_11252014 Q_0172_04122012 Q_0172_04262013 Q_0173_04122012 Q_0173_04172014 Q_0173_04262013 Q_0174_04182012 Q_0174_04272015 Q_0176_04242012 Q_0176_05072013 Q_0177_05012012 Q_0178_05012012 Q_0182_05182012 Q_0184_05242012 Q_0185_05242012 Q_0186_04092015 Q_0188_05242012 Q_0189_05242012 Q_0190_06012012 Q_0190_08132013 Q_0192_06112013 Q_0196_06192015 Q_0196_06202012 Q_0196_09122013 Q_0200_04032015 Q_0200_07092012 Q_0200_08052013 Q_0213_08032012 Q_0215_08062012 Q_0215_08172015 Q_0216_08062012 Q_0216_08172015 Q_0217_01142014 Q_0217_02042015 Q_0217_08092012 Q_0219_08122014 Q_0219_08162012 Q_0219_09012015 Q_0222_08212012 Q_0223_08212012 Q_0227_10032012 Q_0228_01292014 Q_0228_09272012 Q_0229_10022012 Q_0232_12122012 Q_0234_03252014 Q_0234_12132012 Q_0236_03072013 Q_0238_03202013 Q_0238_08042014 Q_0238_11132015 Q_0240_03232015 Q_0240_03272013 Q_0240_06262014 Q_0242_03272013 Q_0242_05162016 Q_0244_09162013 Q_0244_09232014 Q_0246_09242013 Q_0252_12102013 Q_0255_10212014 Q_0260_06092014 Q_0260_10262015 Q_0266_08122014 Q_0268_10132014 Q_0269_10142014 Q_0277_12082014 Q_0284_03182015 Q_0285_03182015 Q_0286_03182015 Q_0287_03182015 Q_0291_04172015 Q_0307_10132015 Q_0310_11182015 Q_0311_12082015 Q_0315_01262016 Q_0321_03232016 Q_0322_03312016 Q_0326_04142016 Q_0327_04142016 Q_0328_04262016"
#
#
######################################################################
#### Seed-based BOLD functional connectivity
######################################################################
## https://bitbucket.org/oriadev/qunex/wiki/UsageDocs/BOLDFunctionalConnectivity.md
#
### update CSVs with all bolds and resting mapped to boldn
#/u/project/cbearden/data/22q/qunex_studyfolder/processing/scripts/table_from_session_files.py Q_0001_09242012 Q_0001_10152010 Q_0005_04182011 Q_0007_04012011 Q_0009_09292011 Q_0016_03292011 Q_0016_10082012 Q_0019_05052011 Q_0020_03262012 Q_0020_05052011 Q_0021_01132011 Q_0021_11052012 Q_0024_04152011 Q_0024_09212012 Q_0026_03232012 Q_0026_05032013 Q_0033_03192010 Q_0036_03302010 Q_0036_06212012 Q_0036_06282011 Q_0037_04202011 Q_0038_06042010 Q_0039_04132010 Q_0039_06012011 Q_0040_05142010 Q_0040_06272011 Q_0041_09262012 Q_0045_07132010 Q_0045_08302011 Q_0045_10052012 Q_0051_01302012 Q_0052_07302010 Q_0053_08022010 Q_0053_12212012 Q_0054_08062010 Q_0056_08252010 Q_0056_09102012 Q_0059_08032011 Q_0062_11302011 Q_0076_10212010 Q_0077_02292012 Q_0077_03112013 Q_0077_10252010 Q_0078_11102011 Q_0080_11222010 Q_0081_11242010 Q_0082_01062012 Q_0082_01112013 Q_0082_12162010 Q_0085_02242012 Q_0091_03052012 Q_0091_03072011 Q_0092_03102011 Q_0093_03082011 Q_0093_03122012 Q_0093_03122013 Q_0098_04012011 Q_0099_04012011 Q_0100_04082011 Q_0101_01032013 Q_0101_04122011 Q_0102_01032013 Q_0102_04122011 Q_0103_04182011 Q_0103_08272012 Q_0105_05022011 Q_0109_05262011 Q_0112_11142012 Q_0114_02062014 Q_0114_11092012 Q_0117_07062011 Q_0117_08312012 Q_0118_07072011 Q_0124_07292011 Q_0124_09172012 Q_0126_08012011 Q_0127_03052013 Q_0127_08012014 Q_0127_08082011 Q_0130_08132012 Q_0130_08162011 Q_0130_11042014 Q_0132_08222011 Q_0135_09012011 Q_0136_09012011 Q_0137_09022011 Q_0138_09032013 Q_0138_09042012 Q_0138_09062011 Q_0141_10072013 Q_0141_10092012 Q_0146_11082012 Q_0146_12072011 Q_0147_08112015 Q_0147_08142014 Q_0147_12122011 Q_0149_11192012 Q_0149_12192011 Q_0150_11192012 Q_0150_12202011 Q_0151_01122012 Q_0153_01202012 Q_0156_01312012 Q_0156_12102013 Q_0157_01312012 Q_0159_02122013 Q_0161_03012012 Q_0161_04192013 Q_0162_03202012 Q_0163_03262012 Q_0166_01092014 Q_0166_04052012 Q_0168_04052012 Q_0169_04062012 Q_0170_04102012 Q_0170_11252014 Q_0171_04102012 Q_0171_11252014 Q_0172_04122012 Q_0172_04262013 Q_0173_04122012 Q_0173_04172014 Q_0173_04262013 Q_0174_04182012 Q_0174_04272015 Q_0176_04242012 Q_0176_05072013 Q_0177_05012012 Q_0178_05012012 Q_0182_05182012 Q_0184_05242012 Q_0185_05242012 Q_0186_04092015 Q_0188_05242012 Q_0189_05242012 Q_0190_06012012 Q_0190_08132013 Q_0192_06112013 Q_0196_06192015 Q_0196_06202012 Q_0196_09122013 Q_0200_04032015 Q_0200_07092012 Q_0200_08052013 Q_0213_08032012 Q_0215_08062012 Q_0215_08172015 Q_0216_08062012 Q_0216_08172015 Q_0217_01142014 Q_0217_02042015 Q_0217_08092012 Q_0219_08122014 Q_0219_08162012 Q_0219_09012015 Q_0222_08212012 Q_0223_08212012 Q_0227_10032012 Q_0228_01292014 Q_0228_09272012 Q_0229_10022012 Q_0232_12122012 Q_0234_03252014 Q_0234_12132012 Q_0236_03072013 Q_0238_03202013 Q_0238_08042014 Q_0238_11132015 Q_0240_03232015 Q_0240_03272013 Q_0240_06262014 Q_0242_03272013 Q_0242_05162016 Q_0244_09162013 Q_0244_09232014 Q_0246_09242013 Q_0252_12102013 Q_0255_10212014 Q_0260_06092014 Q_0260_10262015 Q_0266_08122014 Q_0268_10132014 Q_0269_10142014 Q_0277_12082014 Q_0284_03182015 Q_0285_03182015 Q_0286_03182015 Q_0287_03182015 Q_0291_04172015 Q_0307_10132015 Q_0310_11182015 Q_0311_12082015 Q_0315_01262016 Q_0321_03232016 Q_0322_03312016 Q_0326_04142016 Q_0327_04142016 Q_0328_04262016 
## manually create 22qTrio_boldn_resting_use.csv
## remove Q_0269_10142014 bold1 -- too short
## remove Q_0200_08052013 bold 1 -- TO DO: check with Leila that is correct
#
### read 22qTrio_boldn_resting_use.csv and for each BOLD resting run, symlink boldn_* to REST_* in /images/functional/
## this allows qunex fc_compute_wrapper to use a single consistent --inputfiles when the desired run has variable bol
##/u/project/cbearden/data/22q/qunex_studyfolder/processing/scripts/symlink_bold_rest.py
## removed results of above script, fc_compute_wrapper was failing with symlink or hard link inputs, or even renamed bold inputs
## workaround: submit separate calls for bold1:bold4 (based on 22qTrio_boldn_resting_use.csv) all mapping to the same outname
#
### subcortical seeds -- bandpass, GSR
## sessions with bold1=resting
#cd /u/project/cbearden/data/22q/qunex_studyfolder/processing/logs/manual
#/u/project/cbearden/data/scripts/tools/qunex_bin/hoffman_submit_qunex.sh \
#--qunex_command="fc_compute_wrapper" \
#--qunex_options="--sessionsfolder=/u/project/cbearden/data/22q/qunex_studyfolder/sessions/ \
#--calculation=seed \
#--runtype=individual \
#--inputfiles=bold1_Atlas_s_hpss_res-mVWMWB1d_lpss.dtseries.nii \
#--inputpath=/images/functional/ \
#--overwrite=yes \
#--extractdata=no \
#--roinfo=/u/project/cbearden/data/22q/qunex_studyfolder/analysis/fcMRI/roi/seeds_cifti_10142021.names \
#--outname=resting_fc_seed_s_hpss_res-mVWMWB1d_lpss \
#--ignore=udvarsme \
#--method=mean \
#--mask=5" \
#--scheduler_options="-l h_data=20G,h_rt=2:00:00" \
#--array="yes" \
#--sessions="Q_0001_09242012 Q_0001_10152010 Q_0005_04182011 Q_0007_04012011 Q_0009_09292011 Q_0016_03292011 Q_0016_10082012 Q_0019_05052011 Q_0020_03262012 Q_0020_05052011 Q_0021_01132011 Q_0021_11052012 Q_0024_04152011 Q_0024_09212012 Q_0026_03232012 Q_0026_05032013 Q_0033_03192010 Q_0036_03302010 Q_0036_06212012 Q_0036_06282011 Q_0037_04202011 Q_0039_04132010 Q_0039_06012011 Q_0040_06272011 Q_0045_07132010 Q_0045_08302011 Q_0045_10052012 Q_0051_01302012 Q_0052_07302010 Q_0053_12212012 Q_0056_09102012 Q_0059_08032011 Q_0062_11302011 Q_0076_10212010 Q_0077_02292012 Q_0077_03112013 Q_0077_10252010 Q_0078_11102011 Q_0080_11222010 Q_0081_11242010 Q_0082_01062012 Q_0082_01112013 Q_0082_12162010 Q_0085_02242012 Q_0091_03052012 Q_0091_03072011 Q_0092_03102011 Q_0093_03082011 Q_0093_03122012 Q_0093_03122013 Q_0098_04012011 Q_0099_04012011 Q_0100_04082011 Q_0101_01032013 Q_0101_04122011 Q_0102_01032013 Q_0102_04122011 Q_0103_04182011 Q_0103_08272012 Q_0105_05022011 Q_0109_05262011 Q_0114_02062014 Q_0114_11092012 Q_0117_07062011 Q_0117_08312012 Q_0118_07072011 Q_0124_07292011 Q_0124_09172012 Q_0126_08012011 Q_0127_03052013 Q_0127_08012014 Q_0127_08082011 Q_0130_08132012 Q_0130_08162011 Q_0130_11042014 Q_0132_08222011 Q_0137_09022011 Q_0138_09032013 Q_0141_10092012 Q_0146_11082012 Q_0146_12072011 Q_0147_08112015 Q_0147_08142014 Q_0147_12122011 Q_0149_11192012 Q_0149_12192011 Q_0150_11192012 Q_0150_12202011 Q_0151_01122012 Q_0153_01202012 Q_0156_01312012 Q_0156_12102013 Q_0157_01312012 Q_0159_02122013 Q_0161_03012012 Q_0161_04192013 Q_0162_03202012 Q_0163_03262012 Q_0166_01092014 Q_0166_04052012 Q_0168_04052012 Q_0169_04062012 Q_0170_04102012 Q_0170_11252014 Q_0171_04102012 Q_0171_11252014 Q_0172_04122012 Q_0172_04262013 Q_0173_04122012 Q_0173_04172014 Q_0174_04182012 Q_0174_04272015 Q_0176_04242012 Q_0176_05072013 Q_0177_05012012 Q_0178_05012012 Q_0182_05182012 Q_0184_05242012 Q_0185_05242012 Q_0186_04092015 Q_0188_05242012 Q_0189_05242012 Q_0192_06112013 Q_0196_06192015 Q_0196_06202012 Q_0196_09122013 Q_0200_04032015 Q_0200_07092012 Q_0213_08032012 Q_0215_08062012 Q_0215_08172015 Q_0216_08062012 Q_0216_08172015 Q_0217_01142014 Q_0217_02042015 Q_0217_08092012 Q_0219_08122014 Q_0219_08162012 Q_0219_09012015 Q_0222_08212012 Q_0223_08212012 Q_0227_10032012 Q_0228_01292014 Q_0228_09272012 Q_0229_10022012 Q_0232_12122012 Q_0234_03252014 Q_0234_12132012 Q_0236_03072013 Q_0238_03202013 Q_0238_08042014 Q_0238_11132015 Q_0240_03232015 Q_0240_03272013 Q_0240_06262014 Q_0242_03272013 Q_0242_05162016 Q_0244_09162013 Q_0244_09232014 Q_0246_09242013 Q_0252_12102013 Q_0255_10212014 Q_0260_06092014 Q_0260_10262015 Q_0266_08122014 Q_0268_10132014 Q_0277_12082014 Q_0284_03182015 Q_0285_03182015 Q_0286_03182015 Q_0291_04172015 Q_0307_10132015 Q_0310_11182015 Q_0311_12082015 Q_0321_03232016 Q_0322_03312016 Q_0326_04142016 Q_0327_04142016 Q_0328_04262016"
#
### subcortical seeds -- bandpass, GSR
## sessions with bold2=resting
#cd /u/project/cbearden/data/22q/qunex_studyfolder/processing/logs/manual
#/u/project/cbearden/data/scripts/tools/qunex_bin/hoffman_submit_qunex.sh \
#--qunex_command="fc_compute_wrapper" \
#--qunex_options="--sessionsfolder=/u/project/cbearden/data/22q/qunex_studyfolder/sessions/ \
#--calculation=seed \
#--runtype=individual \
#--inputfiles=bold2_Atlas_s_hpss_res-mVWMWB1d_lpss.dtseries.nii \
#--inputpath=/images/functional/ \
#--overwrite=yes \
#--extractdata=no \
#--roinfo=/u/project/cbearden/data/22q/qunex_studyfolder/analysis/fcMRI/roi/seeds_cifti_10142021.names \
#--outname=resting_fc_seed_s_hpss_res-mVWMWB1d_lpss \
#--ignore=udvarsme \
#--method=mean \
#--mask=5" \
#--scheduler_options="-l h_data=20G,h_rt=2:00:00" \
#--array="yes" \
#--sessions="Q_0038_06042010 Q_0040_05142010 Q_0041_09262012 Q_0053_08022010 Q_0056_08252010 Q_0135_09012011 Q_0138_09042012 Q_0138_09062011 Q_0141_10072013 Q_0173_04262013 Q_0190_06012012 Q_0190_08132013 Q_0200_08052013 Q_0287_03182015 Q_0315_01262016"
#
### subcortical seeds -- bandpass, GSR
## sessions with bold3=resting
#cd /u/project/cbearden/data/22q/qunex_studyfolder/processing/logs/manual
#/u/project/cbearden/data/scripts/tools/qunex_bin/hoffman_submit_qunex.sh \
#--qunex_command="fc_compute_wrapper" \
#--qunex_options="--sessionsfolder=/u/project/cbearden/data/22q/qunex_studyfolder/sessions/ \
#--calculation=seed \
#--runtype=individual \
#--inputfiles=bold3_Atlas_s_hpss_res-mVWMWB1d_lpss.dtseries.nii \
#--inputpath=/images/functional/ \
#--overwrite=yes \
#--extractdata=no \
#--roinfo=/u/project/cbearden/data/22q/qunex_studyfolder/analysis/fcMRI/roi/seeds_cifti_10142021.names \
#--outname=resting_fc_seed_s_hpss_res-mVWMWB1d_lpss \
#--ignore=udvarsme \
#--method=mean \
#--mask=5" \
#--scheduler_options="-l h_data=20G,h_rt=2:00:00" \
#--array="yes" \
#--sessions="Q_0136_09012011 Q_0269_10142014"
#
### subcortical seeds -- bandpass, GSR
## sessions with bold4=resting
#cd /u/project/cbearden/data/22q/qunex_studyfolder/processing/logs/manual
#/u/project/cbearden/data/scripts/tools/qunex_bin/hoffman_submit_qunex.sh \
#--qunex_command="fc_compute_wrapper" \
#--qunex_options="--sessionsfolder=/u/project/cbearden/data/22q/qunex_studyfolder/sessions/ \
#--calculation=seed \
#--runtype=individual \
#--inputfiles=bold4_Atlas_s_hpss_res-mVWMWB1d_lpss.dtseries.nii \
#--inputpath=/images/functional/ \
#--overwrite=yes \
#--extractdata=no \
#--roinfo=/u/project/cbearden/data/22q/qunex_studyfolder/analysis/fcMRI/roi/seeds_cifti_10142021.names \
#--outname=resting_fc_seed_s_hpss_res-mVWMWB1d_lpss \
#--ignore=udvarsme \
#--method=mean \
#--mask=5" \
#--scheduler_options="-l h_data=20G,h_rt=2:00:00" \
#--array="yes" \
#--sessions="Q_0054_08062010 Q_0112_11142012"
#
### subcortical seeds -- bandpass, no GSR
## sessions with bold1=resting
#cd /u/project/cbearden/data/22q/qunex_studyfolder/processing/logs/manual
#/u/project/cbearden/data/scripts/tools/qunex_bin/hoffman_submit_qunex.sh \
#--qunex_command="fc_compute_wrapper" \
#--qunex_options="--sessionsfolder=/u/project/cbearden/data/22q/qunex_studyfolder/sessions/ \
#--calculation=seed \
#--runtype=individual \
#--inputfiles=bold1_Atlas_s_hpss_res-mVWM1d_lpss.dtseries.nii \
#--inputpath=/images/functional/ \
#--overwrite=yes \
#--extractdata=no \
#--roinfo=/u/project/cbearden/data/22q/qunex_studyfolder/analysis/fcMRI/roi/seeds_cifti_10142021.names \
#--outname=resting_fc_seed_s_hpss_res-mVWM1d_lpss \
#--ignore=udvarsme \
#--method=mean \
#--mask=5" \
#--scheduler_options="-l h_data=20G,h_rt=2:00:00" \
#--array="yes" \
#--sessions="Q_0001_09242012 Q_0001_10152010 Q_0005_04182011 Q_0007_04012011 Q_0009_09292011 Q_0016_03292011 Q_0016_10082012 Q_0019_05052011 Q_0020_03262012 Q_0020_05052011 Q_0021_01132011 Q_0021_11052012 Q_0024_04152011 Q_0024_09212012 Q_0026_03232012 Q_0026_05032013 Q_0033_03192010 Q_0036_03302010 Q_0036_06212012 Q_0036_06282011 Q_0037_04202011 Q_0039_04132010 Q_0039_06012011 Q_0040_06272011 Q_0045_07132010 Q_0045_08302011 Q_0045_10052012 Q_0051_01302012 Q_0052_07302010 Q_0053_12212012 Q_0056_09102012 Q_0059_08032011 Q_0062_11302011 Q_0076_10212010 Q_0077_02292012 Q_0077_03112013 Q_0077_10252010 Q_0078_11102011 Q_0080_11222010 Q_0081_11242010 Q_0082_01062012 Q_0082_01112013 Q_0082_12162010 Q_0085_02242012 Q_0091_03052012 Q_0091_03072011 Q_0092_03102011 Q_0093_03082011 Q_0093_03122012 Q_0093_03122013 Q_0098_04012011 Q_0099_04012011 Q_0100_04082011 Q_0101_01032013 Q_0101_04122011 Q_0102_01032013 Q_0102_04122011 Q_0103_04182011 Q_0103_08272012 Q_0105_05022011 Q_0109_05262011 Q_0114_02062014 Q_0114_11092012 Q_0117_07062011 Q_0117_08312012 Q_0118_07072011 Q_0124_07292011 Q_0124_09172012 Q_0126_08012011 Q_0127_03052013 Q_0127_08012014 Q_0127_08082011 Q_0130_08132012 Q_0130_08162011 Q_0130_11042014 Q_0132_08222011 Q_0137_09022011 Q_0138_09032013 Q_0141_10092012 Q_0146_11082012 Q_0146_12072011 Q_0147_08112015 Q_0147_08142014 Q_0147_12122011 Q_0149_11192012 Q_0149_12192011 Q_0150_11192012 Q_0150_12202011 Q_0151_01122012 Q_0153_01202012 Q_0156_01312012 Q_0156_12102013 Q_0157_01312012 Q_0159_02122013 Q_0161_03012012 Q_0161_04192013 Q_0162_03202012 Q_0163_03262012 Q_0166_01092014 Q_0166_04052012 Q_0168_04052012 Q_0169_04062012 Q_0170_04102012 Q_0170_11252014 Q_0171_04102012 Q_0171_11252014 Q_0172_04122012 Q_0172_04262013 Q_0173_04122012 Q_0173_04172014 Q_0174_04182012 Q_0174_04272015 Q_0176_04242012 Q_0176_05072013 Q_0177_05012012 Q_0178_05012012 Q_0182_05182012 Q_0184_05242012 Q_0185_05242012 Q_0186_04092015 Q_0188_05242012 Q_0189_05242012 Q_0192_06112013 Q_0196_06192015 Q_0196_06202012 Q_0196_09122013 Q_0200_04032015 Q_0200_07092012 Q_0213_08032012 Q_0215_08062012 Q_0215_08172015 Q_0216_08062012 Q_0216_08172015 Q_0217_01142014 Q_0217_02042015 Q_0217_08092012 Q_0219_08122014 Q_0219_08162012 Q_0219_09012015 Q_0222_08212012 Q_0223_08212012 Q_0227_10032012 Q_0228_01292014 Q_0228_09272012 Q_0229_10022012 Q_0232_12122012 Q_0234_03252014 Q_0234_12132012 Q_0236_03072013 Q_0238_03202013 Q_0238_08042014 Q_0238_11132015 Q_0240_03232015 Q_0240_03272013 Q_0240_06262014 Q_0242_03272013 Q_0242_05162016 Q_0244_09162013 Q_0244_09232014 Q_0246_09242013 Q_0252_12102013 Q_0255_10212014 Q_0260_06092014 Q_0260_10262015 Q_0266_08122014 Q_0268_10132014 Q_0277_12082014 Q_0284_03182015 Q_0285_03182015 Q_0286_03182015 Q_0291_04172015 Q_0307_10132015 Q_0310_11182015 Q_0311_12082015 Q_0321_03232016 Q_0322_03312016 Q_0326_04142016 Q_0327_04142016 Q_0328_04262016"
#
### subcortical seeds -- bandpass, no GSR
## sessions with bold2=resting
#cd /u/project/cbearden/data/22q/qunex_studyfolder/processing/logs/manual
#/u/project/cbearden/data/scripts/tools/qunex_bin/hoffman_submit_qunex.sh \
#--qunex_command="fc_compute_wrapper" \
#--qunex_options="--sessionsfolder=/u/project/cbearden/data/22q/qunex_studyfolder/sessions/ \
#--calculation=seed \
#--runtype=individual \
#--inputfiles=bold2_Atlas_s_hpss_res-mVWM1d_lpss.dtseries.nii \
#--inputpath=/images/functional/ \
#--overwrite=yes \
#--extractdata=no \
#--roinfo=/u/project/cbearden/data/22q/qunex_studyfolder/analysis/fcMRI/roi/seeds_cifti_10142021.names \
#--outname=resting_fc_seed_s_hpss_res-mVWM1d_lpss \
#--ignore=udvarsme \
#--method=mean \
#--mask=5" \
#--scheduler_options="-l h_data=20G,h_rt=2:00:00" \
#--array="yes" \
#--sessions="Q_0038_06042010 Q_0040_05142010 Q_0041_09262012 Q_0053_08022010 Q_0056_08252010 Q_0135_09012011 Q_0138_09042012 Q_0138_09062011 Q_0141_10072013 Q_0173_04262013 Q_0190_06012012 Q_0190_08132013 Q_0200_08052013 Q_0287_03182015 Q_0315_01262016"
#
### subcortical seeds -- bandpass, no GSR
## sessions with bold3=resting
#cd /u/project/cbearden/data/22q/qunex_studyfolder/processing/logs/manual
#/u/project/cbearden/data/scripts/tools/qunex_bin/hoffman_submit_qunex.sh \
#--qunex_command="fc_compute_wrapper" \
#--qunex_options="--sessionsfolder=/u/project/cbearden/data/22q/qunex_studyfolder/sessions/ \
#--calculation=seed \
#--runtype=individual \
#--inputfiles=bold3_Atlas_s_hpss_res-mVWM1d_lpss.dtseries.nii \
#--inputpath=/images/functional/ \
#--overwrite=yes \
#--extractdata=no \
#--roinfo=/u/project/cbearden/data/22q/qunex_studyfolder/analysis/fcMRI/roi/seeds_cifti_10142021.names \
#--outname=resting_fc_seed_s_hpss_res-mVWM1d_lpss \
#--ignore=udvarsme \
#--method=mean \
#--mask=5" \
#--scheduler_options="-l h_data=20G,h_rt=2:00:00" \
#--array="yes" \
#--sessions="Q_0136_09012011 Q_0269_10142014"
#
### subcortical seeds -- bandpass, no GSR
## sessions with bold4=resting
#cd /u/project/cbearden/data/22q/qunex_studyfolder/processing/logs/manual
#/u/project/cbearden/data/scripts/tools/qunex_bin/hoffman_submit_qunex.sh \
#--qunex_command="fc_compute_wrapper" \
#--qunex_options="--sessionsfolder=/u/project/cbearden/data/22q/qunex_studyfolder/sessions/ \
#--calculation=seed \
#--runtype=individual \
#--inputfiles=bold4_Atlas_s_hpss_res-mVWM1d_lpss.dtseries.nii \
#--inputpath=/images/functional/ \
#--overwrite=yes \
#--extractdata=no \
#--roinfo=/u/project/cbearden/data/22q/qunex_studyfolder/analysis/fcMRI/roi/seeds_cifti_10142021.names \
#--outname=resting_fc_seed_s_hpss_res-mVWM1d_lpss \
#--ignore=udvarsme \
#--method=mean \
#--mask=5" \
#--scheduler_options="-l h_data=20G,h_rt=2:00:00" \
#--array="yes" \
#--sessions="Q_0054_08062010 Q_0112_11142012"
#
#
######################################################################
#### Global BOLD functional connectivity
######################################################################
#
### Global Brain Connectivity
## GSR, bandpass
## sessions with bold1=resting
#cd /u/project/cbearden/data/22q/qunex_studyfolder/processing/logs/manual
#/u/project/cbearden/data/scripts/tools/qunex_bin/hoffman_submit_qunex.sh \
#--qunex_command="fc_compute_wrapper" \
#--qunex_options="--sessionsfolder=/u/project/cbearden/data/22q/qunex_studyfolder/sessions/ \
#--calculation=gbc \
#--command=mFz:0 \
#--runtype=individual \
#--inputfiles=bold1_Atlas_s_hpss_res-mVWMWB1d_lpss.dtseries.nii \
#--inputpath=/images/functional/ \
#--overwrite=no \
#--extractdata=no \
#--outname=resting_fc_gbc_s_hpss_res-mVWMWB1d_lpss \
#--ignore=udvarsme \
#--method=mean \
#--mask=5" \
#--scheduler_options="-l h_data=20G,h_rt=10:00:00" \
#--array="yes" \
#--sessions="Q_0001_09242012 Q_0001_10152010 Q_0005_04182011 Q_0007_04012011 Q_0009_09292011 Q_0016_03292011 Q_0016_10082012 Q_0019_05052011 Q_0020_03262012 Q_0020_05052011 Q_0021_01132011 Q_0021_11052012 Q_0024_04152011 Q_0024_09212012 Q_0026_03232012 Q_0026_05032013 Q_0033_03192010 Q_0036_03302010 Q_0036_06212012 Q_0036_06282011 Q_0037_04202011 Q_0039_04132010 Q_0039_06012011 Q_0040_06272011 Q_0045_07132010 Q_0045_08302011 Q_0045_10052012 Q_0051_01302012 Q_0052_07302010 Q_0053_12212012 Q_0056_09102012 Q_0059_08032011 Q_0062_11302011 Q_0076_10212010 Q_0077_02292012 Q_0077_03112013 Q_0077_10252010 Q_0078_11102011 Q_0080_11222010 Q_0081_11242010 Q_0082_01062012 Q_0082_01112013 Q_0082_12162010 Q_0085_02242012 Q_0091_03052012 Q_0091_03072011 Q_0092_03102011 Q_0093_03082011 Q_0093_03122012 Q_0093_03122013 Q_0098_04012011 Q_0099_04012011 Q_0100_04082011 Q_0101_01032013 Q_0101_04122011 Q_0102_01032013 Q_0102_04122011 Q_0103_04182011 Q_0103_08272012 Q_0105_05022011 Q_0109_05262011 Q_0114_02062014 Q_0114_11092012 Q_0117_07062011 Q_0117_08312012 Q_0118_07072011 Q_0124_07292011 Q_0124_09172012 Q_0126_08012011 Q_0127_03052013 Q_0127_08012014 Q_0127_08082011 Q_0130_08132012 Q_0130_08162011 Q_0130_11042014 Q_0132_08222011 Q_0137_09022011 Q_0138_09032013 Q_0141_10092012 Q_0146_11082012 Q_0146_12072011 Q_0147_08112015 Q_0147_08142014 Q_0147_12122011 Q_0149_11192012 Q_0149_12192011 Q_0150_11192012 Q_0150_12202011 Q_0151_01122012 Q_0153_01202012 Q_0156_01312012 Q_0156_12102013 Q_0157_01312012 Q_0159_02122013 Q_0161_03012012 Q_0161_04192013 Q_0162_03202012 Q_0163_03262012 Q_0166_01092014 Q_0166_04052012 Q_0168_04052012 Q_0169_04062012 Q_0170_04102012 Q_0170_11252014 Q_0171_04102012 Q_0171_11252014 Q_0172_04122012 Q_0172_04262013 Q_0173_04122012 Q_0173_04172014 Q_0174_04182012 Q_0174_04272015 Q_0176_04242012 Q_0176_05072013 Q_0177_05012012 Q_0178_05012012 Q_0182_05182012 Q_0184_05242012 Q_0185_05242012 Q_0186_04092015 Q_0188_05242012 Q_0189_05242012 Q_0192_06112013 Q_0196_06192015 Q_0196_06202012 Q_0196_09122013 Q_0200_04032015 Q_0200_07092012 Q_0213_08032012 Q_0215_08062012 Q_0215_08172015 Q_0216_08062012 Q_0216_08172015 Q_0217_01142014 Q_0217_02042015 Q_0217_08092012 Q_0219_08122014 Q_0219_08162012 Q_0219_09012015 Q_0222_08212012 Q_0223_08212012 Q_0227_10032012 Q_0228_01292014 Q_0228_09272012 Q_0229_10022012 Q_0232_12122012 Q_0234_03252014 Q_0234_12132012 Q_0236_03072013 Q_0238_03202013 Q_0238_08042014 Q_0238_11132015 Q_0240_03232015 Q_0240_03272013 Q_0240_06262014 Q_0242_03272013 Q_0242_05162016 Q_0244_09162013 Q_0244_09232014 Q_0246_09242013 Q_0252_12102013 Q_0255_10212014 Q_0260_06092014 Q_0260_10262015 Q_0266_08122014 Q_0268_10132014 Q_0277_12082014 Q_0284_03182015 Q_0285_03182015 Q_0286_03182015 Q_0291_04172015 Q_0307_10132015 Q_0310_11182015 Q_0311_12082015 Q_0321_03232016 Q_0322_03312016 Q_0326_04142016 Q_0327_04142016 Q_0328_04262016"
#
## GSR, bandpass
## sessions with bold2=resting
#cd /u/project/cbearden/data/22q/qunex_studyfolder/processing/logs/manual
#/u/project/cbearden/data/scripts/tools/qunex_bin/hoffman_submit_qunex.sh \
#--qunex_command="fc_compute_wrapper" \
#--qunex_options="--sessionsfolder=/u/project/cbearden/data/22q/qunex_studyfolder/sessions/ \
#--calculation=gbc \
#--command=mFz:0 \
#--runtype=individual \
#--inputfiles=bold2_Atlas_s_hpss_res-mVWMWB1d_lpss.dtseries.nii \
#--inputpath=/images/functional/ \
#--overwrite=yes \
#--extractdata=no \
#--outname=resting_fc_gbc_s_hpss_res-mVWMWB1d_lpss \
#--ignore=udvarsme \
#--method=mean \
#--mask=5" \
#--scheduler_options="-l h_data=20G,h_rt=10:00:00" \
#--array="yes" \
#--sessions="Q_0038_06042010 Q_0040_05142010 Q_0041_09262012 Q_0053_08022010 Q_0056_08252010 Q_0135_09012011 Q_0138_09042012 Q_0138_09062011 Q_0141_10072013 Q_0173_04262013 Q_0190_06012012 Q_0190_08132013 Q_0200_08052013 Q_0287_03182015 Q_0315_01262016"
#
#
## GSR, bandpass
## sessions with bold3=resting
#cd /u/project/cbearden/data/22q/qunex_studyfolder/processing/logs/manual
#/u/project/cbearden/data/scripts/tools/qunex_bin/hoffman_submit_qunex.sh \
#--qunex_command="fc_compute_wrapper" \
#--qunex_options="--sessionsfolder=/u/project/cbearden/data/22q/qunex_studyfolder/sessions/ \
#--calculation=gbc \
#--command=mFz:0 \
#--runtype=individual \
#--inputfiles=bold3_Atlas_s_hpss_res-mVWMWB1d_lpss.dtseries.nii \
#--inputpath=/images/functional/ \
#--overwrite=yes \
#--extractdata=no \
#--outname=resting_fc_gbc_s_hpss_res-mVWMWB1d_lpss \
#--ignore=udvarsme \
#--method=mean \
#--mask=5" \
#--scheduler_options="-l h_data=20G,h_rt=10:00:00" \
#--array="yes" \
#--sessions="Q_0136_09012011 Q_0269_10142014"
#
## GSR, bandpass
## sessions with bold4=resting
#cd /u/project/cbearden/data/22q/qunex_studyfolder/processing/logs/manual
#/u/project/cbearden/data/scripts/tools/qunex_bin/hoffman_submit_qunex.sh \
#--qunex_command="fc_compute_wrapper" \
#--qunex_options="--sessionsfolder=/u/project/cbearden/data/22q/qunex_studyfolder/sessions/ \
#--calculation=gbc \
#--command=mFz:0 \
#--runtype=individual \
#--inputfiles=bold4_Atlas_s_hpss_res-mVWMWB1d_lpss.dtseries.nii \
#--inputpath=/images/functional/ \
#--overwrite=yes \
#--extractdata=no \
#--outname=resting_fc_gbc_s_hpss_res-mVWMWB1d_lpss \
#--ignore=udvarsme \
#--method=mean \
#--mask=5" \
#--scheduler_options="-l h_data=20G,h_rt=10:00:00" \
#--array="yes" \
#--sessions="Q_0054_08062010 Q_0112_11142012"


### move images directory to images_udvarsme_before_after so that images can be regenerated with only movement scrubbing of udvarsme (no frames before and after)
for i in /u/project/cbearden/data/22q/qunex_studyfolder/sessions/Q_*; do mv -v ${i}/images ${i}/images_udvarsme_before_after;done

## edited param file to have no movement scrubbing before and after (just udvarsme frames)
/u/project/cbearden/data/22q/qunex_studyfolder/processing/22qTrio_batch_cleaned_n198_mov_before_after_0.txt

## re-run post-processing steps with new param file
## map hcp data
# NOTE: was failing when not running on highp, need to email IDRE (3/10/22) to figure out why
# issue was with old AMD nodes, need to specify -l arch=intel*
/u/project/cbearden/data/scripts/tools/qunex_bin/hoffman_submit_qunex.sh \
--qunex_command="map_hcp_data" \
--qunex_options=" --overwrite=yes --bolds=resting --sessions=/u/project/cbearden/data/22q/qunex_studyfolder/processing/22qTrio_batch_cleaned_n198_mov_before_after_0.txt --sessionsfolder=/u/project/cbearden/data/22q/qunex_studyfolder/sessions" \
--scheduler_options="-l h_data=20G,h_rt=4:00:00,arch=intel*" \
--array="yes" \
--logdir="/u/project/cbearden/data/22q/qunex_studyfolder/processing/logs/manual" \
--sessions="Q_0001_09242012 Q_0001_10152010 Q_0005_04182011 Q_0007_04012011 Q_0009_09292011 Q_0016_03292011 Q_0016_10082012 Q_0019_05052011 Q_0020_03262012 Q_0020_05052011 Q_0021_01132011 Q_0021_11052012 Q_0024_04152011 Q_0024_09212012 Q_0026_03232012 Q_0026_05032013 Q_0033_03192010 Q_0036_03302010 Q_0036_06212012 Q_0036_06282011 Q_0037_04202011 Q_0038_06042010 Q_0039_04132010 Q_0039_06012011 Q_0040_05142010 Q_0040_06272011 Q_0041_09262012 Q_0045_07132010 Q_0045_08302011 Q_0045_10052012 Q_0051_01302012 Q_0052_07302010 Q_0053_08022010 Q_0053_12212012 Q_0054_08062010 Q_0056_08252010 Q_0056_09102012 Q_0059_08032011 Q_0062_11302011 Q_0076_10212010 Q_0077_02292012 Q_0077_03112013 Q_0077_10252010 Q_0078_11102011 Q_0080_11222010 Q_0081_11242010 Q_0082_01062012 Q_0082_01112013 Q_0082_12162010 Q_0085_02242012 Q_0091_03052012 Q_0091_03072011 Q_0092_03102011 Q_0093_03082011 Q_0093_03122012 Q_0093_03122013 Q_0098_04012011 Q_0099_04012011 Q_0100_04082011 Q_0101_01032013 Q_0101_04122011 Q_0102_01032013 Q_0102_04122011 Q_0103_04182011 Q_0103_08272012 Q_0105_05022011 Q_0109_05262011 Q_0112_11142012 Q_0114_02062014 Q_0114_11092012 Q_0117_07062011 Q_0117_08312012 Q_0118_07072011 Q_0124_07292011 Q_0124_09172012 Q_0126_08012011 Q_0127_03052013 Q_0127_08012014 Q_0127_08082011 Q_0130_08132012 Q_0130_08162011 Q_0130_11042014 Q_0132_08222011 Q_0135_09012011 Q_0136_09012011 Q_0137_09022011 Q_0138_09032013 Q_0138_09042012 Q_0138_09062011 Q_0141_10072013 Q_0141_10092012 Q_0146_11082012 Q_0146_12072011 Q_0147_08112015 Q_0147_08142014 Q_0147_12122011 Q_0149_11192012 Q_0149_12192011 Q_0150_11192012 Q_0150_12202011 Q_0151_01122012 Q_0153_01202012 Q_0156_01312012 Q_0156_12102013 Q_0157_01312012 Q_0159_02122013 Q_0161_03012012 Q_0161_04192013 Q_0162_03202012 Q_0163_03262012 Q_0166_01092014 Q_0166_04052012 Q_0168_04052012 Q_0169_04062012 Q_0170_04102012 Q_0170_11252014 Q_0171_04102012 Q_0171_11252014 Q_0172_04122012 Q_0172_04262013 Q_0173_04122012 Q_0173_04172014 Q_0173_04262013 Q_0174_04182012 Q_0174_04272015 Q_0176_04242012 Q_0176_05072013 Q_0177_05012012 Q_0178_05012012 Q_0182_05182012 Q_0184_05242012 Q_0185_05242012 Q_0186_04092015 Q_0188_05242012 Q_0189_05242012 Q_0190_06012012 Q_0190_08132013 Q_0192_06112013 Q_0196_06192015 Q_0196_06202012 Q_0196_09122013 Q_0200_04032015 Q_0200_07092012 Q_0200_08052013 Q_0213_08032012 Q_0215_08062012 Q_0215_08172015 Q_0216_08062012 Q_0216_08172015 Q_0217_01142014 Q_0217_02042015 Q_0217_08092012 Q_0219_08122014 Q_0219_08162012 Q_0219_09012015 Q_0222_08212012 Q_0223_08212012 Q_0227_10032012 Q_0228_01292014 Q_0228_09272012 Q_0229_10022012 Q_0232_12122012 Q_0234_03252014 Q_0234_12132012 Q_0236_03072013 Q_0238_03202013 Q_0238_08042014 Q_0238_11132015 Q_0240_03232015 Q_0240_03272013 Q_0240_06262014 Q_0242_03272013 Q_0242_05162016 Q_0244_09162013 Q_0244_09232014 Q_0246_09242013 Q_0252_12102013 Q_0255_10212014 Q_0260_06092014 Q_0260_10262015 Q_0266_08122014 Q_0268_10132014 Q_0269_10142014 Q_0277_12082014 Q_0284_03182015 Q_0285_03182015 Q_0286_03182015 Q_0287_03182015 Q_0291_04172015 Q_0307_10132015 Q_0310_11182015 Q_0311_12082015 Q_0315_01262016 Q_0321_03232016 Q_0322_03312016 Q_0326_04142016 Q_0327_04142016 Q_0328_04262016"

## brain masks
/u/project/cbearden/data/scripts/tools/qunex_bin/hoffman_submit_qunex.sh \
--qunex_command="create_bold_brain_masks" \
--qunex_options="--overwrite=yes --sessions=/u/project/cbearden/data/22q/qunex_studyfolder/processing/22qTrio_batch_cleaned_n198_mov_before_after_0.txt --sessionsfolder=/u/project/cbearden/data/22q/qunex_studyfolder/sessions" \
--scheduler_options="-l h_data=20G,h_rt=4:00:00,arch=intel*" \
--array="yes" \
--logdir="/u/project/cbearden/data/22q/qunex_studyfolder/processing/logs/manual" \
--sessions="Q_0001_09242012 Q_0001_10152010 Q_0005_04182011 Q_0007_04012011 Q_0009_09292011 Q_0016_03292011 Q_0016_10082012 Q_0019_05052011 Q_0020_03262012 Q_0020_05052011 Q_0021_01132011 Q_0021_11052012 Q_0024_04152011 Q_0024_09212012 Q_0026_03232012 Q_0026_05032013 Q_0033_03192010 Q_0036_03302010 Q_0036_06212012 Q_0036_06282011 Q_0037_04202011 Q_0038_06042010 Q_0039_04132010 Q_0039_06012011 Q_0040_05142010 Q_0040_06272011 Q_0041_09262012 Q_0045_07132010 Q_0045_08302011 Q_0045_10052012 Q_0051_01302012 Q_0052_07302010 Q_0053_08022010 Q_0053_12212012 Q_0054_08062010 Q_0056_08252010 Q_0056_09102012 Q_0059_08032011 Q_0062_11302011 Q_0076_10212010 Q_0077_02292012 Q_0077_03112013 Q_0077_10252010 Q_0078_11102011 Q_0080_11222010 Q_0081_11242010 Q_0082_01062012 Q_0082_01112013 Q_0082_12162010 Q_0085_02242012 Q_0091_03052012 Q_0091_03072011 Q_0092_03102011 Q_0093_03082011 Q_0093_03122012 Q_0093_03122013 Q_0098_04012011 Q_0099_04012011 Q_0100_04082011 Q_0101_01032013 Q_0101_04122011 Q_0102_01032013 Q_0102_04122011 Q_0103_04182011 Q_0103_08272012 Q_0105_05022011 Q_0109_05262011 Q_0112_11142012 Q_0114_02062014 Q_0114_11092012 Q_0117_07062011 Q_0117_08312012 Q_0118_07072011 Q_0124_07292011 Q_0124_09172012 Q_0126_08012011 Q_0127_03052013 Q_0127_08012014 Q_0127_08082011 Q_0130_08132012 Q_0130_08162011 Q_0130_11042014 Q_0132_08222011 Q_0135_09012011 Q_0136_09012011 Q_0137_09022011 Q_0138_09032013 Q_0138_09042012 Q_0138_09062011 Q_0141_10072013 Q_0141_10092012 Q_0146_11082012 Q_0146_12072011 Q_0147_08112015 Q_0147_08142014 Q_0147_12122011 Q_0149_11192012 Q_0149_12192011 Q_0150_11192012 Q_0150_12202011 Q_0151_01122012 Q_0153_01202012 Q_0156_01312012 Q_0156_12102013 Q_0157_01312012 Q_0159_02122013 Q_0161_03012012 Q_0161_04192013 Q_0162_03202012 Q_0163_03262012 Q_0166_01092014 Q_0166_04052012 Q_0168_04052012 Q_0169_04062012 Q_0170_04102012 Q_0170_11252014 Q_0171_04102012 Q_0171_11252014 Q_0172_04122012 Q_0172_04262013 Q_0173_04122012 Q_0173_04172014 Q_0173_04262013 Q_0174_04182012 Q_0174_04272015 Q_0176_04242012 Q_0176_05072013 Q_0177_05012012 Q_0178_05012012 Q_0182_05182012 Q_0184_05242012 Q_0185_05242012 Q_0186_04092015 Q_0188_05242012 Q_0189_05242012 Q_0190_06012012 Q_0190_08132013 Q_0192_06112013 Q_0196_06192015 Q_0196_06202012 Q_0196_09122013 Q_0200_04032015 Q_0200_07092012 Q_0200_08052013 Q_0213_08032012 Q_0215_08062012 Q_0215_08172015 Q_0216_08062012 Q_0216_08172015 Q_0217_01142014 Q_0217_02042015 Q_0217_08092012 Q_0219_08122014 Q_0219_08162012 Q_0219_09012015 Q_0222_08212012 Q_0223_08212012 Q_0227_10032012 Q_0228_01292014 Q_0228_09272012 Q_0229_10022012 Q_0232_12122012 Q_0234_03252014 Q_0234_12132012 Q_0236_03072013 Q_0238_03202013 Q_0238_08042014 Q_0238_11132015 Q_0240_03232015 Q_0240_03272013 Q_0240_06262014 Q_0242_03272013 Q_0242_05162016 Q_0244_09162013 Q_0244_09232014 Q_0246_09242013 Q_0252_12102013 Q_0255_10212014 Q_0260_06092014 Q_0260_10262015 Q_0266_08122014 Q_0268_10132014 Q_0269_10142014 Q_0277_12082014 Q_0284_03182015 Q_0285_03182015 Q_0286_03182015 Q_0287_03182015 Q_0291_04172015 Q_0307_10132015 Q_0310_11182015 Q_0311_12082015 Q_0315_01262016 Q_0321_03232016 Q_0322_03312016 Q_0326_04142016 Q_0327_04142016 Q_0328_04262016"

## bold stats
/u/project/cbearden/data/scripts/tools/qunex_bin/hoffman_submit_qunex.sh \
--qunex_command="compute_bold_stats" \
--qunex_options="--overwrite=yes --bolds=resting --sessions=/u/project/cbearden/data/22q/qunex_studyfolder/processing/22qTrio_batch_cleaned_n198_mov_before_after_0.txt --sessionsfolder=/u/project/cbearden/data/22q/qunex_studyfolder/sessions" \
--scheduler_options="-l h_data=20G,h_rt=4:00:00,arch=intel*" \
--array="yes" \
--logdir="/u/project/cbearden/data/22q/qunex_studyfolder/processing/logs/manual" \
--sessions="Q_0001_09242012 Q_0001_10152010 Q_0005_04182011 Q_0007_04012011 Q_0009_09292011 Q_0016_03292011 Q_0016_10082012 Q_0019_05052011 Q_0020_03262012 Q_0020_05052011 Q_0021_01132011 Q_0021_11052012 Q_0024_04152011 Q_0024_09212012 Q_0026_03232012 Q_0026_05032013 Q_0033_03192010 Q_0036_03302010 Q_0036_06212012 Q_0036_06282011 Q_0037_04202011 Q_0038_06042010 Q_0039_04132010 Q_0039_06012011 Q_0040_05142010 Q_0040_06272011 Q_0041_09262012 Q_0045_07132010 Q_0045_08302011 Q_0045_10052012 Q_0051_01302012 Q_0052_07302010 Q_0053_08022010 Q_0053_12212012 Q_0054_08062010 Q_0056_08252010 Q_0056_09102012 Q_0059_08032011 Q_0062_11302011 Q_0076_10212010 Q_0077_02292012 Q_0077_03112013 Q_0077_10252010 Q_0078_11102011 Q_0080_11222010 Q_0081_11242010 Q_0082_01062012 Q_0082_01112013 Q_0082_12162010 Q_0085_02242012 Q_0091_03052012 Q_0091_03072011 Q_0092_03102011 Q_0093_03082011 Q_0093_03122012 Q_0093_03122013 Q_0098_04012011 Q_0099_04012011 Q_0100_04082011 Q_0101_01032013 Q_0101_04122011 Q_0102_01032013 Q_0102_04122011 Q_0103_04182011 Q_0103_08272012 Q_0105_05022011 Q_0109_05262011 Q_0112_11142012 Q_0114_02062014 Q_0114_11092012 Q_0117_07062011 Q_0117_08312012 Q_0118_07072011 Q_0124_07292011 Q_0124_09172012 Q_0126_08012011 Q_0127_03052013 Q_0127_08012014 Q_0127_08082011 Q_0130_08132012 Q_0130_08162011 Q_0130_11042014 Q_0132_08222011 Q_0135_09012011 Q_0136_09012011 Q_0137_09022011 Q_0138_09032013 Q_0138_09042012 Q_0138_09062011 Q_0141_10072013 Q_0141_10092012 Q_0146_11082012 Q_0146_12072011 Q_0147_08112015 Q_0147_08142014 Q_0147_12122011 Q_0149_11192012 Q_0149_12192011 Q_0150_11192012 Q_0150_12202011 Q_0151_01122012 Q_0153_01202012 Q_0156_01312012 Q_0156_12102013 Q_0157_01312012 Q_0159_02122013 Q_0161_03012012 Q_0161_04192013 Q_0162_03202012 Q_0163_03262012 Q_0166_01092014 Q_0166_04052012 Q_0168_04052012 Q_0169_04062012 Q_0170_04102012 Q_0170_11252014 Q_0171_04102012 Q_0171_11252014 Q_0172_04122012 Q_0172_04262013 Q_0173_04122012 Q_0173_04172014 Q_0173_04262013 Q_0174_04182012 Q_0174_04272015 Q_0176_04242012 Q_0176_05072013 Q_0177_05012012 Q_0178_05012012 Q_0182_05182012 Q_0184_05242012 Q_0185_05242012 Q_0186_04092015 Q_0188_05242012 Q_0189_05242012 Q_0190_06012012 Q_0190_08132013 Q_0192_06112013 Q_0196_06192015 Q_0196_06202012 Q_0196_09122013 Q_0200_04032015 Q_0200_07092012 Q_0200_08052013 Q_0213_08032012 Q_0215_08062012 Q_0215_08172015 Q_0216_08062012 Q_0216_08172015 Q_0217_01142014 Q_0217_02042015 Q_0217_08092012 Q_0219_08122014 Q_0219_08162012 Q_0219_09012015 Q_0222_08212012 Q_0223_08212012 Q_0227_10032012 Q_0228_01292014 Q_0228_09272012 Q_0229_10022012 Q_0232_12122012 Q_0234_03252014 Q_0234_12132012 Q_0236_03072013 Q_0238_03202013 Q_0238_08042014 Q_0238_11132015 Q_0240_03232015 Q_0240_03272013 Q_0240_06262014 Q_0242_03272013 Q_0242_05162016 Q_0244_09162013 Q_0244_09232014 Q_0246_09242013 Q_0252_12102013 Q_0255_10212014 Q_0260_06092014 Q_0260_10262015 Q_0266_08122014 Q_0268_10132014 Q_0269_10142014 Q_0277_12082014 Q_0284_03182015 Q_0285_03182015 Q_0286_03182015 Q_0287_03182015 Q_0291_04172015 Q_0307_10132015 Q_0310_11182015 Q_0311_12082015 Q_0315_01262016 Q_0321_03232016 Q_0322_03312016 Q_0326_04142016 Q_0327_04142016 Q_0328_04262016"
   
## create stats report
/u/project/cbearden/data/scripts/tools/qunex_bin/hoffman_submit_qunex.sh \
--qunex_command="create_stats_report" \
--qunex_options="--overwrite=yes --bolds=resting --sessions=/u/project/cbearden/data/22q/qunex_studyfolder/processing/22qTrio_batch_cleaned_n198_mov_before_after_0.txt --sessionsfolder=/u/project/cbearden/data/22q/qunex_studyfolder/sessions" \
--scheduler_options="-l h_data=20G,h_rt=4:00:00,arch=intel*" \
--array="yes" \
--logdir="/u/project/cbearden/data/22q/qunex_studyfolder/processing/logs/manual" \
--sessions="Q_0001_09242012 Q_0001_10152010 Q_0005_04182011 Q_0007_04012011 Q_0009_09292011 Q_0016_03292011 Q_0016_10082012 Q_0019_05052011 Q_0020_03262012 Q_0020_05052011 Q_0021_01132011 Q_0021_11052012 Q_0024_04152011 Q_0024_09212012 Q_0026_03232012 Q_0026_05032013 Q_0033_03192010 Q_0036_03302010 Q_0036_06212012 Q_0036_06282011 Q_0037_04202011 Q_0038_06042010 Q_0039_04132010 Q_0039_06012011 Q_0040_05142010 Q_0040_06272011 Q_0041_09262012 Q_0045_07132010 Q_0045_08302011 Q_0045_10052012 Q_0051_01302012 Q_0052_07302010 Q_0053_08022010 Q_0053_12212012 Q_0054_08062010 Q_0056_08252010 Q_0056_09102012 Q_0059_08032011 Q_0062_11302011 Q_0076_10212010 Q_0077_02292012 Q_0077_03112013 Q_0077_10252010 Q_0078_11102011 Q_0080_11222010 Q_0081_11242010 Q_0082_01062012 Q_0082_01112013 Q_0082_12162010 Q_0085_02242012 Q_0091_03052012 Q_0091_03072011 Q_0092_03102011 Q_0093_03082011 Q_0093_03122012 Q_0093_03122013 Q_0098_04012011 Q_0099_04012011 Q_0100_04082011 Q_0101_01032013 Q_0101_04122011 Q_0102_01032013 Q_0102_04122011 Q_0103_04182011 Q_0103_08272012 Q_0105_05022011 Q_0109_05262011 Q_0112_11142012 Q_0114_02062014 Q_0114_11092012 Q_0117_07062011 Q_0117_08312012 Q_0118_07072011 Q_0124_07292011 Q_0124_09172012 Q_0126_08012011 Q_0127_03052013 Q_0127_08012014 Q_0127_08082011 Q_0130_08132012 Q_0130_08162011 Q_0130_11042014 Q_0132_08222011 Q_0135_09012011 Q_0136_09012011 Q_0137_09022011 Q_0138_09032013 Q_0138_09042012 Q_0138_09062011 Q_0141_10072013 Q_0141_10092012 Q_0146_11082012 Q_0146_12072011 Q_0147_08112015 Q_0147_08142014 Q_0147_12122011 Q_0149_11192012 Q_0149_12192011 Q_0150_11192012 Q_0150_12202011 Q_0151_01122012 Q_0153_01202012 Q_0156_01312012 Q_0156_12102013 Q_0157_01312012 Q_0159_02122013 Q_0161_03012012 Q_0161_04192013 Q_0162_03202012 Q_0163_03262012 Q_0166_01092014 Q_0166_04052012 Q_0168_04052012 Q_0169_04062012 Q_0170_04102012 Q_0170_11252014 Q_0171_04102012 Q_0171_11252014 Q_0172_04122012 Q_0172_04262013 Q_0173_04122012 Q_0173_04172014 Q_0173_04262013 Q_0174_04182012 Q_0174_04272015 Q_0176_04242012 Q_0176_05072013 Q_0177_05012012 Q_0178_05012012 Q_0182_05182012 Q_0184_05242012 Q_0185_05242012 Q_0186_04092015 Q_0188_05242012 Q_0189_05242012 Q_0190_06012012 Q_0190_08132013 Q_0192_06112013 Q_0196_06192015 Q_0196_06202012 Q_0196_09122013 Q_0200_04032015 Q_0200_07092012 Q_0200_08052013 Q_0213_08032012 Q_0215_08062012 Q_0215_08172015 Q_0216_08062012 Q_0216_08172015 Q_0217_01142014 Q_0217_02042015 Q_0217_08092012 Q_0219_08122014 Q_0219_08162012 Q_0219_09012015 Q_0222_08212012 Q_0223_08212012 Q_0227_10032012 Q_0228_01292014 Q_0228_09272012 Q_0229_10022012 Q_0232_12122012 Q_0234_03252014 Q_0234_12132012 Q_0236_03072013 Q_0238_03202013 Q_0238_08042014 Q_0238_11132015 Q_0240_03232015 Q_0240_03272013 Q_0240_06262014 Q_0242_03272013 Q_0242_05162016 Q_0244_09162013 Q_0244_09232014 Q_0246_09242013 Q_0252_12102013 Q_0255_10212014 Q_0260_06092014 Q_0260_10262015 Q_0266_08122014 Q_0268_10132014 Q_0269_10142014 Q_0277_12082014 Q_0284_03182015 Q_0285_03182015 Q_0286_03182015 Q_0287_03182015 Q_0291_04172015 Q_0307_10132015 Q_0310_11182015 Q_0311_12082015 Q_0315_01262016 Q_0321_03232016 Q_0322_03312016 Q_0326_04142016 Q_0327_04142016 Q_0328_04262016"
	
## extract nuisance signal
/u/project/cbearden/data/scripts/tools/qunex_bin/hoffman_submit_qunex.sh \
--qunex_command="extract_nuisance_signal" \
--qunex_options="--overwrite=yes --bolds=resting --sessions=/u/project/cbearden/data/22q/qunex_studyfolder/processing/22qTrio_batch_cleaned_n198_mov_before_after_0.txt --sessionsfolder=/u/project/cbearden/data/22q/qunex_studyfolder/sessions" \
--scheduler_options="-l h_data=20G,h_rt=4:00:00,arch=intel*" \
--array="yes" \
--logdir="/u/project/cbearden/data/22q/qunex_studyfolder/processing/logs/manual" \
--sessions="Q_0001_09242012 Q_0001_10152010 Q_0005_04182011 Q_0007_04012011 Q_0009_09292011 Q_0016_03292011 Q_0016_10082012 Q_0019_05052011 Q_0020_03262012 Q_0020_05052011 Q_0021_01132011 Q_0021_11052012 Q_0024_04152011 Q_0024_09212012 Q_0026_03232012 Q_0026_05032013 Q_0033_03192010 Q_0036_03302010 Q_0036_06212012 Q_0036_06282011 Q_0037_04202011 Q_0038_06042010 Q_0039_04132010 Q_0039_06012011 Q_0040_05142010 Q_0040_06272011 Q_0041_09262012 Q_0045_07132010 Q_0045_08302011 Q_0045_10052012 Q_0051_01302012 Q_0052_07302010 Q_0053_08022010 Q_0053_12212012 Q_0054_08062010 Q_0056_08252010 Q_0056_09102012 Q_0059_08032011 Q_0062_11302011 Q_0076_10212010 Q_0077_02292012 Q_0077_03112013 Q_0077_10252010 Q_0078_11102011 Q_0080_11222010 Q_0081_11242010 Q_0082_01062012 Q_0082_01112013 Q_0082_12162010 Q_0085_02242012 Q_0091_03052012 Q_0091_03072011 Q_0092_03102011 Q_0093_03082011 Q_0093_03122012 Q_0093_03122013 Q_0098_04012011 Q_0099_04012011 Q_0100_04082011 Q_0101_01032013 Q_0101_04122011 Q_0102_01032013 Q_0102_04122011 Q_0103_04182011 Q_0103_08272012 Q_0105_05022011 Q_0109_05262011 Q_0112_11142012 Q_0114_02062014 Q_0114_11092012 Q_0117_07062011 Q_0117_08312012 Q_0118_07072011 Q_0124_07292011 Q_0124_09172012 Q_0126_08012011 Q_0127_03052013 Q_0127_08012014 Q_0127_08082011 Q_0130_08132012 Q_0130_08162011 Q_0130_11042014 Q_0132_08222011 Q_0135_09012011 Q_0136_09012011 Q_0137_09022011 Q_0138_09032013 Q_0138_09042012 Q_0138_09062011 Q_0141_10072013 Q_0141_10092012 Q_0146_11082012 Q_0146_12072011 Q_0147_08112015 Q_0147_08142014 Q_0147_12122011 Q_0149_11192012 Q_0149_12192011 Q_0150_11192012 Q_0150_12202011 Q_0151_01122012 Q_0153_01202012 Q_0156_01312012 Q_0156_12102013 Q_0157_01312012 Q_0159_02122013 Q_0161_03012012 Q_0161_04192013 Q_0162_03202012 Q_0163_03262012 Q_0166_01092014 Q_0166_04052012 Q_0168_04052012 Q_0169_04062012 Q_0170_04102012 Q_0170_11252014 Q_0171_04102012 Q_0171_11252014 Q_0172_04122012 Q_0172_04262013 Q_0173_04122012 Q_0173_04172014 Q_0173_04262013 Q_0174_04182012 Q_0174_04272015 Q_0176_04242012 Q_0176_05072013 Q_0177_05012012 Q_0178_05012012 Q_0182_05182012 Q_0184_05242012 Q_0185_05242012 Q_0186_04092015 Q_0188_05242012 Q_0189_05242012 Q_0190_06012012 Q_0190_08132013 Q_0192_06112013 Q_0196_06192015 Q_0196_06202012 Q_0196_09122013 Q_0200_04032015 Q_0200_07092012 Q_0200_08052013 Q_0213_08032012 Q_0215_08062012 Q_0215_08172015 Q_0216_08062012 Q_0216_08172015 Q_0217_01142014 Q_0217_02042015 Q_0217_08092012 Q_0219_08122014 Q_0219_08162012 Q_0219_09012015 Q_0222_08212012 Q_0223_08212012 Q_0227_10032012 Q_0228_01292014 Q_0228_09272012 Q_0229_10022012 Q_0232_12122012 Q_0234_03252014 Q_0234_12132012 Q_0236_03072013 Q_0238_03202013 Q_0238_08042014 Q_0238_11132015 Q_0240_03232015 Q_0240_03272013 Q_0240_06262014 Q_0242_03272013 Q_0242_05162016 Q_0244_09162013 Q_0244_09232014 Q_0246_09242013 Q_0252_12102013 Q_0255_10212014 Q_0260_06092014 Q_0260_10262015 Q_0266_08122014 Q_0268_10132014 Q_0269_10142014 Q_0277_12082014 Q_0284_03182015 Q_0285_03182015 Q_0286_03182015 Q_0287_03182015 Q_0291_04172015 Q_0307_10132015 Q_0310_11182015 Q_0311_12082015 Q_0315_01262016 Q_0321_03232016 Q_0322_03312016 Q_0326_04142016 Q_0327_04142016 Q_0328_04262016"

## preprocess bold CIFTI no GSR
/u/project/cbearden/data/scripts/tools/qunex_bin/hoffman_submit_qunex.sh \
--qunex_command="preprocess_bold" \
--qunex_options="--overwrite=yes --bolds=resting --bold_actions=s,h,r,c,l --bold_nuisance=m,V,WM,1d --image_target=dtseries --sessions=/u/project/cbearden/data/22q/qunex_studyfolder/processing/22qTrio_batch_cleaned_n198_mov_before_after_0.txt --sessionsfolder=/u/project/cbearden/data/22q/qunex_studyfolder/sessions" \
--scheduler_options="-l h_data=20G,h_rt=4:00:00,arch=intel*" \
--array="yes" \
--logdir="/u/project/cbearden/data/22q/qunex_studyfolder/processing/logs/manual" \
--sessions="Q_0001_09242012 Q_0001_10152010 Q_0005_04182011 Q_0007_04012011 Q_0009_09292011 Q_0016_03292011 Q_0016_10082012 Q_0019_05052011 Q_0020_03262012 Q_0020_05052011 Q_0021_01132011 Q_0021_11052012 Q_0024_04152011 Q_0024_09212012 Q_0026_03232012 Q_0026_05032013 Q_0033_03192010 Q_0036_03302010 Q_0036_06212012 Q_0036_06282011 Q_0037_04202011 Q_0038_06042010 Q_0039_04132010 Q_0039_06012011 Q_0040_05142010 Q_0040_06272011 Q_0041_09262012 Q_0045_07132010 Q_0045_08302011 Q_0045_10052012 Q_0051_01302012 Q_0052_07302010 Q_0053_08022010 Q_0053_12212012 Q_0054_08062010 Q_0056_08252010 Q_0056_09102012 Q_0059_08032011 Q_0062_11302011 Q_0076_10212010 Q_0077_02292012 Q_0077_03112013 Q_0077_10252010 Q_0078_11102011 Q_0080_11222010 Q_0081_11242010 Q_0082_01062012 Q_0082_01112013 Q_0082_12162010 Q_0085_02242012 Q_0091_03052012 Q_0091_03072011 Q_0092_03102011 Q_0093_03082011 Q_0093_03122012 Q_0093_03122013 Q_0098_04012011 Q_0099_04012011 Q_0100_04082011 Q_0101_01032013 Q_0101_04122011 Q_0102_01032013 Q_0102_04122011 Q_0103_04182011 Q_0103_08272012 Q_0105_05022011 Q_0109_05262011 Q_0112_11142012 Q_0114_02062014 Q_0114_11092012 Q_0117_07062011 Q_0117_08312012 Q_0118_07072011 Q_0124_07292011 Q_0124_09172012 Q_0126_08012011 Q_0127_03052013 Q_0127_08012014 Q_0127_08082011 Q_0130_08132012 Q_0130_08162011 Q_0130_11042014 Q_0132_08222011 Q_0135_09012011 Q_0136_09012011 Q_0137_09022011 Q_0138_09032013 Q_0138_09042012 Q_0138_09062011 Q_0141_10072013 Q_0141_10092012 Q_0146_11082012 Q_0146_12072011 Q_0147_08112015 Q_0147_08142014 Q_0147_12122011 Q_0149_11192012 Q_0149_12192011 Q_0150_11192012 Q_0150_12202011 Q_0151_01122012 Q_0153_01202012 Q_0156_01312012 Q_0156_12102013 Q_0157_01312012 Q_0159_02122013 Q_0161_03012012 Q_0161_04192013 Q_0162_03202012 Q_0163_03262012 Q_0166_01092014 Q_0166_04052012 Q_0168_04052012 Q_0169_04062012 Q_0170_04102012 Q_0170_11252014 Q_0171_04102012 Q_0171_11252014 Q_0172_04122012 Q_0172_04262013 Q_0173_04122012 Q_0173_04172014 Q_0173_04262013 Q_0174_04182012 Q_0174_04272015 Q_0176_04242012 Q_0176_05072013 Q_0177_05012012 Q_0178_05012012 Q_0182_05182012 Q_0184_05242012 Q_0185_05242012 Q_0186_04092015 Q_0188_05242012 Q_0189_05242012 Q_0190_06012012 Q_0190_08132013 Q_0192_06112013 Q_0196_06192015 Q_0196_06202012 Q_0196_09122013 Q_0200_04032015 Q_0200_07092012 Q_0200_08052013 Q_0213_08032012 Q_0215_08062012 Q_0215_08172015 Q_0216_08062012 Q_0216_08172015 Q_0217_01142014 Q_0217_02042015 Q_0217_08092012 Q_0219_08122014 Q_0219_08162012 Q_0219_09012015 Q_0222_08212012 Q_0223_08212012 Q_0227_10032012 Q_0228_01292014 Q_0228_09272012 Q_0229_10022012 Q_0232_12122012 Q_0234_03252014 Q_0234_12132012 Q_0236_03072013 Q_0238_03202013 Q_0238_08042014 Q_0238_11132015 Q_0240_03232015 Q_0240_03272013 Q_0240_06262014 Q_0242_03272013 Q_0242_05162016 Q_0244_09162013 Q_0244_09232014 Q_0246_09242013 Q_0252_12102013 Q_0255_10212014 Q_0260_06092014 Q_0260_10262015 Q_0266_08122014 Q_0268_10132014 Q_0269_10142014 Q_0277_12082014 Q_0284_03182015 Q_0285_03182015 Q_0286_03182015 Q_0287_03182015 Q_0291_04172015 Q_0307_10132015 Q_0310_11182015 Q_0311_12082015 Q_0315_01262016 Q_0321_03232016 Q_0322_03312016 Q_0326_04142016 Q_0327_04142016 Q_0328_04262016"

## preprocess bold CIFTI GSR
/u/project/cbearden/data/scripts/tools/qunex_bin/hoffman_submit_qunex.sh \
--qunex_command="preprocess_bold" \
--qunex_options="--overwrite=yes --bolds=resting --bold_actions=s,h,r,c,l --bold_nuisance=m,V,WM,WB,1d --image_target=dtseries --sessions=/u/project/cbearden/data/22q/qunex_studyfolder/processing/22qTrio_batch_cleaned_n198_mov_before_after_0.txt --sessionsfolder=/u/project/cbearden/data/22q/qunex_studyfolder/sessions" \
--scheduler_options="-l h_data=20G,h_rt=4:00:00,arch=intel*" \
--array="yes" \
--logdir="/u/project/cbearden/data/22q/qunex_studyfolder/processing/logs/manual" \
--sessions="Q_0001_09242012 Q_0001_10152010 Q_0005_04182011 Q_0007_04012011 Q_0009_09292011 Q_0016_03292011 Q_0016_10082012 Q_0019_05052011 Q_0020_03262012 Q_0020_05052011 Q_0021_01132011 Q_0021_11052012 Q_0024_04152011 Q_0024_09212012 Q_0026_03232012 Q_0026_05032013 Q_0033_03192010 Q_0036_03302010 Q_0036_06212012 Q_0036_06282011 Q_0037_04202011 Q_0038_06042010 Q_0039_04132010 Q_0039_06012011 Q_0040_05142010 Q_0040_06272011 Q_0041_09262012 Q_0045_07132010 Q_0045_08302011 Q_0045_10052012 Q_0051_01302012 Q_0052_07302010 Q_0053_08022010 Q_0053_12212012 Q_0054_08062010 Q_0056_08252010 Q_0056_09102012 Q_0059_08032011 Q_0062_11302011 Q_0076_10212010 Q_0077_02292012 Q_0077_03112013 Q_0077_10252010 Q_0078_11102011 Q_0080_11222010 Q_0081_11242010 Q_0082_01062012 Q_0082_01112013 Q_0082_12162010 Q_0085_02242012 Q_0091_03052012 Q_0091_03072011 Q_0092_03102011 Q_0093_03082011 Q_0093_03122012 Q_0093_03122013 Q_0098_04012011 Q_0099_04012011 Q_0100_04082011 Q_0101_01032013 Q_0101_04122011 Q_0102_01032013 Q_0102_04122011 Q_0103_04182011 Q_0103_08272012 Q_0105_05022011 Q_0109_05262011 Q_0112_11142012 Q_0114_02062014 Q_0114_11092012 Q_0117_07062011 Q_0117_08312012 Q_0118_07072011 Q_0124_07292011 Q_0124_09172012 Q_0126_08012011 Q_0127_03052013 Q_0127_08012014 Q_0127_08082011 Q_0130_08132012 Q_0130_08162011 Q_0130_11042014 Q_0132_08222011 Q_0135_09012011 Q_0136_09012011 Q_0137_09022011 Q_0138_09032013 Q_0138_09042012 Q_0138_09062011 Q_0141_10072013 Q_0141_10092012 Q_0146_11082012 Q_0146_12072011 Q_0147_08112015 Q_0147_08142014 Q_0147_12122011 Q_0149_11192012 Q_0149_12192011 Q_0150_11192012 Q_0150_12202011 Q_0151_01122012 Q_0153_01202012 Q_0156_01312012 Q_0156_12102013 Q_0157_01312012 Q_0159_02122013 Q_0161_03012012 Q_0161_04192013 Q_0162_03202012 Q_0163_03262012 Q_0166_01092014 Q_0166_04052012 Q_0168_04052012 Q_0169_04062012 Q_0170_04102012 Q_0170_11252014 Q_0171_04102012 Q_0171_11252014 Q_0172_04122012 Q_0172_04262013 Q_0173_04122012 Q_0173_04172014 Q_0173_04262013 Q_0174_04182012 Q_0174_04272015 Q_0176_04242012 Q_0176_05072013 Q_0177_05012012 Q_0178_05012012 Q_0182_05182012 Q_0184_05242012 Q_0185_05242012 Q_0186_04092015 Q_0188_05242012 Q_0189_05242012 Q_0190_06012012 Q_0190_08132013 Q_0192_06112013 Q_0196_06192015 Q_0196_06202012 Q_0196_09122013 Q_0200_04032015 Q_0200_07092012 Q_0200_08052013 Q_0213_08032012 Q_0215_08062012 Q_0215_08172015 Q_0216_08062012 Q_0216_08172015 Q_0217_01142014 Q_0217_02042015 Q_0217_08092012 Q_0219_08122014 Q_0219_08162012 Q_0219_09012015 Q_0222_08212012 Q_0223_08212012 Q_0227_10032012 Q_0228_01292014 Q_0228_09272012 Q_0229_10022012 Q_0232_12122012 Q_0234_03252014 Q_0234_12132012 Q_0236_03072013 Q_0238_03202013 Q_0238_08042014 Q_0238_11132015 Q_0240_03232015 Q_0240_03272013 Q_0240_06262014 Q_0242_03272013 Q_0242_05162016 Q_0244_09162013 Q_0244_09232014 Q_0246_09242013 Q_0252_12102013 Q_0255_10212014 Q_0260_06092014 Q_0260_10262015 Q_0266_08122014 Q_0268_10132014 Q_0269_10142014 Q_0277_12082014 Q_0284_03182015 Q_0285_03182015 Q_0286_03182015 Q_0287_03182015 Q_0291_04172015 Q_0307_10132015 Q_0310_11182015 Q_0311_12082015 Q_0315_01262016 Q_0321_03232016 Q_0322_03312016 Q_0326_04142016 Q_0327_04142016 Q_0328_04262016"

#######
## preprocess bold CIFTI only motion and motion 1st deriv (no GSR V or WM)
/u/project/cbearden/data/scripts/tools/qunex_bin/hoffman_submit_qunex.sh \
--qunex_command="preprocess_bold" \
--qunex_options="--overwrite=yes --bolds=resting --bold_actions=s,h,r,c,l --bold_nuisance=m,m1d --image_target=dtseries --sessions=/u/project/cbearden/data/22q/qunex_studyfolder/processing/22qTrio_batch_cleaned_n198_mov_before_after_0.txt --sessionsfolder=/u/project/cbearden/data/22q/qunex_studyfolder/sessions" \
--scheduler_options="-l h_data=20G,h_rt=24:00:00" \
--array="yes" \
--logdir="/u/project/cbearden/data/22q/qunex_studyfolder/processing/logs/manual" \
--sessions="Q_0001_09242012 Q_0001_10152010 Q_0005_04182011 Q_0007_04012011 Q_0009_09292011 Q_0016_03292011 Q_0016_10082012 Q_0019_05052011 Q_0020_03262012 Q_0020_05052011 Q_0021_01132011 Q_0021_11052012 Q_0024_04152011 Q_0024_09212012 Q_0026_03232012 Q_0026_05032013 Q_0033_03192010 Q_0036_03302010 Q_0036_06212012 Q_0036_06282011 Q_0037_04202011 Q_0038_06042010 Q_0039_04132010 Q_0039_06012011 Q_0040_05142010 Q_0040_06272011 Q_0041_09262012 Q_0045_07132010 Q_0045_08302011 Q_0045_10052012 Q_0051_01302012 Q_0052_07302010 Q_0053_08022010 Q_0053_12212012 Q_0054_08062010 Q_0056_08252010 Q_0056_09102012 Q_0059_08032011 Q_0062_11302011 Q_0076_10212010 Q_0077_02292012 Q_0077_03112013 Q_0077_10252010 Q_0078_11102011 Q_0080_11222010 Q_0081_11242010 Q_0082_01062012 Q_0082_01112013 Q_0082_12162010 Q_0085_02242012 Q_0091_03052012 Q_0091_03072011 Q_0092_03102011 Q_0093_03082011 Q_0093_03122012 Q_0093_03122013 Q_0098_04012011 Q_0099_04012011 Q_0100_04082011 Q_0101_01032013 Q_0101_04122011 Q_0102_01032013 Q_0102_04122011 Q_0103_04182011 Q_0103_08272012 Q_0105_05022011 Q_0109_05262011 Q_0112_11142012 Q_0114_02062014 Q_0114_11092012 Q_0117_07062011 Q_0117_08312012 Q_0118_07072011 Q_0124_07292011 Q_0124_09172012 Q_0126_08012011 Q_0127_03052013 Q_0127_08012014 Q_0127_08082011 Q_0130_08132012 Q_0130_08162011 Q_0130_11042014 Q_0132_08222011 Q_0135_09012011 Q_0136_09012011 Q_0137_09022011 Q_0138_09032013 Q_0138_09042012 Q_0138_09062011 Q_0141_10072013 Q_0141_10092012 Q_0146_11082012 Q_0146_12072011 Q_0147_08112015 Q_0147_08142014 Q_0147_12122011 Q_0149_11192012 Q_0149_12192011 Q_0150_11192012 Q_0150_12202011 Q_0151_01122012 Q_0153_01202012 Q_0156_01312012 Q_0156_12102013 Q_0157_01312012 Q_0159_02122013 Q_0161_03012012 Q_0161_04192013 Q_0162_03202012 Q_0163_03262012 Q_0166_01092014 Q_0166_04052012 Q_0168_04052012 Q_0169_04062012 Q_0170_04102012 Q_0170_11252014 Q_0171_04102012 Q_0171_11252014 Q_0172_04122012 Q_0172_04262013 Q_0173_04122012 Q_0173_04172014 Q_0173_04262013 Q_0174_04182012 Q_0174_04272015 Q_0176_04242012 Q_0176_05072013 Q_0177_05012012 Q_0178_05012012 Q_0182_05182012 Q_0184_05242012 Q_0185_05242012 Q_0186_04092015 Q_0188_05242012 Q_0189_05242012 Q_0190_06012012 Q_0190_08132013 Q_0192_06112013 Q_0196_06192015 Q_0196_06202012 Q_0196_09122013 Q_0200_04032015 Q_0200_07092012 Q_0200_08052013 Q_0213_08032012 Q_0215_08062012 Q_0215_08172015 Q_0216_08062012 Q_0216_08172015 Q_0217_01142014 Q_0217_02042015 Q_0217_08092012 Q_0219_08122014 Q_0219_08162012 Q_0219_09012015 Q_0222_08212012 Q_0223_08212012 Q_0227_10032012 Q_0228_01292014 Q_0228_09272012 Q_0229_10022012 Q_0232_12122012 Q_0234_03252014 Q_0234_12132012 Q_0236_03072013 Q_0238_03202013 Q_0238_08042014 Q_0238_11132015 Q_0240_03232015 Q_0240_03272013 Q_0240_06262014 Q_0242_03272013 Q_0242_05162016 Q_0244_09162013 Q_0244_09232014 Q_0246_09242013 Q_0252_12102013 Q_0255_10212014 Q_0260_06092014 Q_0260_10262015 Q_0266_08122014 Q_0268_10132014 Q_0269_10142014 Q_0277_12082014 Q_0284_03182015 Q_0285_03182015 Q_0286_03182015 Q_0287_03182015 Q_0291_04172015 Q_0307_10132015 Q_0310_11182015 Q_0311_12082015 Q_0315_01262016 Q_0321_03232016 Q_0322_03312016 Q_0326_04142016 Q_0327_04142016 Q_0328_04262016"

## preprocess bold CIFTI no residuals, only filter and smooth
/u/project/cbearden/data/scripts/tools/qunex_bin/hoffman_submit_qunex.sh \
--qunex_command="preprocess_bold" \
--qunex_options="--overwrite=yes --bolds=resting --bold_actions=s,h,l --image_target=dtseries --sessions=/u/project/cbearden/data/22q/qunex_studyfolder/processing/22qTrio_batch_cleaned_n198_mov_before_after_0.txt --sessionsfolder=/u/project/cbearden/data/22q/qunex_studyfolder/sessions" \
--scheduler_options="-l h_data=20G,h_rt=24:00:00" \
--array="yes" \
--logdir="/u/project/cbearden/data/22q/qunex_studyfolder/processing/logs/manual" \
--sessions="Q_0001_09242012 Q_0001_10152010 Q_0005_04182011 Q_0007_04012011 Q_0009_09292011 Q_0016_03292011 Q_0016_10082012 Q_0019_05052011 Q_0020_03262012 Q_0020_05052011 Q_0021_01132011 Q_0021_11052012 Q_0024_04152011 Q_0024_09212012 Q_0026_03232012 Q_0026_05032013 Q_0033_03192010 Q_0036_03302010 Q_0036_06212012 Q_0036_06282011 Q_0037_04202011 Q_0038_06042010 Q_0039_04132010 Q_0039_06012011 Q_0040_05142010 Q_0040_06272011 Q_0041_09262012 Q_0045_07132010 Q_0045_08302011 Q_0045_10052012 Q_0051_01302012 Q_0052_07302010 Q_0053_08022010 Q_0053_12212012 Q_0054_08062010 Q_0056_08252010 Q_0056_09102012 Q_0059_08032011 Q_0062_11302011 Q_0076_10212010 Q_0077_02292012 Q_0077_03112013 Q_0077_10252010 Q_0078_11102011 Q_0080_11222010 Q_0081_11242010 Q_0082_01062012 Q_0082_01112013 Q_0082_12162010 Q_0085_02242012 Q_0091_03052012 Q_0091_03072011 Q_0092_03102011 Q_0093_03082011 Q_0093_03122012 Q_0093_03122013 Q_0098_04012011 Q_0099_04012011 Q_0100_04082011 Q_0101_01032013 Q_0101_04122011 Q_0102_01032013 Q_0102_04122011 Q_0103_04182011 Q_0103_08272012 Q_0105_05022011 Q_0109_05262011 Q_0112_11142012 Q_0114_02062014 Q_0114_11092012 Q_0117_07062011 Q_0117_08312012 Q_0118_07072011 Q_0124_07292011 Q_0124_09172012 Q_0126_08012011 Q_0127_03052013 Q_0127_08012014 Q_0127_08082011 Q_0130_08132012 Q_0130_08162011 Q_0130_11042014 Q_0132_08222011 Q_0135_09012011 Q_0136_09012011 Q_0137_09022011 Q_0138_09032013 Q_0138_09042012 Q_0138_09062011 Q_0141_10072013 Q_0141_10092012 Q_0146_11082012 Q_0146_12072011 Q_0147_08112015 Q_0147_08142014 Q_0147_12122011 Q_0149_11192012 Q_0149_12192011 Q_0150_11192012 Q_0150_12202011 Q_0151_01122012 Q_0153_01202012 Q_0156_01312012 Q_0156_12102013 Q_0157_01312012 Q_0159_02122013 Q_0161_03012012 Q_0161_04192013 Q_0162_03202012 Q_0163_03262012 Q_0166_01092014 Q_0166_04052012 Q_0168_04052012 Q_0169_04062012 Q_0170_04102012 Q_0170_11252014 Q_0171_04102012 Q_0171_11252014 Q_0172_04122012 Q_0172_04262013 Q_0173_04122012 Q_0173_04172014 Q_0173_04262013 Q_0174_04182012 Q_0174_04272015 Q_0176_04242012 Q_0176_05072013 Q_0177_05012012 Q_0178_05012012 Q_0182_05182012 Q_0184_05242012 Q_0185_05242012 Q_0186_04092015 Q_0188_05242012 Q_0189_05242012 Q_0190_06012012 Q_0190_08132013 Q_0192_06112013 Q_0196_06192015 Q_0196_06202012 Q_0196_09122013 Q_0200_04032015 Q_0200_07092012 Q_0200_08052013 Q_0213_08032012 Q_0215_08062012 Q_0215_08172015 Q_0216_08062012 Q_0216_08172015 Q_0217_01142014 Q_0217_02042015 Q_0217_08092012 Q_0219_08122014 Q_0219_08162012 Q_0219_09012015 Q_0222_08212012 Q_0223_08212012 Q_0227_10032012 Q_0228_01292014 Q_0228_09272012 Q_0229_10022012 Q_0232_12122012 Q_0234_03252014 Q_0234_12132012 Q_0236_03072013 Q_0238_03202013 Q_0238_08042014 Q_0238_11132015 Q_0240_03232015 Q_0240_03272013 Q_0240_06262014 Q_0242_03272013 Q_0242_05162016 Q_0244_09162013 Q_0244_09232014 Q_0246_09242013 Q_0252_12102013 Q_0255_10212014 Q_0260_06092014 Q_0260_10262015 Q_0266_08122014 Q_0268_10132014 Q_0269_10142014 Q_0277_12082014 Q_0284_03182015 Q_0285_03182015 Q_0286_03182015 Q_0287_03182015 Q_0291_04172015 Q_0307_10132015 Q_0310_11182015 Q_0311_12082015 Q_0315_01262016 Q_0321_03232016 Q_0322_03312016 Q_0326_04142016 Q_0327_04142016 Q_0328_04262016"


# final check for check GSR and noGSR for everything in sessions dir
cd /u/project/cbearden/data/22q/qunex_studyfolder/sessions
sessions=Q_*
echo GSR
for i in $sessions; do if [[ -f ${i}/images/functional/bold1_Atlas_s_hpss_res-mVWMWB1d_lpss.dtseries.nii  ]] || [[ -f ${i}/images/functional/bold2_Atlas_s_hpss_res-mVWMWB1d_lpss.dtseries.nii  ]]|| [[ -f ${i}/images/functional/bold3_Atlas_s_hpss_res-mVWMWB1d_lpss.dtseries.nii  ]]|| [[ -f ${i}/images/functional/bold4_Atlas_s_hpss_res-mVWMWB1d_lpss.dtseries.nii  ]]; then echo ${i} has processed BOLD; else echo ${i} MISSING; fi; done
echo noGSR
for i in $sessions; do if [[ -f ${i}/images/functional/bold1_Atlas_s_hpss_res-mVWM1d_lpss.dtseries.nii  ]] || [[ -f ${i}/images/functional/bold2_Atlas_s_hpss_res-mVWM1d_lpss.dtseries.nii  ]]|| [[ -f ${i}/images/functional/bold3_Atlas_s_hpss_res-mVWM1d_lpss.dtseries.nii  ]]|| [[ -f ${i}/images/functional/bold4_Atlas_s_hpss_res-mVWM1d_lpss.dtseries.nii  ]]; then echo ${i} has processed BOLD; else echo ${i} MISSING; fi; done

## create final batch file
/u/project/cbearden/data/scripts/tools/qunex_bin/hoffman_submit_qunex.sh \
--qunex_command="create_batch" \
--qunex_options="--targetfile=/u/project/cbearden/data/22q/qunex_studyfolder/processing/22qTrio_batch_031822.txt --overwrite=yes --sessionsfolder=/u/project/cbearden/data/22q/qunex_studyfolder/sessions --sourcefiles=session_hcp.txt --paramfile=/u/project/cbearden/data/22q/qunex_studyfolder/sessions/specs/22q_trio_params.txt --sessions=Q_0001_09242012,Q_0001_10152010,Q_0005_04182011,Q_0007_04012011,Q_0009_09292011,Q_0016_03292011,Q_0016_10082012,Q_0019_05052011,Q_0020_03262012,Q_0020_05052011,Q_0021_01132011,Q_0021_11052012,Q_0024_04152011,Q_0024_09212012,Q_0026_03232012,Q_0026_05032013,Q_0033_03192010,Q_0036_03302010,Q_0036_06212012,Q_0036_06282011,Q_0037_04202011,Q_0038_06042010,Q_0039_04132010,Q_0039_06012011,Q_0040_05142010,Q_0040_06272011,Q_0041_09262012,Q_0045_07132010,Q_0045_08302011,Q_0045_10052012,Q_0051_01302012,Q_0052_07302010,Q_0053_08022010,Q_0053_12212012,Q_0054_08062010,Q_0056_08252010,Q_0056_09102012,Q_0059_08032011,Q_0062_11302011,Q_0076_10212010,Q_0077_02292012,Q_0077_03112013,Q_0077_10252010,Q_0078_11102011,Q_0080_11222010,Q_0081_11242010,Q_0082_01062012,Q_0082_01112013,Q_0082_12162010,Q_0085_02242012,Q_0091_03052012,Q_0091_03072011,Q_0092_03102011,Q_0093_03082011,Q_0093_03122012,Q_0093_03122013,Q_0098_04012011,Q_0099_04012011,Q_0100_04082011,Q_0101_01032013,Q_0101_04122011,Q_0102_01032013,Q_0102_04122011,Q_0103_04182011,Q_0103_08272012,Q_0105_05022011,Q_0109_05262011,Q_0112_11142012,Q_0114_02062014,Q_0114_11092012,Q_0117_07062011,Q_0117_08312012,Q_0118_07072011,Q_0124_07292011,Q_0124_09172012,Q_0126_08012011,Q_0127_03052013,Q_0127_08012014,Q_0127_08082011,Q_0130_08132012,Q_0130_08162011,Q_0130_11042014,Q_0132_08222011,Q_0135_09012011,Q_0136_09012011,Q_0137_09022011,Q_0138_09032013,Q_0138_09042012,Q_0138_09062011,Q_0141_10072013,Q_0141_10092012,Q_0146_11082012,Q_0146_12072011,Q_0147_08112015,Q_0147_08142014,Q_0147_12122011,Q_0149_11192012,Q_0149_12192011,Q_0150_11192012,Q_0150_12202011,Q_0151_01122012,Q_0153_01202012,Q_0156_01312012,Q_0156_12102013,Q_0157_01312012,Q_0159_02122013,Q_0161_03012012,Q_0161_04192013,Q_0162_03202012,Q_0163_03262012,Q_0166_01092014,Q_0166_04052012,Q_0168_04052012,Q_0169_04062012,Q_0170_04102012,Q_0170_11252014,Q_0171_04102012,Q_0171_11252014,Q_0172_04122012,Q_0172_04262013,Q_0173_04122012,Q_0173_04172014,Q_0173_04262013,Q_0174_04182012,Q_0174_04272015,Q_0176_04242012,Q_0176_05072013,Q_0177_05012012,Q_0178_05012012,Q_0182_05182012,Q_0184_05242012,Q_0185_05242012,Q_0186_04092015,Q_0188_05242012,Q_0189_05242012,Q_0190_06012012,Q_0190_08132013,Q_0190_08292014,Q_0192_06112013,Q_0196_06192015,Q_0196_06202012,Q_0196_09122013,Q_0200_04032015,Q_0200_07092012,Q_0200_08052013,Q_0213_08032012,Q_0215_08062012,Q_0215_08172015,Q_0216_08062012,Q_0216_08172015,Q_0217_01142014,Q_0217_02042015,Q_0217_08092012,Q_0219_08122014,Q_0219_08162012,Q_0219_09012015,Q_0222_08212012,Q_0223_08212012,Q_0227_10032012,Q_0228_01292014,Q_0228_09272012,Q_0229_10022012,Q_0232_12122012,Q_0234_03252014,Q_0234_12132012,Q_0236_03072013,Q_0238_03202013,Q_0238_08042014,Q_0238_11132015,Q_0240_03232015,Q_0240_03272013,Q_0240_06262014,Q_0242_03272013,Q_0242_05162016,Q_0244_09162013,Q_0244_09232014,Q_0246_09242013,Q_0252_12102013,Q_0255_10212014,Q_0260_06092014,Q_0260_10262015,Q_0266_08122014,Q_0268_10132014,Q_0269_10142014,Q_0277_12082014,Q_0284_03182015,Q_0285_03182015,Q_0286_03182015,Q_0287_03182015,Q_0291_04172015,Q_0307_10132015,Q_0310_11182015,Q_0311_12082015,Q_0315_01262016,Q_0321_03232016,Q_0322_03312016,Q_0326_04142016,Q_0327_04142016,Q_0328_04262016" \
--scheduler_options="-l h_data=4G,h_rt=1:00:00" \
--array="no" 

# rerun BOLD post-processing mov_before=mov_after=0 for Q_0190_08292014 that had ~90% frames marked bad with udvarsme mov_before=1 mov_after=2
/u/project/cbearden/data/scripts/tools/qunex_bin/hoffman_submit_qunex.sh \
--qunex_command="map_hcp_data" \
--qunex_options=" --overwrite=yes --bolds=resting --sessions=/u/project/cbearden/data/22q/qunex_studyfolder/processing/22qTrio_batch_031822.txt --sessionsfolder=/u/project/cbearden/data/22q/qunex_studyfolder/sessions" \
--scheduler_options="-l h_data=20G,h_rt=1:00:00,arch=intel*" \
--array="yes" \
--logdir="/u/project/cbearden/data/22q/qunex_studyfolder/processing/logs/manual" \
--sessions="Q_0190_08292014"

## brain masks
/u/project/cbearden/data/scripts/tools/qunex_bin/hoffman_submit_qunex.sh \
--qunex_command="create_bold_brain_masks" \
--qunex_options="--overwrite=yes --sessions=/u/project/cbearden/data/22q/qunex_studyfolder/processing/22qTrio_batch_031822.txt --sessionsfolder=/u/project/cbearden/data/22q/qunex_studyfolder/sessions" \
--scheduler_options="-l h_data=20G,h_rt=1:00:00,arch=intel*" \
--array="yes" \
--logdir="/u/project/cbearden/data/22q/qunex_studyfolder/processing/logs/manual" \
--sessions="Q_0190_08292014"

## bold stats
/u/project/cbearden/data/scripts/tools/qunex_bin/hoffman_submit_qunex.sh \
--qunex_command="compute_bold_stats" \
--qunex_options="--overwrite=yes --bolds=resting --sessions=/u/project/cbearden/data/22q/qunex_studyfolder/processing/22qTrio_batch_031822.txt --sessionsfolder=/u/project/cbearden/data/22q/qunex_studyfolder/sessions" \
--scheduler_options="-l h_data=20G,h_rt=1:00:00,arch=intel*" \
--array="yes" \
--logdir="/u/project/cbearden/data/22q/qunex_studyfolder/processing/logs/manual" \
--sessions="Q_0190_08292014"
   
## create stats report
/u/project/cbearden/data/scripts/tools/qunex_bin/hoffman_submit_qunex.sh \
--qunex_command="create_stats_report" \
--qunex_options="--overwrite=yes --bolds=resting --sessions=/u/project/cbearden/data/22q/qunex_studyfolder/processing/22qTrio_batch_031822.txt --sessionsfolder=/u/project/cbearden/data/22q/qunex_studyfolder/sessions" \
--scheduler_options="-l h_data=20G,h_rt=1:00:00,arch=intel*" \
--array="yes" \
--logdir="/u/project/cbearden/data/22q/qunex_studyfolder/processing/logs/manual" \
--sessions="Q_0190_08292014"
	
## extract nuisance signal
/u/project/cbearden/data/scripts/tools/qunex_bin/hoffman_submit_qunex.sh \
--qunex_command="extract_nuisance_signal" \
--qunex_options="--overwrite=yes --bolds=resting --sessions=/u/project/cbearden/data/22q/qunex_studyfolder/processing/22qTrio_batch_031822.txt --sessionsfolder=/u/project/cbearden/data/22q/qunex_studyfolder/sessions" \
--scheduler_options="-l h_data=20G,h_rt=1:00:00,arch=intel*" \
--array="yes" \
--logdir="/u/project/cbearden/data/22q/qunex_studyfolder/processing/logs/manual" \
--sessions="Q_0190_08292014"

## preprocess bold CIFTI no GSR
/u/project/cbearden/data/scripts/tools/qunex_bin/hoffman_submit_qunex.sh \
--qunex_command="preprocess_bold" \
--qunex_options="--overwrite=yes --bolds=resting --bold_actions=s,h,r,c,l --bold_nuisance=m,V,WM,1d --image_target=dtseries --sessions=/u/project/cbearden/data/22q/qunex_studyfolder/processing/22qTrio_batch_031822.txt --sessionsfolder=/u/project/cbearden/data/22q/qunex_studyfolder/sessions" \
--scheduler_options="-l h_data=20G,h_rt=1:00:00,arch=intel*" \
--array="yes" \
--logdir="/u/project/cbearden/data/22q/qunex_studyfolder/processing/logs/manual" \
--sessions="Q_0190_08292014"

## preprocess bold CIFTI GSR
/u/project/cbearden/data/scripts/tools/qunex_bin/hoffman_submit_qunex.sh \
--qunex_command="preprocess_bold" \
--qunex_options="--overwrite=yes --bolds=resting --bold_actions=s,h,r,c,l --bold_nuisance=m,V,WM,WB,1d --image_target=dtseries --sessions=/u/project/cbearden/data/22q/qunex_studyfolder/processing/22qTrio_batch_031822.txt --sessionsfolder=/u/project/cbearden/data/22q/qunex_studyfolder/sessions" \
--scheduler_options="-l h_data=20G,h_rt=1:00:00,arch=intel*" \
--array="yes" \
--logdir="/u/project/cbearden/data/22q/qunex_studyfolder/processing/logs/manual" \
--sessions="Q_0190_08292014"







#####################################################################
### re-run seed-based BOLD functional connectivity
#####################################################################
# https://bitbucket.org/oriadev/qunex/wiki/UsageDocs/BOLDFunctionalConnectivity.md

# subcortical seeds -- bandpass, GSR, reading boldn for bold rest from session_hcp.txt
# n=188
sessions="Q_0001_09242012 Q_0001_10152010 Q_0005_04182011 Q_0007_04012011 Q_0009_09292011 Q_0016_03292011 Q_0016_10082012 Q_0020_03262012 Q_0020_05052011 Q_0021_01132011 Q_0021_11052012 Q_0024_04152011 Q_0024_09212012 Q_0026_03232012 Q_0026_05032013 Q_0033_03192010 Q_0036_03302010 Q_0036_06212012 Q_0036_06282011 Q_0037_04202011 Q_0038_06042010 Q_0039_04132010 Q_0039_06012011 Q_0040_05142010 Q_0040_06272011 Q_0041_09262012 Q_0045_07132010 Q_0045_08302011 Q_0045_10052012 Q_0051_01302012 Q_0052_07302010 Q_0053_08022010 Q_0053_12212012 Q_0054_08062010 Q_0056_08252010 Q_0056_09102012 Q_0059_08032011 Q_0062_11302011 Q_0076_10212010 Q_0077_02292012 Q_0077_03112013 Q_0077_10252010 Q_0078_11102011 Q_0080_11222010 Q_0081_11242010 Q_0082_01062012 Q_0082_01112013 Q_0082_12162010 Q_0085_02242012 Q_0091_03052012 Q_0091_03072011 Q_0092_03102011 Q_0093_03082011 Q_0093_03122012 Q_0093_03122013 Q_0098_04012011 Q_0099_04012011 Q_0100_04082011 Q_0101_01032013 Q_0101_04122011 Q_0102_01032013 Q_0102_04122011 Q_0103_04182011 Q_0103_08272012 Q_0105_05022011 Q_0109_05262011 Q_0112_11142012 Q_0114_11092012 Q_0117_07062011 Q_0117_08312012 Q_0118_07072011 Q_0124_07292011 Q_0124_09172012 Q_0126_08012011 Q_0127_03052013 Q_0127_08012014 Q_0127_08082011 Q_0130_08132012 Q_0130_08162011 Q_0130_11042014 Q_0132_08222011 Q_0135_09012011 Q_0141_10072013 Q_0141_10092012 Q_0146_11082012 Q_0146_12072011 Q_0147_08112015 Q_0147_08142014 Q_0147_12122011 Q_0149_11192012 Q_0149_12192011 Q_0150_11192012 Q_0150_12202011 Q_0151_01122012 Q_0153_01202012 Q_0156_01312012 Q_0156_12102013 Q_0157_01312012 Q_0159_02122013 Q_0161_03012012 Q_0161_04192013 Q_0162_03202012 Q_0163_03262012 Q_0166_01092014 Q_0166_04052012 Q_0168_04052012 Q_0169_04062012 Q_0170_04102012 Q_0170_11252014 Q_0171_04102012 Q_0171_11252014 Q_0172_04122012 Q_0172_04262013 Q_0173_04122012 Q_0173_04172014 Q_0173_04262013 Q_0174_04182012 Q_0174_04272015 Q_0176_04242012 Q_0176_05072013 Q_0177_05012012 Q_0178_05012012 Q_0182_05182012 Q_0184_05242012 Q_0185_05242012 Q_0186_04092015 Q_0188_05242012 Q_0189_05242012 Q_0190_06012012 Q_0190_08132013 Q_0196_06192015 Q_0196_06202012 Q_0196_09122013 Q_0200_04032015 Q_0200_08052013 Q_0213_08032012 Q_0215_08062012 Q_0215_08172015 Q_0216_08062012 Q_0216_08172015 Q_0217_01142014 Q_0217_02042015 Q_0217_08092012 Q_0219_08122014 Q_0219_08162012 Q_0219_09012015 Q_0222_08212012 Q_0223_08212012 Q_0227_10032012 Q_0228_01292014 Q_0228_09272012 Q_0229_10022012 Q_0232_12122012 Q_0234_03252014 Q_0234_12132012 Q_0236_03072013 Q_0238_03202013 Q_0238_08042014 Q_0238_11132015 Q_0240_03232015 Q_0240_03272013 Q_0240_06262014 Q_0242_03272013 Q_0242_05162016 Q_0244_09162013 Q_0244_09232014 Q_0246_09242013 Q_0252_12102013 Q_0255_10212014 Q_0260_06092014 Q_0260_10262015 Q_0266_08122014 Q_0268_10132014 Q_0269_10142014 Q_0277_12082014 Q_0284_03182015 Q_0285_03182015 Q_0286_03182015 Q_0287_03182015 Q_0291_04172015 Q_0307_10132015 Q_0310_11182015 Q_0311_12082015 Q_0315_01262016 Q_0321_03232016 Q_0322_03312016 Q_0326_04142016 Q_0327_04142016"
sdir=/u/project/cbearden/data/22q/qunex_studyfolder/sessions/
for sesh in $sessions; do 
# get boldn as the second field of session_hcp.txt line with "resting" skipping lines that don't start with [0-9] e.g. commented out
boldn=$(cat ${sdir}/${sesh}/session_hcp.txt  | grep "resting" | grep ^[0-9] | cut -d ":" -f 2 | xargs)
infile=${boldn}_Atlas_s_hpss_res-mVWMWB1d_lpss.dtseries.nii
echo ${sesh} ${infile}
/u/project/cbearden/data/scripts/tools/qunex_bin/hoffman_submit_qunex.sh \
--qunex_command="fc_compute_wrapper" \
--qunex_options="--sessionsfolder=${sdir} \
--calculation=seed \
--runtype=individual \
--inputfiles=${infile} \
--inputpath=/images/functional/ \
--overwrite=yes \
--extractdata=no \
--roinfo=/u/project/cbearden/data/22q/qunex_studyfolder/analysis/fcMRI/roi/seeds_cifti_10142021.names \
--outname=resting_fc_seed_s_hpss_res-mVWMWB1d_lpss \
--ignore=udvarsme \
--method=mean \
--mask=5" \
--scheduler_options="-l h_data=20G,h_rt=2:00:00,arch=intel*" \
--array="yes" \
--logdir="/u/project/cbearden/data/22q/qunex_studyfolder/processing/logs/manual" \
--sessions=${sesh}
done

# subcortical seeds -- bandpass, no GSR, reading boldn for bold rest from session_hcp.txt
# n=188
sessions="Q_0001_09242012 Q_0001_10152010 Q_0005_04182011 Q_0007_04012011 Q_0009_09292011 Q_0016_03292011 Q_0016_10082012 Q_0020_03262012 Q_0020_05052011 Q_0021_01132011 Q_0021_11052012 Q_0024_04152011 Q_0024_09212012 Q_0026_03232012 Q_0026_05032013 Q_0033_03192010 Q_0036_03302010 Q_0036_06212012 Q_0036_06282011 Q_0037_04202011 Q_0038_06042010 Q_0039_04132010 Q_0039_06012011 Q_0040_05142010 Q_0040_06272011 Q_0041_09262012 Q_0045_07132010 Q_0045_08302011 Q_0045_10052012 Q_0051_01302012 Q_0052_07302010 Q_0053_08022010 Q_0053_12212012 Q_0054_08062010 Q_0056_08252010 Q_0056_09102012 Q_0059_08032011 Q_0062_11302011 Q_0076_10212010 Q_0077_02292012 Q_0077_03112013 Q_0077_10252010 Q_0078_11102011 Q_0080_11222010 Q_0081_11242010 Q_0082_01062012 Q_0082_01112013 Q_0082_12162010 Q_0085_02242012 Q_0091_03052012 Q_0091_03072011 Q_0092_03102011 Q_0093_03082011 Q_0093_03122012 Q_0093_03122013 Q_0098_04012011 Q_0099_04012011 Q_0100_04082011 Q_0101_01032013 Q_0101_04122011 Q_0102_01032013 Q_0102_04122011 Q_0103_04182011 Q_0103_08272012 Q_0105_05022011 Q_0109_05262011 Q_0112_11142012 Q_0114_11092012 Q_0117_07062011 Q_0117_08312012 Q_0118_07072011 Q_0124_07292011 Q_0124_09172012 Q_0126_08012011 Q_0127_03052013 Q_0127_08012014 Q_0127_08082011 Q_0130_08132012 Q_0130_08162011 Q_0130_11042014 Q_0132_08222011 Q_0135_09012011 Q_0141_10072013 Q_0141_10092012 Q_0146_11082012 Q_0146_12072011 Q_0147_08112015 Q_0147_08142014 Q_0147_12122011 Q_0149_11192012 Q_0149_12192011 Q_0150_11192012 Q_0150_12202011 Q_0151_01122012 Q_0153_01202012 Q_0156_01312012 Q_0156_12102013 Q_0157_01312012 Q_0159_02122013 Q_0161_03012012 Q_0161_04192013 Q_0162_03202012 Q_0163_03262012 Q_0166_01092014 Q_0166_04052012 Q_0168_04052012 Q_0169_04062012 Q_0170_04102012 Q_0170_11252014 Q_0171_04102012 Q_0171_11252014 Q_0172_04122012 Q_0172_04262013 Q_0173_04122012 Q_0173_04172014 Q_0173_04262013 Q_0174_04182012 Q_0174_04272015 Q_0176_04242012 Q_0176_05072013 Q_0177_05012012 Q_0178_05012012 Q_0182_05182012 Q_0184_05242012 Q_0185_05242012 Q_0186_04092015 Q_0188_05242012 Q_0189_05242012 Q_0190_06012012 Q_0190_08132013 Q_0196_06192015 Q_0196_06202012 Q_0196_09122013 Q_0200_04032015 Q_0200_08052013 Q_0213_08032012 Q_0215_08062012 Q_0215_08172015 Q_0216_08062012 Q_0216_08172015 Q_0217_01142014 Q_0217_02042015 Q_0217_08092012 Q_0219_08122014 Q_0219_08162012 Q_0219_09012015 Q_0222_08212012 Q_0223_08212012 Q_0227_10032012 Q_0228_01292014 Q_0228_09272012 Q_0229_10022012 Q_0232_12122012 Q_0234_03252014 Q_0234_12132012 Q_0236_03072013 Q_0238_03202013 Q_0238_08042014 Q_0238_11132015 Q_0240_03232015 Q_0240_03272013 Q_0240_06262014 Q_0242_03272013 Q_0242_05162016 Q_0244_09162013 Q_0244_09232014 Q_0246_09242013 Q_0252_12102013 Q_0255_10212014 Q_0260_06092014 Q_0260_10262015 Q_0266_08122014 Q_0268_10132014 Q_0269_10142014 Q_0277_12082014 Q_0284_03182015 Q_0285_03182015 Q_0286_03182015 Q_0287_03182015 Q_0291_04172015 Q_0307_10132015 Q_0310_11182015 Q_0311_12082015 Q_0315_01262016 Q_0321_03232016 Q_0322_03312016 Q_0326_04142016 Q_0327_04142016"
sdir=/u/project/cbearden/data/22q/qunex_studyfolder/sessions/
for sesh in $sessions; do 
# get boldn as the second field of session_hcp.txt line with "resting" skipping lines that don't start with [0-9] e.g. commented out
boldn=$(cat ${sdir}/${sesh}/session_hcp.txt  | grep "resting" | grep ^[0-9] | cut -d ":" -f 2 | xargs)
infile=${boldn}_Atlas_s_hpss_res-mVWM1d_lpss.dtseries.nii
echo ${sesh} ${infile}
/u/project/cbearden/data/scripts/tools/qunex_bin/hoffman_submit_qunex.sh \
--qunex_command="fc_compute_wrapper" \
--qunex_options="--sessionsfolder=${sdir} \
--calculation=seed \
--runtype=individual \
--inputfiles=${infile} \
--inputpath=/images/functional/ \
--overwrite=yes \
--extractdata=no \
--roinfo=/u/project/cbearden/data/22q/qunex_studyfolder/analysis/fcMRI/roi/seeds_cifti_10142021.names \
--outname=resting_fc_seed_s_hpss_res-mVWM1d_lpss \
--ignore=udvarsme \
--method=mean \
--mask=5" \
--scheduler_options="-l h_data=20G,h_rt=2:00:00,arch=intel*" \
--array="yes" \
--logdir="/u/project/cbearden/data/22q/qunex_studyfolder/processing/logs/manual" \
--sessions=${sesh}
done


#####################################################################
### Global BOLD functional connectivity
#####################################################################

## Global Brain Connectivity
# GSR, bandpass
sessions="Q_0001_09242012 Q_0001_10152010 Q_0005_04182011 Q_0007_04012011 Q_0009_09292011 Q_0016_03292011 Q_0016_10082012 Q_0020_03262012 Q_0020_05052011 Q_0021_01132011 Q_0021_11052012 Q_0024_04152011 Q_0024_09212012 Q_0026_03232012 Q_0026_05032013 Q_0033_03192010 Q_0036_03302010 Q_0036_06212012 Q_0036_06282011 Q_0037_04202011 Q_0038_06042010 Q_0039_04132010 Q_0039_06012011 Q_0040_05142010 Q_0040_06272011 Q_0041_09262012 Q_0045_07132010 Q_0045_08302011 Q_0045_10052012 Q_0051_01302012 Q_0052_07302010 Q_0053_08022010 Q_0053_12212012 Q_0054_08062010 Q_0056_08252010 Q_0056_09102012 Q_0059_08032011 Q_0062_11302011 Q_0076_10212010 Q_0077_02292012 Q_0077_03112013 Q_0077_10252010 Q_0078_11102011 Q_0080_11222010 Q_0081_11242010 Q_0082_01062012 Q_0082_01112013 Q_0082_12162010 Q_0085_02242012 Q_0091_03052012 Q_0091_03072011 Q_0092_03102011 Q_0093_03082011 Q_0093_03122012 Q_0093_03122013 Q_0098_04012011 Q_0099_04012011 Q_0100_04082011 Q_0101_01032013 Q_0101_04122011 Q_0102_01032013 Q_0102_04122011 Q_0103_04182011 Q_0103_08272012 Q_0105_05022011 Q_0109_05262011 Q_0112_11142012 Q_0114_11092012 Q_0117_07062011 Q_0117_08312012 Q_0118_07072011 Q_0124_07292011 Q_0124_09172012 Q_0126_08012011 Q_0127_03052013 Q_0127_08012014 Q_0127_08082011 Q_0130_08132012 Q_0130_08162011 Q_0130_11042014 Q_0132_08222011 Q_0135_09012011 Q_0141_10072013 Q_0141_10092012 Q_0146_11082012 Q_0146_12072011 Q_0147_08112015 Q_0147_08142014 Q_0147_12122011 Q_0149_11192012 Q_0149_12192011 Q_0150_11192012 Q_0150_12202011 Q_0151_01122012 Q_0153_01202012 Q_0156_01312012 Q_0156_12102013 Q_0157_01312012 Q_0159_02122013 Q_0161_03012012 Q_0161_04192013 Q_0162_03202012 Q_0163_03262012 Q_0166_01092014 Q_0166_04052012 Q_0168_04052012 Q_0169_04062012 Q_0170_04102012 Q_0170_11252014 Q_0171_04102012 Q_0171_11252014 Q_0172_04122012 Q_0172_04262013 Q_0173_04122012 Q_0173_04172014 Q_0173_04262013 Q_0174_04182012 Q_0174_04272015 Q_0176_04242012 Q_0176_05072013 Q_0177_05012012 Q_0178_05012012 Q_0182_05182012 Q_0184_05242012 Q_0185_05242012 Q_0186_04092015 Q_0188_05242012 Q_0189_05242012 Q_0190_06012012 Q_0190_08132013 Q_0196_06192015 Q_0196_06202012 Q_0196_09122013 Q_0200_04032015 Q_0200_08052013 Q_0213_08032012 Q_0215_08062012 Q_0215_08172015 Q_0216_08062012 Q_0216_08172015 Q_0217_01142014 Q_0217_02042015 Q_0217_08092012 Q_0219_08122014 Q_0219_08162012 Q_0219_09012015 Q_0222_08212012 Q_0223_08212012 Q_0227_10032012 Q_0228_01292014 Q_0228_09272012 Q_0229_10022012 Q_0232_12122012 Q_0234_03252014 Q_0234_12132012 Q_0236_03072013 Q_0238_03202013 Q_0238_08042014 Q_0238_11132015 Q_0240_03232015 Q_0240_03272013 Q_0240_06262014 Q_0242_03272013 Q_0242_05162016 Q_0244_09162013 Q_0244_09232014 Q_0246_09242013 Q_0252_12102013 Q_0255_10212014 Q_0260_06092014 Q_0260_10262015 Q_0266_08122014 Q_0268_10132014 Q_0269_10142014 Q_0277_12082014 Q_0284_03182015 Q_0285_03182015 Q_0286_03182015 Q_0287_03182015 Q_0291_04172015 Q_0307_10132015 Q_0310_11182015 Q_0311_12082015 Q_0315_01262016 Q_0321_03232016 Q_0322_03312016 Q_0326_04142016 Q_0327_04142016"
sdir=/u/project/cbearden/data/22q/qunex_studyfolder/sessions/
for sesh in $sessions; do 
# get boldn as the second field of session_hcp.txt line with "resting" skipping lines that don't start with [0-9] e.g. commented out
boldn=$(cat ${sdir}/${sesh}/session_hcp.txt  | grep "resting" | grep ^[0-9] | cut -d ":" -f 2 | xargs)
infile=${boldn}_Atlas_s_hpss_res-mVWMWB1d_lpss.dtseries.nii
echo ${sesh} ${infile}
/u/project/cbearden/data/scripts/tools/qunex_bin/hoffman_submit_qunex.sh \
--qunex_command="fc_compute_wrapper" \
--qunex_options="--sessionsfolder=/u/project/cbearden/data/22q/qunex_studyfolder/sessions/ \
--calculation=gbc \
--command=mFz:0 \
--runtype=individual \
--inputfiles=${infile} \
--inputpath=/images/functional/ \
--overwrite=no \
--extractdata=no \
--outname=resting_fc_gbc_s_hpss_res-mVWMWB1d_lpss \
--ignore=udvarsme \
--method=mean \
--mask=5" \
--scheduler_options="-l h_data=20G,h_rt=10:00:00,arch=intel*" \
--array="yes" \
--logdir="/u/project/cbearden/data/22q/qunex_studyfolder/processing/logs/manual" \
--sessions=${sesh}
done


## Global Brain Connectivity
# no GSR, bandpass
sessions="Q_0001_09242012 Q_0001_10152010 Q_0005_04182011 Q_0007_04012011 Q_0009_09292011 Q_0016_03292011 Q_0016_10082012 Q_0020_03262012 Q_0020_05052011 Q_0021_01132011 Q_0021_11052012 Q_0024_04152011 Q_0024_09212012 Q_0026_03232012 Q_0026_05032013 Q_0033_03192010 Q_0036_03302010 Q_0036_06212012 Q_0036_06282011 Q_0037_04202011 Q_0038_06042010 Q_0039_04132010 Q_0039_06012011 Q_0040_05142010 Q_0040_06272011 Q_0041_09262012 Q_0045_07132010 Q_0045_08302011 Q_0045_10052012 Q_0051_01302012 Q_0052_07302010 Q_0053_08022010 Q_0053_12212012 Q_0054_08062010 Q_0056_08252010 Q_0056_09102012 Q_0059_08032011 Q_0062_11302011 Q_0076_10212010 Q_0077_02292012 Q_0077_03112013 Q_0077_10252010 Q_0078_11102011 Q_0080_11222010 Q_0081_11242010 Q_0082_01062012 Q_0082_01112013 Q_0082_12162010 Q_0085_02242012 Q_0091_03052012 Q_0091_03072011 Q_0092_03102011 Q_0093_03082011 Q_0093_03122012 Q_0093_03122013 Q_0098_04012011 Q_0099_04012011 Q_0100_04082011 Q_0101_01032013 Q_0101_04122011 Q_0102_01032013 Q_0102_04122011 Q_0103_04182011 Q_0103_08272012 Q_0105_05022011 Q_0109_05262011 Q_0112_11142012 Q_0114_11092012 Q_0117_07062011 Q_0117_08312012 Q_0118_07072011 Q_0124_07292011 Q_0124_09172012 Q_0126_08012011 Q_0127_03052013 Q_0127_08012014 Q_0127_08082011 Q_0130_08132012 Q_0130_08162011 Q_0130_11042014 Q_0132_08222011 Q_0135_09012011 Q_0141_10072013 Q_0141_10092012 Q_0146_11082012 Q_0146_12072011 Q_0147_08112015 Q_0147_08142014 Q_0147_12122011 Q_0149_11192012 Q_0149_12192011 Q_0150_11192012 Q_0150_12202011 Q_0151_01122012 Q_0153_01202012 Q_0156_01312012 Q_0156_12102013 Q_0157_01312012 Q_0159_02122013 Q_0161_03012012 Q_0161_04192013 Q_0162_03202012 Q_0163_03262012 Q_0166_01092014 Q_0166_04052012 Q_0168_04052012 Q_0169_04062012 Q_0170_04102012 Q_0170_11252014 Q_0171_04102012 Q_0171_11252014 Q_0172_04122012 Q_0172_04262013 Q_0173_04122012 Q_0173_04172014 Q_0173_04262013 Q_0174_04182012 Q_0174_04272015 Q_0176_04242012 Q_0176_05072013 Q_0177_05012012 Q_0178_05012012 Q_0182_05182012 Q_0184_05242012 Q_0185_05242012 Q_0186_04092015 Q_0188_05242012 Q_0189_05242012 Q_0190_06012012 Q_0190_08132013 Q_0196_06192015 Q_0196_06202012 Q_0196_09122013 Q_0200_04032015 Q_0200_08052013 Q_0213_08032012 Q_0215_08062012 Q_0215_08172015 Q_0216_08062012 Q_0216_08172015 Q_0217_01142014 Q_0217_02042015 Q_0217_08092012 Q_0219_08122014 Q_0219_08162012 Q_0219_09012015 Q_0222_08212012 Q_0223_08212012 Q_0227_10032012 Q_0228_01292014 Q_0228_09272012 Q_0229_10022012 Q_0232_12122012 Q_0234_03252014 Q_0234_12132012 Q_0236_03072013 Q_0238_03202013 Q_0238_08042014 Q_0238_11132015 Q_0240_03232015 Q_0240_03272013 Q_0240_06262014 Q_0242_03272013 Q_0242_05162016 Q_0244_09162013 Q_0244_09232014 Q_0246_09242013 Q_0252_12102013 Q_0255_10212014 Q_0260_06092014 Q_0260_10262015 Q_0266_08122014 Q_0268_10132014 Q_0269_10142014 Q_0277_12082014 Q_0284_03182015 Q_0285_03182015 Q_0286_03182015 Q_0287_03182015 Q_0291_04172015 Q_0307_10132015 Q_0310_11182015 Q_0311_12082015 Q_0315_01262016 Q_0321_03232016 Q_0322_03312016 Q_0326_04142016 Q_0327_04142016"
sdir=/u/project/cbearden/data/22q/qunex_studyfolder/sessions/
for sesh in $sessions; do 
# get boldn as the second field of session_hcp.txt line with "resting" skipping lines that don't start with [0-9] e.g. commented out
boldn=$(cat ${sdir}/${sesh}/session_hcp.txt  | grep "resting" | grep ^[0-9] | cut -d ":" -f 2 | xargs)
infile=${boldn}_Atlas_s_hpss_res-mVWM1d_lpss.dtseries.nii
echo ${sesh} ${infile}
/u/project/cbearden/data/scripts/tools/qunex_bin/hoffman_submit_qunex.sh \
--qunex_command="fc_compute_wrapper" \
--qunex_options="--sessionsfolder=/u/project/cbearden/data/22q/qunex_studyfolder/sessions/ \
--calculation=gbc \
--command=mFz:0 \
--runtype=individual \
--inputfiles=${infile} \
--inputpath=/images/functional/ \
--overwrite=no \
--extractdata=no \
--outname=resting_fc_gbc_s_hpss_res-mVWM1d_lpss \
--ignore=udvarsme \
--method=mean \
--mask=5" \
--scheduler_options="-l h_data=20G,h_rt=10:00:00,arch=intel*" \
--array="yes" \
--logdir="/u/project/cbearden/data/22q/qunex_studyfolder/processing/logs/manual" \
--sessions=${sesh}
done




###########
## Global Signal Topography (GBC in non-residualized data)
# no GSR, highpass
sessions="Q_0001_09242012 Q_0001_10152010 Q_0005_04182011 Q_0007_04012011 Q_0009_09292011 Q_0016_03292011 Q_0016_10082012 Q_0020_03262012 Q_0020_05052011 Q_0021_01132011 Q_0021_11052012 Q_0024_04152011 Q_0024_09212012 Q_0026_03232012 Q_0026_05032013 Q_0033_03192010 Q_0036_03302010 Q_0036_06212012 Q_0036_06282011 Q_0037_04202011 Q_0038_06042010 Q_0039_04132010 Q_0039_06012011 Q_0041_09262012 Q_0045_07132010 Q_0045_08302011 Q_0045_10052012 Q_0051_01302012 Q_0052_07302010 Q_0053_08022010 Q_0053_12212012 Q_0054_08062010 Q_0056_08252010 Q_0056_09102012 Q_0059_08032011 Q_0062_11302011 Q_0076_10212010 Q_0077_02292012 Q_0077_03112013 Q_0077_10252010 Q_0078_11102011 Q_0080_11222010 Q_0081_11242010 Q_0082_01062012 Q_0082_01112013 Q_0082_12162010 Q_0085_02242012 Q_0091_03052012 Q_0091_03072011 Q_0092_03102011 Q_0093_03082011 Q_0093_03122012 Q_0093_03122013 Q_0098_04012011 Q_0099_04012011 Q_0100_04082011 Q_0101_01032013 Q_0101_04122011 Q_0102_01032013 Q_0102_04122011 Q_0103_04182011 Q_0103_08272012 Q_0105_05022011 Q_0109_05262011 Q_0112_11142012 Q_0114_11092012 Q_0117_07062011 Q_0117_08312012 Q_0118_07072011 Q_0124_07292011 Q_0124_09172012 Q_0127_03052013 Q_0127_08012014 Q_0127_08082011 Q_0130_08132012 Q_0130_08162011 Q_0130_11042014 Q_0132_08222011 Q_0135_09012011 Q_0141_10072013 Q_0141_10092012 Q_0146_11082012 Q_0146_12072011 Q_0147_08112015 Q_0147_08142014 Q_0147_12122011 Q_0149_11192012 Q_0149_12192011 Q_0150_11192012 Q_0150_12202011 Q_0151_01122012 Q_0153_01202012 Q_0156_01312012 Q_0156_12102013 Q_0157_01312012 Q_0159_02122013 Q_0161_03012012 Q_0161_04192013 Q_0162_03202012 Q_0163_03262012 Q_0166_01092014 Q_0166_04052012 Q_0168_04052012 Q_0169_04062012 Q_0170_04102012 Q_0170_11252014 Q_0171_04102012 Q_0171_11252014 Q_0172_04122012 Q_0172_04262013 Q_0173_04122012 Q_0173_04172014 Q_0173_04262013 Q_0174_04182012 Q_0174_04272015 Q_0176_04242012 Q_0176_05072013 Q_0177_05012012 Q_0178_05012012 Q_0182_05182012 Q_0184_05242012 Q_0185_05242012 Q_0186_04092015 Q_0188_05242012 Q_0189_05242012 Q_0190_06012012 Q_0190_08132013 Q_0196_06192015 Q_0196_06202012 Q_0196_09122013 Q_0200_04032015 Q_0200_08052013 Q_0213_08032012 Q_0215_08062012 Q_0215_08172015 Q_0216_08062012 Q_0216_08172015 Q_0217_01142014 Q_0217_02042015 Q_0217_08092012 Q_0219_08122014 Q_0219_08162012 Q_0219_09012015 Q_0222_08212012 Q_0223_08212012 Q_0227_10032012 Q_0228_01292014 Q_0228_09272012 Q_0229_10022012 Q_0232_12122012 Q_0234_03252014 Q_0234_12132012 Q_0236_03072013 Q_0238_03202013 Q_0238_08042014 Q_0238_11132015 Q_0240_03232015 Q_0240_03272013 Q_0240_06262014 Q_0242_03272013 Q_0242_05162016 Q_0244_09162013 Q_0244_09232014 Q_0246_09242013 Q_0252_12102013 Q_0255_10212014 Q_0260_06092014 Q_0260_10262015 Q_0266_08122014 Q_0268_10132014 Q_0269_10142014 Q_0277_12082014 Q_0284_03182015 Q_0285_03182015 Q_0286_03182015 Q_0291_04172015 Q_0307_10132015 Q_0310_11182015 Q_0311_12082015 Q_0315_01262016 Q_0321_03232016 Q_0322_03312016 Q_0326_04142016 Q_0327_04142016"
sdir=/u/project/cbearden/data/22q/qunex_studyfolder/sessions/
for sesh in $sessions; do 
# get boldn as the second field of session_hcp.txt line with "resting" skipping lines that don't start with [0-9] e.g. commented out
boldn=$(cat ${sdir}/${sesh}/session_hcp.txt  | grep "resting" | grep ^[0-9] | cut -d ":" -f 2 | xargs)
infile=${boldn}_Atlas_s_hpss.dtseries.nii
echo ${sesh} ${infile}
/u/project/cbearden/data/scripts/tools/qunex_bin/hoffman_submit_qunex.sh \
--qunex_command="fc_compute_wrapper" \
--qunex_options="--sessionsfolder=/u/project/cbearden/data/22q/qunex_studyfolder/sessions/ \
--calculation=gbc \
--command=mFz:0 \
--runtype=individual \
--inputfiles=${infile} \
--inputpath=/images/functional/ \
--overwrite=no \
--extractdata=no \
--outname=resting_fc_gbc_s_hpss \
--ignore=udvarsme \
--method=mean \
--mask=5" \
--scheduler_options="-l h_data=20G,h_rt=10:00:00,arch=intel*" \
--array="yes" \
--logdir="/u/project/cbearden/data/22q/qunex_studyfolder/processing/logs/manual" \
--sessions=${sesh}
done



# GSR, highpass
sessions="Q_0001_09242012 Q_0001_10152010 Q_0005_04182011 Q_0007_04012011 Q_0009_09292011 Q_0016_03292011 Q_0016_10082012 Q_0020_03262012 Q_0020_05052011 Q_0021_01132011 Q_0021_11052012 Q_0024_04152011 Q_0024_09212012 Q_0026_03232012 Q_0026_05032013 Q_0033_03192010 Q_0036_03302010 Q_0036_06212012 Q_0036_06282011 Q_0037_04202011 Q_0038_06042010 Q_0039_04132010 Q_0039_06012011 Q_0041_09262012 Q_0045_07132010 Q_0045_08302011 Q_0045_10052012 Q_0051_01302012 Q_0052_07302010 Q_0053_08022010 Q_0053_12212012 Q_0054_08062010 Q_0056_08252010 Q_0056_09102012 Q_0059_08032011 Q_0062_11302011 Q_0076_10212010 Q_0077_02292012 Q_0077_03112013 Q_0077_10252010 Q_0078_11102011 Q_0080_11222010 Q_0081_11242010 Q_0082_01062012 Q_0082_01112013 Q_0082_12162010 Q_0085_02242012 Q_0091_03052012 Q_0091_03072011 Q_0092_03102011 Q_0093_03082011 Q_0093_03122012 Q_0093_03122013 Q_0098_04012011 Q_0099_04012011 Q_0100_04082011 Q_0101_01032013 Q_0101_04122011 Q_0102_01032013 Q_0102_04122011 Q_0103_04182011 Q_0103_08272012 Q_0105_05022011 Q_0109_05262011 Q_0112_11142012 Q_0114_11092012 Q_0117_07062011 Q_0117_08312012 Q_0118_07072011 Q_0124_07292011 Q_0124_09172012 Q_0127_03052013 Q_0127_08012014 Q_0127_08082011 Q_0130_08132012 Q_0130_08162011 Q_0130_11042014 Q_0132_08222011 Q_0135_09012011 Q_0141_10072013 Q_0141_10092012 Q_0146_11082012 Q_0146_12072011 Q_0147_08112015 Q_0147_08142014 Q_0147_12122011 Q_0149_11192012 Q_0149_12192011 Q_0150_11192012 Q_0150_12202011 Q_0151_01122012 Q_0153_01202012 Q_0156_01312012 Q_0156_12102013 Q_0157_01312012 Q_0159_02122013 Q_0161_03012012 Q_0161_04192013 Q_0162_03202012 Q_0163_03262012 Q_0166_01092014 Q_0166_04052012 Q_0168_04052012 Q_0169_04062012 Q_0170_04102012 Q_0170_11252014 Q_0171_04102012 Q_0171_11252014 Q_0172_04122012 Q_0172_04262013 Q_0173_04122012 Q_0173_04172014 Q_0173_04262013 Q_0174_04182012 Q_0174_04272015 Q_0176_04242012 Q_0176_05072013 Q_0177_05012012 Q_0178_05012012 Q_0182_05182012 Q_0184_05242012 Q_0185_05242012 Q_0186_04092015 Q_0188_05242012 Q_0189_05242012 Q_0190_06012012 Q_0190_08132013 Q_0196_06192015 Q_0196_06202012 Q_0196_09122013 Q_0200_04032015 Q_0200_08052013 Q_0213_08032012 Q_0215_08062012 Q_0215_08172015 Q_0216_08062012 Q_0216_08172015 Q_0217_01142014 Q_0217_02042015 Q_0217_08092012 Q_0219_08122014 Q_0219_08162012 Q_0219_09012015 Q_0222_08212012 Q_0223_08212012 Q_0227_10032012 Q_0228_01292014 Q_0228_09272012 Q_0229_10022012 Q_0232_12122012 Q_0234_03252014 Q_0234_12132012 Q_0236_03072013 Q_0238_03202013 Q_0238_08042014 Q_0238_11132015 Q_0240_03232015 Q_0240_03272013 Q_0240_06262014 Q_0242_03272013 Q_0242_05162016 Q_0244_09162013 Q_0244_09232014 Q_0246_09242013 Q_0252_12102013 Q_0255_10212014 Q_0260_06092014 Q_0260_10262015 Q_0266_08122014 Q_0268_10132014 Q_0269_10142014 Q_0277_12082014 Q_0284_03182015 Q_0285_03182015 Q_0286_03182015 Q_0291_04172015 Q_0307_10132015 Q_0310_11182015 Q_0311_12082015 Q_0315_01262016 Q_0321_03232016 Q_0322_03312016 Q_0326_04142016 Q_0327_04142016"
sdir=/u/project/cbearden/data/22q/qunex_studyfolder/sessions/
for sesh in $sessions; do 
# get boldn as the second field of session_hcp.txt line with "resting" skipping lines that don't start with [0-9] e.g. commented out
boldn=$(cat ${sdir}/${sesh}/session_hcp.txt  | grep "resting" | grep ^[0-9] | cut -d ":" -f 2 | xargs)
infile=${boldn}_Atlas_s_hpss_res-mVWMWB1d.dtseries.nii
echo ${sesh} ${infile}
/u/project/cbearden/data/scripts/tools/qunex_bin/hoffman_submit_qunex.sh \
--qunex_command="fc_compute_wrapper" \
--qunex_options="--sessionsfolder=/u/project/cbearden/data/22q/qunex_studyfolder/sessions/ \
--calculation=gbc \
--command=mFz:0 \
--runtype=individual \
--inputfiles=${infile} \
--inputpath=/images/functional/ \
--overwrite=no \
--extractdata=no \
--outname=resting_fc_gbc_s_hpss_res-mVWMWB1d \
--ignore=udvarsme \
--method=mean \
--mask=5" \
--scheduler_options="-l h_data=62G,h_rt=10:00:00,arch=intel*" \
--array="yes" \
--logdir="/u/project/cbearden/data/22q/qunex_studyfolder/processing/logs/manual" \
--sessions=${sesh}
done


