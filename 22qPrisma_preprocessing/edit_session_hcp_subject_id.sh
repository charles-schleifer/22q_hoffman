#!/bin/sh
# C. Schleifer 2021
# edits session_hcp.txt files to include proper subject name

sessionfolder=/u/project/cbearden/data/22qPrisma/qunex_studyfolder/sessions
# n=116 sessions
sessions="Q_0005_11072017 Q_0017_10022017 Q_0019_03022020 Q_0030_05082018 Q_0036_08082017 Q_0036_08312018 Q_0036_09302019 Q_0037_08152017 Q_0041_10092017 Q_0051_02032017 Q_0105_03112020 Q_0105_12032018 Q_0114_12052017 Q_0138_01082018 Q_0141_06122018 Q_0141_08052019 Q_0147_12112017 Q_0147_12112018 Q_0196_01082020 Q_0213_05012017 Q_0214_05012017 Q_0217_01242017 Q_0217_02192020 Q_0235_05252017 Q_0238_02202018 Q_0240_09192017 Q_0240_11162018 Q_0246_10092018 Q_0246_10102017 Q_0260_06192017 Q_0260_06242019 Q_0260_06252018 Q_0263_02252019 Q_0263_02262018 Q_0277_12132016 Q_0278_11292017 Q_0278_12052019 Q_0278_12132016 Q_0279_11302017 Q_0279_12052019 Q_0279_12132016 Q_0285_03212017 Q_0285_06062018 Q_0286_03212017 Q_0287_06062018 Q_0288_06062018 Q_0289_03212017 Q_0289_06062018 Q_0291_11302018 Q_0304_12202016 Q_0310_01252018 Q_0310_02132017 Q_0310_04292019 Q_0319_03192018 Q_0319_03282017 Q_0321_03192018 Q_0321_03272017 Q_0324_04182018 Q_0326_10202017 Q_0326_12062018 Q_0327_10192017 Q_0327_12072018 Q_0331_06102019 Q_0331_06212018 Q_0331_06272017 Q_0333_04142017 Q_0334_12012016 Q_0336_01102017 Q_0345_04122017 Q_0345_08152018 Q_0345_09112019 Q_0346_04102017 Q_0346_04102018 Q_0348_04212017 Q_0348_08152018 Q_0350_04192017 Q_0350_09142018 Q_0353_04182018 Q_0353_05022017 Q_0355_05312018 Q_0356_05312018 Q_0361_10212019 Q_0361_11202018 Q_0369_04182018 Q_0369_06182019 Q_0371_08042020 Q_0374_05252018 Q_0381_08072018 Q_0381_09102019 Q_0382_08282018 Q_0383_08282018 Q_0387_08242018 Q_0387_12032019 Q_0390_09042018 Q_0390_09302019 Q_0391_09252018 Q_0395_11062018 Q_0395_11062018_18 Q_0395_11062018_2 Q_0397_10172019 Q_0402_01112019 Q_0404_03112019 Q_0407_06122019 Q_0408_05172019 Q_0414_07172019 Q_0415_07292019 Q_0416_07292019 Q_0419_08132019 Q_0425_11052019 Q_0429_01092020 Q_0432_02142020 Q_0433_02262020 Q_0443_06282021 Q_0446_06152021 Q_0459_08192021 Q_0461_09112021"

# get subject id and replace subject: in session_hcp.txt
for session in $sessions;do
	subject="Q_$(echo ${session} | cut -d "_" -f 2)"
	sed -i "/subject/c subject: ${subject}" ${sessionfolder}/${session}/session_hcp.txt
	cat ${sessionfolder}/${session}/session_hcp.txt
	echo "---"
done

